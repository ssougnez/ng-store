(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[179],{661:(Re,un,P)=>{"use strict";function O(e){return"function"==typeof e}function Ce(e){const n=e(o=>{Error.call(o),o.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Ve=Ce(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((o,r)=>`${r+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function et(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class A{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:o}=this;if(O(o))try{o()}catch(i){t=i instanceof Ve?i.errors:[i]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const i of r)try{_n(i)}catch(s){t=t??[],s instanceof Ve?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Ve(t)}}add(t){var n;if(t&&t!==this)if(this.closed)_n(t);else{if(t instanceof A){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&et(n,t)}remove(t){const{_finalizers:n}=this;n&&et(n,t),t instanceof A&&t._removeParent(this)}}A.EMPTY=(()=>{const e=new A;return e.closed=!0,e})();const Le=A.EMPTY;function cn(e){return e instanceof A||e&&"closed"in e&&O(e.remove)&&O(e.add)&&O(e.unsubscribe)}function _n(e){O(e)?e():e.unsubscribe()}const it={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Et={setTimeout(e,t,...n){const{delegate:o}=Et;return o?.setTimeout?o.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Et;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Vn(e){Et.setTimeout(()=>{const{onUnhandledError:t}=it;if(!t)throw e;t(e)})}function En(){}const Ie=w("C",void 0,void 0);function w(e,t,n){return{kind:e,value:t,error:n}}let v=null;function I(e){if(it.useDeprecatedSynchronousErrorHandling){const t=!v;if(t&&(v={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:o}=v;if(v=null,n)throw o}}else e()}class S extends A{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,cn(t)&&t.add(this)):this.destination=Sr}static create(t,n,o){return new se(t,n,o)}next(t){this.isStopped?$n(function Se(e){return w("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?$n(function ae(e){return w("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?$n(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const L=Function.prototype.bind;function Q(e,t){return L.call(e,t)}class R{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(o){we(o)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(o){we(o)}else we(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){we(n)}}}class se extends S{constructor(t,n,o){let r;if(super(),O(t)||!t)r={next:t??void 0,error:n??void 0,complete:o??void 0};else{let i;this&&it.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&Q(t.next,i),error:t.error&&Q(t.error,i),complete:t.complete&&Q(t.complete,i)}):r=t}this.destination=new R(r)}}function we(e){it.useDeprecatedSynchronousErrorHandling?function M(e){it.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=e)}(e):Vn(e)}function $n(e,t){const{onStoppedNotification:n}=it;n&&Et.setTimeout(()=>n(e,t))}const Sr={closed:!0,next:En,error:function Ot(e){throw e},complete:En},xo="function"==typeof Symbol&&Symbol.observable||"@@observable";function Po(e){return e}let de=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const o=new e;return o.source=this,o.operator=n,o}subscribe(n,o,r){const i=function st(e){return e&&e instanceof S||function Hn(e){return e&&O(e.next)&&O(e.error)&&O(e.complete)}(e)&&cn(e)}(n)?n:new se(n,o,r);return I(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(o){n.error(o)}}forEach(n,o){return new(o=qt(o))((r,i)=>{const s=new se({next:a=>{try{n(a)}catch(l){i(l),s.unsubscribe()}},error:i,complete:r});this.subscribe(s)})}_subscribe(n){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(n)}[xo](){return this}pipe(...n){return function xe(e){return 0===e.length?Po:1===e.length?e[0]:function(n){return e.reduce((o,r)=>r(o),n)}}(n)(this)}toPromise(n){return new(n=qt(n))((o,r)=>{let i;this.subscribe(s=>i=s,s=>r(s),()=>o(i))})}}return e.create=t=>new e(t),e})();function qt(e){var t;return null!==(t=e??it.Promise)&&void 0!==t?t:Promise}const Ji=Ce(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ht=(()=>{class e extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const o=new dn(this,this);return o.operator=n,o}_throwIfClosed(){if(this.closed)throw new Ji}next(n){I(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const o of this.currentObservers)o.next(n)}})}error(n){I(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:o}=this;for(;o.length;)o.shift().error(n)}})}complete(){I(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:o,isStopped:r,observers:i}=this;return o||r?Le:(this.currentObservers=null,i.push(n),new A(()=>{this.currentObservers=null,et(i,n)}))}_checkFinalizedStatuses(n){const{hasError:o,thrownError:r,isStopped:i}=this;o?n.error(r):i&&n.complete()}asObservable(){const n=new de;return n.source=this,n}}return e.create=(t,n)=>new dn(t,n),e})();class dn extends ht{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,o;null===(o=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===o||o.call(n,t)}error(t){var n,o;null===(o=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===o||o.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,o;return null!==(o=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==o?o:Le}}function Ct(e){return t=>{if(function Un(e){return O(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function Wt(e,t,n,o,r){return new Mr(e,t,n,o,r)}class Mr extends S{constructor(t,n,o,r,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Cn(e,t){return Ct((n,o)=>{let r=0;n.subscribe(Wt(o,i=>{o.next(e.call(t,i,r++))}))})}function In(e){return this instanceof In?(this.v=e,this):new In(e)}function Zg(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(g){o[g]&&(r[g]=function(m){return new Promise(function(y,D){i.push([g,m,y,D])>1||a(g,m)})})}function a(g,m){try{!function l(g){g.value instanceof In?Promise.resolve(g.value.v).then(c,p):h(i[0][2],g)}(o[g](m))}catch(y){h(i[0][3],y)}}function c(g){a("next",g)}function p(g){a("throw",g)}function h(g,m){g(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Qg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function lu(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=e[i]&&function(s){return new Promise(function(a,l){!function r(i,s,a,l){Promise.resolve(l).then(function(c){i({value:c,done:a})},s)}(a,l,(s=e[i](s)).done,s.value)})}}}const Xi=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function uu(e){return O(e?.then)}function cu(e){return O(e[xo])}function du(e){return Symbol.asyncIterator&&O(e?.[Symbol.asyncIterator])}function fu(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const pu=function Xg(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hu(e){return O(e?.[pu])}function gu(e){return Zg(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:o,done:r}=yield In(n.read());if(r)return yield In(void 0);yield yield In(o)}}finally{n.releaseLock()}})}function mu(e){return O(e?.getReader)}function pn(e){if(e instanceof de)return e;if(null!=e){if(cu(e))return function em(e){return new de(t=>{const n=e[xo]();if(O(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Xi(e))return function tm(e){return new de(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(uu(e))return function nm(e){return new de(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Vn)})}(e);if(du(e))return yu(e);if(hu(e))return function om(e){return new de(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(mu(e))return function rm(e){return yu(gu(e))}(e)}throw fu(e)}function yu(e){return new de(t=>{(function im(e,t){var n,o,r,i;return function Yg(e,t,n,o){return new(n||(n=Promise))(function(i,s){function a(p){try{c(o.next(p))}catch(h){s(h)}}function l(p){try{c(o.throw(p))}catch(h){s(h)}}function c(p){p.done?i(p.value):function r(i){return i instanceof n?i:new n(function(s){s(i)})}(p.value).then(a,l)}c((o=o.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Qg(e);!(o=yield n.next()).done;)if(t.next(o.value),t.closed)return}catch(s){r={error:s}}finally{try{o&&!o.done&&(i=n.return)&&(yield i.call(n))}finally{if(r)throw r.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function hn(e,t,n,o=0,r=!1){const i=t.schedule(function(){n(),r?e.add(this.schedule(null,o)):this.unsubscribe()},o);if(e.add(i),!r)return i}function es(e,t,n=1/0){return O(t)?es((o,r)=>Cn((i,s)=>t(o,i,r,s))(pn(e(o,r))),n):("number"==typeof t&&(n=t),Ct((o,r)=>function sm(e,t,n,o,r,i,s,a){const l=[];let c=0,p=0,h=!1;const g=()=>{h&&!l.length&&!c&&t.complete()},m=D=>c<o?y(D):l.push(D),y=D=>{i&&t.next(D),c++;let E=!1;pn(n(D,p++)).subscribe(Wt(t,C=>{r?.(C),i?m(C):t.next(C)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;l.length&&c<o;){const C=l.shift();s?hn(t,s,()=>y(C)):y(C)}g()}catch(C){t.error(C)}}))};return e.subscribe(Wt(t,m,()=>{h=!0,g()})),()=>{a?.()}}(o,r,e,n)))}const vu=new de(e=>e.complete());function ts(e){return e[e.length-1]}function Du(e,t=0){return Ct((n,o)=>{n.subscribe(Wt(o,r=>hn(o,e,()=>o.next(r),t),()=>hn(o,e,()=>o.complete(),t),r=>hn(o,e,()=>o.error(r),t)))})}function wu(e,t=0){return Ct((n,o)=>{o.add(e.schedule(()=>n.subscribe(o),t))})}function bu(e,t){if(!e)throw new Error("Iterable cannot be null");return new de(n=>{hn(n,t,()=>{const o=e[Symbol.asyncIterator]();hn(n,t,()=>{o.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Dm(...e){const t=function cm(e){return function um(e){return e&&O(e.schedule)}(ts(e))?e.pop():void 0}(e),n=function dm(e,t){return"number"==typeof ts(e)?e.pop():t}(e,1/0),o=e;return o.length?1===o.length?pn(o[0]):function am(e=1/0){return es(Po,e)}(n)(function vm(e,t){return t?function ym(e,t){if(null!=e){if(cu(e))return function fm(e,t){return pn(e).pipe(wu(t),Du(t))}(e,t);if(Xi(e))return function hm(e,t){return new de(n=>{let o=0;return t.schedule(function(){o===e.length?n.complete():(n.next(e[o++]),n.closed||this.schedule())})})}(e,t);if(uu(e))return function pm(e,t){return pn(e).pipe(wu(t),Du(t))}(e,t);if(du(e))return bu(e,t);if(hu(e))return function gm(e,t){return new de(n=>{let o;return hn(n,t,()=>{o=e[pu](),hn(n,t,()=>{let r,i;try{({value:r,done:i}=o.next())}catch(s){return void n.error(s)}i?n.complete():n.next(r)},0,!0)}),()=>O(o?.return)&&o.return()})}(e,t);if(mu(e))return function mm(e,t){return bu(gu(e),t)}(e,t)}throw fu(e)}(e,t):pn(e)}(o,t)):vu}function ns(e,t,...n){if(!0===t)return void e();if(!1===t)return;const o=new se({next:()=>{o.unsubscribe(),e()}});return t(...n).subscribe(o)}function le(e){for(let t in e)if(e[t]===le)return t;throw Error("Could not find renamed property on target object.")}function ue(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ue).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function rs(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const bm=le({__forward_ref__:le});function is(e){return e.__forward_ref__=is,e.toString=function(){return ue(this())},e}function j(e){return function ss(e){return"function"==typeof e&&e.hasOwnProperty(bm)&&e.__forward_ref__===is}(e)?e():e}function as(e){return e&&!!e.\u0275providers}class N extends Error{constructor(t,n){super(function Tr(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function U(e){return"string"==typeof e?e:null==e?"":String(e)}function Ar(e,t){throw new N(-201,!1)}function gt(e,t){null==e&&function oe(e,t,n,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${n} ${o} ${t} <=Actual]`))}(t,e,null,"!=")}function ge(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function kr(e){return Eu(e,xr)||Eu(e,Iu)}function Eu(e,t){return e.hasOwnProperty(t)?e[t]:null}function Cu(e){return e&&(e.hasOwnProperty(us)||e.hasOwnProperty(Am))?e[us]:null}const xr=le({\u0275prov:le}),us=le({\u0275inj:le}),Iu=le({ngInjectableDef:le}),Am=le({ngInjectorDef:le});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let cs;function mt(e){const t=cs;return cs=e,t}function Su(e,t,n){const o=kr(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:n&H.Optional?null:void 0!==t?t:void Ar(ue(e))}const fe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Fo={},Pr="ngTempTokenPath",Pm=/\n/gm,Mu="__source";let No;function Gn(e){const t=No;return No=e,t}function Nm(e,t=H.Default){if(void 0===No)throw new N(-203,!1);return null===No?Su(e,void 0,t):No.get(e,t&H.Optional?null:void 0,t)}function ie(e,t=H.Default){return(function km(){return cs}()||Nm)(j(e),t)}function Fr(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function fs(e){const t=[];for(let n=0;n<e.length;n++){const o=j(e[n]);if(Array.isArray(o)){if(0===o.length)throw new N(900,!1);let r,i=H.Default;for(let s=0;s<o.length;s++){const a=o[s],l=Rm(a);"number"==typeof l?-1===l?r=a.token:i|=l:r=a}t.push(ie(r,i))}else t.push(ie(o))}return t}function Rm(e){return e.__NG_DI_FLAG__}var It=(()=>((It=It||{})[It.OnPush=0]="OnPush",It[It.Default=1]="Default",It))(),Rt=(()=>{return(e=Rt||(Rt={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Rt;var e})();const Yt={},te=[],Nr=le({\u0275cmp:le}),ps=le({\u0275dir:le}),hs=le({\u0275pipe:le}),Kt=le({\u0275fac:le}),Ro=le({__NG_ELEMENT_ID__:le});let jm=0;function Or(e){return function mn(e){return{toString:e}.toString()}(()=>{const n=!0===e.standalone,o={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===It.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||te,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Rt.Emulated,id:"c"+jm++,styles:e.styles||te,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},i=e.dependencies,s=e.features;return r.inputs=Fu(e.inputs,o),r.outputs=Fu(e.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(ku).filter(xu):null,r.pipeDefs=i?()=>("function"==typeof i?i():i).map(Ye).filter(xu):null,r})}function ku(e){return re(e)||$e(e)}function xu(e){return null!==e}function Fu(e,t){if(null==e)return Yt;const n={};for(const o in e)if(e.hasOwnProperty(o)){let r=e[o],i=r;Array.isArray(r)&&(i=r[1],r=r[0]),n[r]=o,t&&(t[r]=i)}return n}const yt=Or;function tt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function re(e){return e[Nr]||null}function $e(e){return e[ps]||null}function Ye(e){return e[hs]||null}const Y=11;function ut(e){return Array.isArray(e)&&"object"==typeof e[1]}function Mt(e){return Array.isArray(e)&&!0===e[1]}function ys(e){return 0!=(4&e.flags)}function $o(e){return e.componentOffset>-1}function Vr(e){return 1==(1&e.flags)}function Tt(e){return null!==e.template}function Hm(e){return 0!=(256&e[2])}function Mn(e,t){return e.hasOwnProperty(Kt)?e[Kt]:null}class Gm{constructor(t,n,o){this.previousValue=t,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}}function ju(e){return e.type.prototype.ngOnChanges&&(e.setInput=Wm),qm}function qm(){const e=$u(this),t=e?.current;if(t){const n=e.previous;if(n===Yt)e.previous=t;else for(let o in t)n[o]=t[o];e.current=null,this.ngOnChanges(t)}}function Wm(e,t,n,o){const r=this.declaredInputs[n],i=$u(e)||function Ym(e,t){return e[Vu]=t}(e,{previous:Yt,current:null}),s=i.current||(i.current={}),a=i.previous,l=a[r];s[r]=new Gm(l&&l.currentValue,t,a===Yt),e[o]=t}const Vu="__ngSimpleChanges__";function $u(e){return e[Vu]||null}function Be(e){for(;Array.isArray(e);)e=e[0];return e}function ct(e,t){return Be(t[e.index])}function zu(e,t){return e.data[t]}function dt(e,t){const n=t[e];return ut(n)?n:n[0]}function Ur(e){return 64==(64&e[2])}function yn(e,t){return null==t?null:e[t]}function Gu(e){e[18]=0}function Ds(e,t){e[5]+=t;let n=e,o=e[3];for(;null!==o&&(1===t&&1===n[5]||-1===t&&0===n[5]);)o[5]+=t,n=o,o=o[3]}const z={lFrame:oc(null),bindingsEnabled:!0};function Wu(){return z.bindingsEnabled}function _(){return z.lFrame.lView}function ee(){return z.lFrame.tView}function je(){let e=Zu();for(;null!==e&&64===e.type;)e=e.parent;return e}function Zu(){return z.lFrame.currentTNode}function Bt(e,t){const n=z.lFrame;n.currentTNode=e,n.isParent=t}function ws(){return z.lFrame.isParent}function Qt(){return z.lFrame.bindingIndex}function Ju(e){return z.lFrame.bindingIndex=e}function Qn(){return z.lFrame.bindingIndex++}function Jt(e){const t=z.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ay(e,t){const n=z.lFrame;n.bindingIndex=n.bindingRootIndex=e,_s(t)}function _s(e){z.lFrame.currentDirectiveIndex=e}function Cs(e){z.lFrame.currentQueryIndex=e}function uy(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function tc(e,t,n){if(n&H.SkipSelf){let r=t,i=e;for(;!(r=r.parent,null!==r||n&H.Host||(r=uy(i),null===r||(i=i[15],10&r.type))););if(null===r)return!1;t=r,e=i}const o=z.lFrame=nc();return o.currentTNode=t,o.lView=e,!0}function Is(e){const t=nc(),n=e[1];z.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function nc(){const e=z.lFrame,t=null===e?null:e.child;return null===t?oc(e):t}function oc(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function rc(){const e=z.lFrame;return z.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ic=rc;function Ss(){const e=rc();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Qe(){return z.lFrame.selectedIndex}function Tn(e){z.lFrame.selectedIndex=e}function zr(e,t){for(let n=t.directiveStart,o=t.directiveEnd;n<o;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:p}=i;s&&(e.contentHooks||(e.contentHooks=[])).push(-n,s),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),l&&(e.viewHooks||(e.viewHooks=[])).push(-n,l),c&&((e.viewHooks||(e.viewHooks=[])).push(n,c),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,c)),null!=p&&(e.destroyHooks||(e.destroyHooks=[])).push(n,p)}}function Gr(e,t,n){sc(e,t,3,n)}function qr(e,t,n,o){(3&e[2])===n&&sc(e,t,n,o)}function Ms(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function sc(e,t,n,o){const i=o??-1,s=t.length-1;let a=0;for(let l=void 0!==o?65535&e[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=o&&a>=o)break}else t[l]<0&&(e[18]+=65536),(a<i||-1==i)&&(vy(e,n,t,l),e[18]=(4294901760&e[18])+l+2),l++}function vy(e,t,n,o){const r=n[o]<0,i=n[o+1],a=e[r?-n[o]:n[o]];if(r){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class Uo{constructor(t,n,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=o}}function As(e,t,n){let o=0;for(;o<n.length;){const r=n[o];if("number"==typeof r){if(0!==r)break;o++;const i=n[o++],s=n[o++],a=n[o++];e.setAttribute(t,s,a,i)}else{const i=r,s=n[++o];lc(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),o++}}return o}function ac(e){return 3===e||4===e||6===e}function lc(e){return 64===e.charCodeAt(0)}function zo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let o=0;o<t.length;o++){const r=t[o];"number"==typeof r?n=r:0===n||uc(e,n,r,null,-1===n||2===n?t[++o]:null)}}return e}function uc(e,t,n,o,r){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===n){if(null===o)return void(null!==r&&(e[i+1]=r));if(o===e[i+1])return void(e[i+2]=r)}i++,null!==o&&i++,null!==r&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),null!==o&&e.splice(i++,0,o),null!==r&&e.splice(i++,0,r)}function cc(e){return-1!==e}function Wr(e){return 32767&e}function Yr(e,t){let n=function _y(e){return e>>16}(e),o=t;for(;n>0;)o=o[15],n--;return o}let ks=!0;function Kr(e){const t=ks;return ks=e,t}let Ey=0;const jt={};function Zr(e,t){const n=pc(e,t);if(-1!==n)return n;const o=t[1];o.firstCreatePass&&(e.injectorIndex=t.length,xs(o.data,e),xs(t,null),xs(o.blueprint,null));const r=Ps(e,t),i=e.injectorIndex;if(cc(r)){const s=Wr(r),a=Yr(r,t),l=a[1].data;for(let c=0;c<8;c++)t[i+c]=a[s+c]|l[s+c]}return t[i+8]=r,i}function xs(e,t){e.push(0,0,0,0,0,0,0,0,t)}function pc(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ps(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,o=null,r=t;for(;null!==r;){if(o=wc(r),null===o)return-1;if(n++,r=r[15],-1!==o.injectorIndex)return o.injectorIndex|n<<16}return-1}function Fs(e,t,n){!function Cy(e,t,n){let o;"string"==typeof n?o=n.charCodeAt(0)||0:n.hasOwnProperty(Ro)&&(o=n[Ro]),null==o&&(o=n[Ro]=Ey++);const r=255&o;t.data[e+(r>>5)]|=1<<r}(e,t,n)}function hc(e,t,n){if(n&H.Optional||void 0!==e)return e;Ar()}function gc(e,t,n,o){if(n&H.Optional&&void 0===o&&(o=null),0==(n&(H.Self|H.Host))){const r=e[9],i=mt(void 0);try{return r?r.get(t,o,n&H.Optional):Su(t,o,n&H.Optional)}finally{mt(i)}}return hc(o,0,n)}function mc(e,t,n,o=H.Default,r){if(null!==e){if(1024&t[2]){const s=function ky(e,t,n,o,r){let i=e,s=t;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=yc(i,s,n,o|H.Self,jt);if(a!==jt)return a;let l=i.parent;if(!l){const c=s[21];if(c){const p=c.get(n,jt,o);if(p!==jt)return p}l=wc(s),s=s[15]}i=l}return r}(e,t,n,o,jt);if(s!==jt)return s}const i=yc(e,t,n,o,jt);if(i!==jt)return i}return gc(t,n,o,r)}function yc(e,t,n,o,r){const i=function My(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ro)?e[Ro]:void 0;return"number"==typeof t?t>=0?255&t:Ty:t}(n);if("function"==typeof i){if(!tc(t,e,o))return o&H.Host?hc(r,0,o):gc(t,n,o,r);try{const s=i(o);if(null!=s||o&H.Optional)return s;Ar()}finally{ic()}}else if("number"==typeof i){let s=null,a=pc(e,t),l=-1,c=o&H.Host?t[16][6]:null;for((-1===a||o&H.SkipSelf)&&(l=-1===a?Ps(e,t):t[a+8],-1!==l&&Dc(o,!1)?(s=t[1],a=Wr(l),t=Yr(l,t)):a=-1);-1!==a;){const p=t[1];if(vc(i,a,p.data)){const h=Sy(a,t,n,s,o,c);if(h!==jt)return h}l=t[a+8],-1!==l&&Dc(o,t[1].data[a+8]===c)&&vc(i,a,t)?(s=p,a=Wr(l),t=Yr(l,t)):a=-1}}return r}function Sy(e,t,n,o,r,i){const s=t[1],a=s.data[e+8],p=function Qr(e,t,n,o,r){const i=e.providerIndexes,s=t.data,a=1048575&i,l=e.directiveStart,p=i>>20,g=r?a+p:e.directiveEnd;for(let m=o?a:a+p;m<g;m++){const y=s[m];if(m<l&&n===y||m>=l&&y.type===n)return m}if(r){const m=s[l];if(m&&Tt(m)&&m.type===n)return l}return null}(a,s,n,null==o?$o(a)&&ks:o!=s&&0!=(3&a.type),r&H.Host&&i===a);return null!==p?An(t,s,p,a):jt}function An(e,t,n,o){let r=e[n];const i=t.data;if(function Dy(e){return e instanceof Uo}(r)){const s=r;s.resolving&&function _m(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new N(-200,`Circular dependency in DI detected for ${e}${n}`)}(function ne(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():U(e)}(i[n]));const a=Kr(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?mt(s.injectImpl):null;tc(e,o,H.Default);try{r=e[n]=s.factory(void 0,i,e,o),t.firstCreatePass&&n>=o.directiveStart&&function yy(e,t,n){const{ngOnChanges:o,ngOnInit:r,ngDoCheck:i}=t.type.prototype;if(o){const s=ju(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i))}(n,i[n],t)}finally{null!==l&&mt(l),Kr(a),s.resolving=!1,ic()}}return r}function vc(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Dc(e,t){return!(e&H.Self||e&H.Host&&t)}class Xn{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,o){return mc(this._tNode,this._lView,t,Fr(o),n)}}function Ty(){return new Xn(je(),_())}function wc(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}class K{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ge({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function kn(e,t){e.forEach(n=>Array.isArray(n)?kn(n,t):t(n))}function _c(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Jr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var nt=(()=>((nt=nt||{})[nt.Important=1]="Important",nt[nt.DashCase=2]="DashCase",nt))();const zs=new Map;let nv=0;const qs="__ngContext__";function ze(e,t){ut(t)?(e[qs]=t[20],function rv(e){zs.set(e[20],e)}(t)):e[qs]=t}function Ys(e,t){return undefined(e,t)}function Qo(e){const t=e[3];return Mt(t)?t[3]:t}function Ks(e){return Uc(e[13])}function Zs(e){return Uc(e[4])}function Uc(e){for(;null!==e&&!Mt(e);)e=e[4];return e}function so(e,t,n,o,r){if(null!=o){let i,s=!1;Mt(o)?i=o:ut(o)&&(s=!0,o=o[0]);const a=Be(o);0===e&&null!==n?null==r?Kc(t,n,a):xn(t,n,a,r||null,!0):1===e&&null!==n?xn(t,n,a,r||null,!0):2===e?function oa(e,t,n){const o=ri(e,t);o&&function Cv(e,t,n,o){e.removeChild(t,n,o)}(e,o,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function Mv(e,t,n,o,r){const i=n[7];i!==Be(n)&&so(t,e,o,i,r);for(let a=10;a<n.length;a++){const l=n[a];Jo(l[1],l,e,t,o,i)}}(t,e,i,n,r)}}function Js(e,t,n){return e.createElement(t,n)}function Gc(e,t){const n=e[9],o=n.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,Ds(r,-1)),n.splice(o,1)}function Xs(e,t){if(e.length<=10)return;const n=10+t,o=e[n];if(o){const r=o[17];null!==r&&r!==e&&Gc(r,o),t>0&&(e[n-1][4]=o[4]);const i=Jr(e,10+t);!function mv(e,t){Jo(e,t,t[Y],2,null,null),t[0]=null,t[6]=null}(o[1],o);const s=i[19];null!==s&&s.detachView(i[1]),o[3]=null,o[4]=null,o[2]&=-65}return o}function qc(e,t){if(!(128&t[2])){const n=t[Y];n.destroyNode&&Jo(e,t,n,3,null,null),function Dv(e){let t=e[13];if(!t)return ea(e[1],e);for(;t;){let n=null;if(ut(t))n=t[13];else{const o=t[10];o&&(n=o)}if(!n){for(;t&&!t[4]&&t!==e;)ut(t)&&ea(t[1],t),t=t[3];null===t&&(t=e),ut(t)&&ea(t[1],t),n=t&&t[4]}t=n}}(t)}}function ea(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function Ev(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let o=0;o<n.length;o+=2){const r=t[n[o]];if(!(r instanceof Uo)){const i=n[o+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=r[i[s]],l=i[s+1];try{l.call(a)}finally{}}else try{i.call(r)}finally{}}}}(e,t),function _v(e,t){const n=e.cleanup,o=t[7];let r=-1;if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const s=n[i+3];s>=0?o[r=s]():o[r=-s].unsubscribe(),i+=2}else{const s=o[r=n[i+1]];n[i].call(s)}if(null!==o){for(let i=r+1;i<o.length;i++)(0,o[i])();t[7]=null}}(e,t),1===t[1].type&&t[Y].destroy();const n=t[17];if(null!==n&&Mt(t[3])){n!==t[3]&&Gc(n,t);const o=t[19];null!==o&&o.detachView(e)}!function iv(e){zs.delete(e[20])}(t)}}function Wc(e,t,n){return function Yc(e,t,n){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return n[0];{const{componentOffset:r}=o;if(r>-1){const{encapsulation:i}=e.data[o.directiveStart+r];if(i===Rt.None||i===Rt.Emulated)return null}return ct(o,n)}}(e,t.parent,n)}function xn(e,t,n,o,r){e.insertBefore(t,n,o,r)}function Kc(e,t,n){e.appendChild(t,n)}function Zc(e,t,n,o,r){null!==o?xn(e,t,n,o,r):Kc(e,t,n)}function ri(e,t){return e.parentNode(t)}let sa,Xc=function Jc(e,t,n){return 40&e.type?ct(e,n):null};function ii(e,t,n,o){const r=Wc(e,o,t),i=t[Y],a=function Qc(e,t,n){return Xc(e,t,n)}(o.parent||t[6],o,t);if(null!=r)if(Array.isArray(n))for(let l=0;l<n.length;l++)Zc(i,r,n[l],a,!1);else Zc(i,r,n,a,!1)}function si(e,t){if(null!==t){const n=t.type;if(3&n)return ct(t,e);if(4&n)return na(-1,e[t.index]);if(8&n){const o=t.child;if(null!==o)return si(e,o);{const r=e[t.index];return Mt(r)?na(-1,r):Be(r)}}if(32&n)return Ys(t,e)()||Be(e[t.index]);{const o=td(e,t);return null!==o?Array.isArray(o)?o[0]:si(Qo(e[16]),o):si(e,t.next)}}return null}function td(e,t){return null!==t?e[16][6].projection[t.projection]:null}function na(e,t){const n=10+e+1;if(n<t.length){const o=t[n],r=o[1].firstChild;if(null!==r)return si(o,r)}return t[7]}function ra(e,t,n,o,r,i,s){for(;null!=n;){const a=o[n.index],l=n.type;if(s&&0===t&&(a&&ze(Be(a),o),n.flags|=2),32!=(32&n.flags))if(8&l)ra(e,t,n.child,o,r,i,!1),so(t,e,r,a,i);else if(32&l){const c=Ys(n,o);let p;for(;p=c();)so(t,e,r,p,i);so(t,e,r,a,i)}else 16&l?nd(e,t,o,n,r,i):so(t,e,r,a,i);n=s?n.projectionNext:n.next}}function Jo(e,t,n,o,r,i){ra(n,o,e.firstChild,t,r,i,!1)}function nd(e,t,n,o,r,i){const s=n[16],l=s[6].projection[o.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)so(t,e,r,l[c],i);else ra(e,t,l,s[3],r,i,!0)}function od(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function rd(e,t,n){const{mergedAttrs:o,classes:r,styles:i}=n;null!==o&&As(e,t,o),null!==r&&od(e,t,r),null!==i&&function Av(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}const vd=new K("ENVIRONMENT_INITIALIZER"),Dd=new K("INJECTOR",-1),wd=new K("INJECTOR_DEF_TYPES");class bd{get(t,n=Fo){if(n===Fo){const o=new Error(`NullInjectorError: No provider for ${ue(t)}!`);throw o.name="NullInjectorError",o}return n}}function oD(...e){return{\u0275providers:_d(0,e),\u0275fromNgModule:!0}}function _d(e,...t){const n=[],o=new Set;let r;return kn(t,i=>{const s=i;fa(s,n,[],o)&&(r||(r=[]),r.push(s))}),void 0!==r&&Ed(r,n),n}function Ed(e,t){for(let n=0;n<e.length;n++){const{providers:r}=e[n];pa(r,i=>{t.push(i)})}}function fa(e,t,n,o){if(!(e=j(e)))return!1;let r=null,i=Cu(e);const s=!i&&re(e);if(i||s){if(s&&!s.standalone)return!1;r=e}else{const l=e.ngModule;if(i=Cu(l),!i)return!1;r=l}const a=o.has(r);if(s){if(a)return!1;if(o.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)fa(c,t,n,o)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let c;o.add(r);try{kn(i.imports,p=>{fa(p,t,n,o)&&(c||(c=[]),c.push(p))})}finally{}void 0!==c&&Ed(c,t)}if(!a){const c=Mn(r)||(()=>new r);t.push({provide:r,useFactory:c,deps:te},{provide:wd,useValue:r,multi:!0},{provide:vd,useValue:()=>ie(r),multi:!0})}const l=i.providers;null==l||a||pa(l,p=>{t.push(p)})}}return r!==e&&void 0!==e.providers}function pa(e,t){for(let n of e)as(n)&&(n=n.\u0275providers),Array.isArray(n)?pa(n,t):t(n)}const rD=le({provide:String,useValue:le});function ha(e){return null!==e&&"object"==typeof e&&rD in e}function Fn(e){return"function"==typeof e}const ga=new K("Set Injector scope."),ci={},sD={};let ma;function di(){return void 0===ma&&(ma=new bd),ma}class ao{}class Sd extends ao{constructor(t,n,o,r){super(),this.parent=n,this.source=o,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,va(t,s=>this.processProvider(s)),this.records.set(Dd,lo(void 0,this)),r.has("environment")&&this.records.set(ao,lo(void 0,this));const i=this.records.get(ga);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(wd.multi,te,H.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Gn(this),o=mt(void 0);try{return t()}finally{Gn(n),mt(o)}}get(t,n=Fo,o=H.Default){this.assertNotDestroyed(),o=Fr(o);const r=Gn(this),i=mt(void 0);try{if(!(o&H.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function dD(e){return"function"==typeof e||"object"==typeof e&&e instanceof K}(t)&&kr(t);a=l&&this.injectableDefInScope(l)?lo(ya(t),ci):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(o&H.Self?di():this.parent).get(t,n=o&H.Optional&&n===Fo?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Pr]=s[Pr]||[]).unshift(ue(t)),r)throw s;return function Lm(e,t,n,o){const r=e[Pr];throw t[Mu]&&r.unshift(t[Mu]),e.message=function Bm(e,t,n,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=ue(t);if(Array.isArray(t))r=t.map(ue).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):ue(a)))}r=`{${i.join(", ")}}`}return`${n}${o?"("+o+")":""}[${r}]: ${e.replace(Pm,"\n  ")}`}("\n"+e.message,r,n,o),e.ngTokenPath=r,e[Pr]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{mt(i),Gn(r)}}resolveInjectorInitializers(){const t=Gn(this),n=mt(void 0);try{const o=this.get(vd.multi,te,H.Self);for(const r of o)r()}finally{Gn(t),mt(n)}}toString(){const t=[],n=this.records;for(const o of n.keys())t.push(ue(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processProvider(t){let n=Fn(t=j(t))?t:j(t&&t.provide);const o=function lD(e){return ha(e)?lo(void 0,e.useValue):lo(function Md(e,t,n){let o;if(Fn(e)){const r=j(e);return Mn(r)||ya(r)}if(ha(e))o=()=>j(e.useValue);else if(function Id(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...fs(e.deps||[]));else if(function Cd(e){return!(!e||!e.useExisting)}(e))o=()=>ie(j(e.useExisting));else{const r=j(e&&(e.useClass||e.provide));if(!function uD(e){return!!e.deps}(e))return Mn(r)||ya(r);o=()=>new r(...fs(e.deps))}return o}(e),ci)}(t);if(Fn(t)||!0!==t.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=lo(void 0,ci,!0),r.factory=()=>fs(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,o)}hydrate(t,n){return n.value===ci&&(n.value=sD,n.value=n.factory()),"object"==typeof n.value&&n.value&&function cD(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=j(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function ya(e){const t=kr(e),n=null!==t?t.factory:Mn(e);if(null!==n)return n;if(e instanceof K)throw new N(204,!1);if(e instanceof Function)return function aD(e){const t=e.length;if(t>0)throw function Wo(e,t){const n=[];for(let o=0;o<e;o++)n.push(t);return n}(t,"?"),new N(204,!1);const n=function Mm(e){const t=e&&(e[xr]||e[Iu]);if(t){const n=function Tm(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new N(204,!1)}function lo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function va(e,t){for(const n of e)Array.isArray(n)?va(n,t):n&&as(n)?va(n.\u0275providers,t):t(n)}class fD{}class Td{}class hD{resolveComponentFactory(t){throw function pD(e){const t=Error(`No component factory found for ${ue(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let fi=(()=>{class e{}return e.NULL=new hD,e})();function gD(){return uo(je(),_())}function uo(e,t){return new co(ct(e,t))}let co=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=gD,e})();class kd{}let vD=(()=>{class e{}return e.\u0275prov=ge({token:e,providedIn:"root",factory:()=>null}),e})();class Da{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const DD=new Da("15.0.4"),wa={};function _a(e){return e.ngOriginalError}class fo{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&_a(t);for(;n&&_a(n);)n=_a(n);return n||null}}function Fd(e,t,n){let o=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const i=t.length;if(r+i===o||e.charCodeAt(r+i)<=32)return r}n=r+1}}const Nd="ng-template";function kD(e,t,n){let o=0;for(;o<e.length;){let r=e[o++];if(n&&"class"===r){if(r=e[o],-1!==Fd(r.toLowerCase(),t,0))return!0}else if(1===r){for(;o<e.length&&"string"==typeof(r=e[o++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Od(e){return 4===e.type&&e.value!==Nd}function xD(e,t,n){return t===(4!==e.type||n?e.value:Nd)}function PD(e,t,n){let o=4;const r=e.attrs||[],i=function OD(e){for(let t=0;t<e.length;t++)if(ac(e[t]))return t;return e.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&o){if(o=2|1&o,""!==l&&!xD(e,l,n)||""===l&&1===t.length){if(At(o))return!1;s=!0}}else{const c=8&o?l:t[++a];if(8&o&&null!==e.attrs){if(!kD(e.attrs,c,n)){if(At(o))return!1;s=!0}continue}const h=FD(8&o?"class":l,r,Od(e),n);if(-1===h){if(At(o))return!1;s=!0;continue}if(""!==c){let g;g=h>i?"":r[h+1].toLowerCase();const m=8&o?g:null;if(m&&-1!==Fd(m,c,0)||2&o&&c!==g){if(At(o))return!1;s=!0}}}}else{if(!s&&!At(o)&&!At(l))return!1;if(s&&At(l))continue;s=!1,o=l|1&o}}return At(o)||s}function At(e){return 0==(1&e)}function FD(e,t,n,o){if(null===t)return-1;let r=0;if(o||!n){let i=!1;for(;r<t.length;){const s=t[r];if(s===e)return r;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=i?1:2}return-1}return function RD(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const o=e[n];if("number"==typeof o)return-1;if(o===t)return n;n++}return-1}(t,e)}function Rd(e,t,n=!1){for(let o=0;o<t.length;o++)if(PD(e,t[o],n))return!0;return!1}function Ld(e,t){return e?":not("+t.trim()+")":t}function BD(e){let t=e[0],n=1,o=2,r="",i=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&o){const a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&o?r+="."+s:4&o&&(r+=" "+s);else""!==r&&!At(s)&&(t+=Ld(i,r),r=""),o=s,i=i||!At(o);n++}return""!==r&&(t+=Ld(i,r)),t}const G={};function F(e){Bd(ee(),_(),Qe()+e,!1)}function Bd(e,t,n,o){if(!o)if(3==(3&t[2])){const i=e.preOrderCheckHooks;null!==i&&Gr(t,i,n)}else{const i=e.preOrderHooks;null!==i&&qr(t,i,0,n)}Tn(n)}function Hd(e,t=null,n=null,o){const r=function Ud(e,t=null,n=null,o,r=new Set){const i=[n||te,oD(e)];return o=o||("object"==typeof e?void 0:ue(e)),new Sd(i,t||di(),o||null,r)}(e,t,n,o);return r.resolveInjectorInitializers(),r}let Nn=(()=>{class e{static create(n,o){if(Array.isArray(n))return Hd({name:""},o,n,"");{const r=n.name??"";return Hd({name:r},n.parent,n.providers,r)}}}return e.THROW_IF_NOT_FOUND=Fo,e.NULL=new bd,e.\u0275prov=ge({token:e,providedIn:"any",factory:()=>ie(Dd)}),e.__NG_ELEMENT_ID__=-1,e})();function Z(e,t=H.Default){const n=_();return null===n?ie(e,t):mc(je(),n,j(e),t)}function Zd(e,t){const n=e.contentQueries;if(null!==n)for(let o=0;o<n.length;o+=2){const r=n[o],i=n[o+1];if(-1!==i){const s=e.data[i];Cs(r),s.contentQueries(2,t[i],i)}}}function hi(e,t,n,o,r,i,s,a,l,c,p){const h=t.blueprint.slice();return h[0]=r,h[2]=76|o,(null!==p||e&&1024&e[2])&&(h[2]|=1024),Gu(h),h[3]=h[15]=e,h[8]=n,h[10]=s||e&&e[10],h[Y]=a||e&&e[Y],h[12]=l||e&&e[12]||null,h[9]=c||e&&e[9]||null,h[6]=i,h[20]=function ov(){return nv++}(),h[21]=p,h[16]=2==t.type?e[16]:h,h}function go(e,t,n,o,r){let i=e.data[t];if(null===i)i=function Ma(e,t,n,o,r){const i=Zu(),s=ws(),l=e.data[t]=function dw(e,t,n,o,r,i){return{type:n,index:o,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,t,o,r);return null===e.firstChild&&(e.firstChild=l),null!==i&&(s?null==i.child&&null!==l.parent&&(i.child=l):null===i.next&&(i.next=l)),l}(e,t,n,o,r),function sy(){return z.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=o,i.attrs=r;const s=function Ho(){const e=z.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Bt(i,!0),i}function nr(e,t,n,o){if(0===n)return-1;const r=t.length;for(let i=0;i<n;i++)t.push(o),e.blueprint.push(o),e.data.push(null);return r}function Ta(e,t,n){Is(t);try{const o=e.viewQuery;null!==o&&Ba(1,o,n);const r=e.template;null!==r&&Qd(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Zd(e,t),e.staticViewQueries&&Ba(2,e.viewQuery,n);const i=e.components;null!==i&&function lw(e,t){for(let n=0;n<t.length;n++)kw(e,t[n])}(t,i)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[2]&=-5,Ss()}}function gi(e,t,n,o){const r=t[2];if(128!=(128&r)){Is(t);try{Gu(t),Ju(e.bindingStartIndex),null!==n&&Qd(e,t,n,2,o);const s=3==(3&r);if(s){const c=e.preOrderCheckHooks;null!==c&&Gr(t,c,null)}else{const c=e.preOrderHooks;null!==c&&qr(t,c,0,null),Ms(t,0)}if(function Tw(e){for(let t=Ks(e);null!==t;t=Zs(t)){if(!t[2])continue;const n=t[9];for(let o=0;o<n.length;o++){const r=n[o],i=r[3];0==(512&r[2])&&Ds(i,1),r[2]|=512}}}(t),function Mw(e){for(let t=Ks(e);null!==t;t=Zs(t))for(let n=10;n<t.length;n++){const o=t[n],r=o[1];Ur(o)&&gi(r,o,r.template,o[8])}}(t),null!==e.contentQueries&&Zd(e,t),s){const c=e.contentCheckHooks;null!==c&&Gr(t,c)}else{const c=e.contentHooks;null!==c&&qr(t,c,1),Ms(t,1)}!function sw(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let o=0;o<n.length;o++){const r=n[o];if(r<0)Tn(~r);else{const i=r,s=n[++o],a=n[++o];ay(s,i),a(2,t[i])}}}finally{Tn(-1)}}(e,t);const a=e.components;null!==a&&function aw(e,t){for(let n=0;n<t.length;n++)Aw(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&Ba(2,l,o),s){const c=e.viewCheckHooks;null!==c&&Gr(t,c)}else{const c=e.viewHooks;null!==c&&qr(t,c,2),Ms(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Ds(t[3],-1))}finally{Ss()}}}function Qd(e,t,n,o,r){const i=Qe(),s=2&o;try{Tn(-1),s&&t.length>22&&Bd(e,t,22,!1),n(o,r)}finally{Tn(i)}}function Aa(e,t,n){if(ys(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const s=e.data[i];s.contentQueries&&s.contentQueries(1,n[i],i)}}}function ka(e,t,n){!Wu()||(function yw(e,t,n,o){const r=n.directiveStart,i=n.directiveEnd;$o(n)&&function Cw(e,t,n){const o=ct(t,e),r=Jd(n),i=e[10],s=mi(e,hi(e,r,null,n.onPush?32:16,o,t,i,i.createRenderer(o,n),null,null,null));e[t.index]=s}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Zr(n,t),ze(o,t);const s=n.initialInputs;for(let a=r;a<i;a++){const l=e.data[a],c=An(t,e,a,n);ze(c,t),null!==s&&Iw(0,a-r,c,l,0,s),Tt(l)&&(dt(n.index,t)[8]=An(t,e,a,n))}}(e,t,n,ct(n,t)),64==(64&n.flags)&&rf(e,t,n))}function xa(e,t,n=ct){const o=t.localNames;if(null!==o){let r=t.index+1;for(let i=0;i<o.length;i+=2){const s=o[i+1],a=-1===s?n(t,e):e[s];e[r++]=a}}}function Jd(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Pa(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Pa(e,t,n,o,r,i,s,a,l,c){const p=22+o,h=p+r,g=function uw(e,t){const n=[];for(let o=0;o<t;o++)n.push(o<e?null:G);return n}(p,h),m="function"==typeof c?c():c;return g[1]={type:e,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:m,incompleteFirstPass:!1}}function ef(e,t,n,o){for(let r in e)if(e.hasOwnProperty(r)){n=null===n?{}:n;const i=e[r];null===o?tf(n,t,r,i):o.hasOwnProperty(r)&&tf(n,t,o[r],i)}return n}function tf(e,t,n,o){e.hasOwnProperty(n)?e[n].push(t,o):e[n]=[t,o]}function nf(e,t){const n=dt(t,e);16&n[2]||(n[2]|=32)}function Fa(e,t,n,o){let r=!1;if(Wu()){const i=null===o?null:{"":-1},s=function Dw(e,t){const n=e.directiveRegistry;let o=null,r=null;if(n)for(let i=0;i<n.length;i++){const s=n[i];if(Rd(t,s.selectors,!1))if(o||(o=[]),Tt(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),o.unshift(...a,s),Na(e,t,a.length)}else o.unshift(s),Na(e,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,o,r),o.push(s)}return null===o?null:[o,r]}(e,n);let a,l;null===s?a=l=null:[a,l]=s,null!==a&&(r=!0,of(e,t,n,a,i,l)),i&&function ww(e,t,n){if(t){const o=e.localNames=[];for(let r=0;r<t.length;r+=2){const i=n[t[r+1]];if(null==i)throw new N(-301,!1);o.push(t[r],i)}}}(n,o,i)}return n.mergedAttrs=zo(n.mergedAttrs,n.attrs),r}function of(e,t,n,o,r,i){for(let c=0;c<o.length;c++)Fs(Zr(n,t),e,o[c].type);!function _w(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,o.length);for(let c=0;c<o.length;c++){const p=o[c];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,l=nr(e,t,o.length,null);for(let c=0;c<o.length;c++){const p=o[c];n.mergedAttrs=zo(n.mergedAttrs,p.hostAttrs),Ew(e,n,t,l,p),bw(l,p,r),null!==p.contentQueries&&(n.flags|=4),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(n.flags|=64);const h=p.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function fw(e,t,n){const r=t.directiveEnd,i=e.data,s=t.attrs,a=[];let l=null,c=null;for(let p=t.directiveStart;p<r;p++){const h=i[p],g=n?n.get(h):null,y=g?g.outputs:null;l=ef(h.inputs,p,l,g?g.inputs:null),c=ef(h.outputs,p,c,y);const D=null===l||null===s||Od(t)?null:Sw(l,p,s);a.push(D)}null!==l&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}(e,n,i)}function rf(e,t,n){const o=n.directiveStart,r=n.directiveEnd,i=n.index,s=function ly(){return z.lFrame.currentDirectiveIndex}();try{Tn(i);for(let a=o;a<r;a++){const l=e.data[a],c=t[a];_s(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&vw(l,c)}}finally{Tn(-1),_s(s)}}function vw(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Na(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function bw(e,t,n){if(n){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)n[t.exportAs[o]]=e;Tt(t)&&(n[""]=e)}}function Ew(e,t,n,o,r){e.data[o]=r;const i=r.factory||(r.factory=Mn(r.type)),s=new Uo(i,Tt(r),Z);e.blueprint[o]=s,n[o]=s,function gw(e,t,n,o,r){const i=r.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function mw(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,o,i)}}(e,t,o,nr(e,n,r.hostVars,G),r)}function Iw(e,t,n,o,r,i){const s=i[t];if(null!==s){const a=o.setInput;for(let l=0;l<s.length;){const c=s[l++],p=s[l++],h=s[l++];null!==a?o.setInput(n,h,c,p):n[p]=h}}}function Sw(e,t,n){let o=null,r=0;for(;r<n.length;){const i=n[r];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===o&&(o=[]);const s=e[i];for(let a=0;a<s.length;a+=2)if(s[a]===t){o.push(i,s[a+1],n[r+1]);break}}r+=2}else r+=2;else r+=4}return o}function sf(e,t,n,o){return[e,!0,!1,t,null,0,o,n,null,null]}function Aw(e,t){const n=dt(t,e);if(Ur(n)){const o=n[1];48&n[2]?gi(o,n,o.template,n[8]):n[5]>0&&Ra(n)}}function Ra(e){for(let o=Ks(e);null!==o;o=Zs(o))for(let r=10;r<o.length;r++){const i=o[r];if(Ur(i))if(512&i[2]){const s=i[1];gi(s,i,s.template,i[8])}else i[5]>0&&Ra(i)}const n=e[1].components;if(null!==n)for(let o=0;o<n.length;o++){const r=dt(n[o],e);Ur(r)&&r[5]>0&&Ra(r)}}function kw(e,t){const n=dt(t,e),o=n[1];(function xw(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(o,n),Ta(o,n,n[8])}function mi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function La(e){for(;e;){e[2]|=32;const t=Qo(e);if(Hm(e)&&!t)return e;e=t}return null}function yi(e,t,n,o=!0){const r=t[10];r.begin&&r.begin();try{gi(e,t,e.template,n)}catch(s){throw o&&cf(t,s),s}finally{r.end&&r.end()}}function Ba(e,t,n){Cs(0),t(e,n)}function af(e){return e[7]||(e[7]=[])}function lf(e){return e.cleanup||(e.cleanup=[])}function cf(e,t){const n=e[9],o=n?n.get(fo,null):null;o&&o.handleError(t)}function ja(e,t,n,o,r){for(let i=0;i<n.length;){const s=n[i++],a=n[i++],l=t[s],c=e.data[s];null!==c.setInput?c.setInput(l,r,o,a):l[a]=r}}function tn(e,t,n){const o=function Hr(e,t){return Be(t[e])}(t,e);!function zc(e,t,n){e.setValue(t,n)}(e[Y],o,n)}function vi(e,t,n){let o=n?e.styles:null,r=n?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?r=rs(r,a):2==i&&(o=rs(o,a+": "+t[++s]+";"))}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=r:e.classesWithoutHost=r}function Di(e,t,n,o,r=!1){for(;null!==n;){const i=t[n.index];if(null!==i&&o.push(Be(i)),Mt(i))for(let a=10;a<i.length;a++){const l=i[a],c=l[1].firstChild;null!==c&&Di(l[1],l,c,o)}const s=n.type;if(8&s)Di(e,t,n.child,o);else if(32&s){const a=Ys(n,t);let l;for(;l=a();)o.push(l)}else if(16&s){const a=td(t,n);if(Array.isArray(a))o.push(...a);else{const l=Qo(t[16]);Di(l[1],l,a,o,!0)}}n=r?n.projectionNext:n.next}return o}class or{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Di(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Mt(t)){const n=t[8],o=n?n.indexOf(this):-1;o>-1&&(Xs(t,o),Jr(n,o))}this._attachedToViewContainer=!1}qc(this._lView[1],this._lView)}onDestroy(t){!function Xd(e,t,n,o){const r=af(t);null===n?r.push(o):(r.push(n),e.firstCreatePass&&lf(e).push(o,r.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){La(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){yi(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vv(e,t){Jo(e,t,t[Y],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=t}}class Pw extends or{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;yi(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class df extends fi{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=re(t);return new rr(n,this.ngModule)}}function ff(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Nw{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,o){o=Fr(o);const r=this.injector.get(t,wa,o);return r!==wa||n===wa?r:this.parentInjector.get(t,n,o)}}class rr extends Td{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function jD(e){return e.map(BD).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return ff(this.componentDef.inputs)}get outputs(){return ff(this.componentDef.outputs)}create(t,n,o,r){let i=(r=r||this.ngModule)instanceof ao?r:r?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new Nw(t,i):t,a=s.get(kd,null);if(null===a)throw new N(407,!1);const l=s.get(vD,null),c=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",h=o?function cw(e,t,n){return e.selectRootElement(t,n===Rt.ShadowDom)}(c,o,this.componentDef.encapsulation):Js(c,p,function Fw(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(p)),g=this.componentDef.onPush?288:272,m=Pa(0,null,null,1,0,null,null,null,null,null),y=hi(null,m,null,g,null,null,a,c,l,s,null);let D,E;Is(y);try{const C=this.componentDef;let x,b=null;C.findHostDirectiveDefs?(x=[],b=new Map,C.findHostDirectiveDefs(C,x,b),x.push(C)):x=[C];const $=function Rw(e,t){const n=e[1];return e[22]=t,go(n,22,2,"#host",null)}(y,h),ce=function Lw(e,t,n,o,r,i,s,a){const l=r[1];!function Bw(e,t,n,o){for(const r of e)t.mergedAttrs=zo(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(vi(t,t.mergedAttrs,!0),null!==n&&rd(o,n,t))}(o,e,t,s);const c=i.createRenderer(t,n),p=hi(r,Jd(n),null,n.onPush?32:16,r[e.index],e,i,c,a||null,null,null);return l.firstCreatePass&&Na(l,e,o.length-1),mi(r,p),r[e.index]=p}($,h,C,x,y,a,c);E=zu(m,22),h&&function Vw(e,t,n,o){if(o)As(e,n,["ng-version",DD.full]);else{const{attrs:r,classes:i}=function VD(e){const t=[],n=[];let o=1,r=2;for(;o<e.length;){let i=e[o];if("string"==typeof i)2===r?""!==i&&t.push(i,e[++o]):8===r&&n.push(i);else{if(!At(r))break;r=i}o++}return{attrs:t,classes:n}}(t.selectors[0]);r&&As(e,n,r),i&&i.length>0&&od(e,n,i.join(" "))}}(c,C,h,o),void 0!==n&&function $w(e,t,n){const o=e.projection=[];for(let r=0;r<t.length;r++){const i=n[r];o.push(null!=i?Array.from(i):null)}}(E,this.ngContentSelectors,n),D=function jw(e,t,n,o,r,i){const s=je(),a=r[1],l=ct(s,r);of(a,r,s,n,null,o);for(let p=0;p<n.length;p++)ze(An(r,a,s.directiveStart+p,s),r);rf(a,r,s),l&&ze(l,r);const c=An(r,a,s.directiveStart+s.componentOffset,s);if(e[8]=r[8]=c,null!==i)for(const p of i)p(c,t);return Aa(a,s,e),c}(ce,C,x,b,y,[Hw]),Ta(m,y,null)}finally{Ss()}return new Ow(this.componentType,D,uo(E,y),y,E)}}class Ow extends fD{constructor(t,n,o,r,i){super(),this.location=o,this._rootLView=r,this._tNode=i,this.instance=n,this.hostView=this.changeDetectorRef=new Pw(r),this.componentType=t}setInput(t,n){const o=this._tNode.inputs;let r;if(null!==o&&(r=o[t])){const i=this._rootLView;ja(i[1],i,r,t,n),nf(i,this._tNode.index)}}get injector(){return new Xn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Hw(){const e=je();zr(_()[1],e)}function Ge(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Rn(e,t,n,o){const r=Ge(e,t,n);return Ge(e,t+1,o)||r}function wt(e,t,n,o,r,i){const s=Rn(e,t,n,o);return Rn(e,t+2,r,i)||s}function Do(e,t,n,o,r,i,s,a){const c=function bi(e,t,n,o,r){const i=Rn(e,t,n,o);return Ge(e,t+2,r)||i}(e,Qt(),n,r,s);return Jt(3),c?t+U(n)+o+U(r)+i+U(s)+a:G}function Ha(e,t,n){const o=_();return Ge(o,Qn(),t)&&function pt(e,t,n,o,r,i,s,a){const l=ct(t,n);let p,c=t.inputs;!a&&null!=c&&(p=c[o])?(ja(e,n,p,o,r),$o(t)&&nf(n,t.index)):3&t.type&&(o=function pw(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),r=null!=s?s(r,t.value||"",o):r,i.setProperty(l,o,r))}(ee(),function me(){const e=z.lFrame;return zu(e.tView,e.selectedIndex)}(),o,e,t,o[Y],n,!1),Ha}function Ua(e,t,n,o,r){const s=r?"class":"style";ja(e,n,t.inputs[s],s,o)}function f(e,t,n,o){const r=_(),i=ee(),s=22+e,a=r[Y],l=r[s]=Js(a,t,function my(){return z.lFrame.currentNamespace}()),c=i.firstCreatePass?function ib(e,t,n,o,r,i,s){const a=t.consts,c=go(t,e,2,r,yn(a,i));return Fa(t,n,c,yn(a,s)),null!==c.attrs&&vi(c,c.attrs,!1),null!==c.mergedAttrs&&vi(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,i,r,0,t,n,o):i.data[s];return Bt(c,!0),rd(a,l,c),32!=(32&c.flags)&&ii(i,r,l,c),0===function ey(){return z.lFrame.elementDepthCount}()&&ze(l,r),function ty(){z.lFrame.elementDepthCount++}(),Vr(c)&&(ka(i,r,c),Aa(i,c,r)),null!==o&&xa(r,c),f}function d(){let e=je();ws()?function bs(){z.lFrame.isParent=!1}():(e=e.parent,Bt(e,!1));const t=e;!function ny(){z.lFrame.elementDepthCount--}();const n=ee();return n.firstCreatePass&&(zr(n,e),ys(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function wy(e){return 0!=(8&e.flags)}(t)&&Ua(n,t,_(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function by(e){return 0!=(16&e.flags)}(t)&&Ua(n,t,_(),t.stylesWithoutHost,!1),d}function Te(e,t,n,o){return f(e,t,n,o),d(),Te}function qa(e){return!!e&&"function"==typeof e.then}function xf(e){return!!e&&"function"==typeof e.subscribe}const ab=xf;function Wa(e,t,n,o){const r=_(),i=ee(),s=je();return function Ff(e,t,n,o,r,i,s){const a=Vr(o),c=e.firstCreatePass&&lf(e),p=t[8],h=af(t);let g=!0;if(3&o.type||s){const D=ct(o,t),E=s?s(D):D,C=h.length,x=s?$=>s(Be($[o.index])):o.index;let b=null;if(!s&&a&&(b=function lb(e,t,n,o){const r=e.cleanup;if(null!=r)for(let i=0;i<r.length-1;i+=2){const s=r[i];if(s===n&&r[i+1]===o){const a=t[7],l=r[i+2];return a.length>l?a[l]:null}"string"==typeof s&&(i+=2)}return null}(e,t,r,o.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=i,b.__ngLastListenerFn__=i,g=!1;else{i=Of(o,t,p,i,!1);const $=n.listen(E,r,i);h.push(i,$),c&&c.push(r,x,C,C+1)}}else i=Of(o,t,p,i,!1);const m=o.outputs;let y;if(g&&null!==m&&(y=m[r])){const D=y.length;if(D)for(let E=0;E<D;E+=2){const ce=t[y[E]][y[E+1]].subscribe(i),Ee=h.length;h.push(i,ce),c&&c.push(r,o.index,Ee,-(Ee+1))}}}(i,r,r[Y],s,e,t,o),Wa}function Nf(e,t,n,o){try{return!1!==n(o)}catch(r){return cf(e,r),!1}}function Of(e,t,n,o,r){return function i(s){if(s===Function)return o;La(e.componentOffset>-1?dt(e.index,t):t);let l=Nf(t,0,o,s),c=i.__ngNextListenerFn__;for(;c;)l=Nf(t,0,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function Rf(e=1){return function cy(e){return(z.lFrame.contextLView=function dy(e,t){for(;e>0;)t=t[15],e--;return t}(e,z.lFrame.contextLView))[8]}(e)}function u(e,t=""){const n=_(),o=ee(),r=e+22,i=o.firstCreatePass?go(o,r,1,t,null):o.data[r],s=n[r]=function Qs(e,t){return e.createText(t)}(n[Y],t);ii(o,n,s,i),Bt(i,!1)}function X(e,t,n){const o=_(),r=function yo(e,t,n,o){return Ge(e,Qn(),n)?t+U(n)+o:G}(o,e,t,n);return r!==G&&tn(o,Qe(),r),X}function qe(e,t,n,o,r){const i=_(),s=function vo(e,t,n,o,r,i){const a=Rn(e,Qt(),n,r);return Jt(2),a?t+U(n)+o+U(r)+i:G}(i,e,t,n,o,r);return s!==G&&tn(i,Qe(),s),qe}function lr(e,t,n,o,r,i,s){const a=_(),l=Do(a,e,t,n,o,r,i,s);return l!==G&&tn(a,Qe(),l),lr}function zt(e,t,n,o,r,i,s,a,l){const c=_(),p=function wo(e,t,n,o,r,i,s,a,l,c){const h=wt(e,Qt(),n,r,s,l);return Jt(4),h?t+U(n)+o+U(r)+i+U(s)+a+U(l)+c:G}(c,e,t,n,o,r,i,s,a,l);return p!==G&&tn(c,Qe(),p),zt}function Xa(e,t,n,o,r,i,s,a,l,c,p,h,g){const m=_(),y=function _o(e,t,n,o,r,i,s,a,l,c,p,h,g,m){const y=Qt();let D=wt(e,y,n,r,s,l);return D=Rn(e,y+4,p,g)||D,Jt(6),D?t+U(n)+o+U(r)+i+U(s)+a+U(l)+c+U(p)+h+U(g)+m:G}(m,e,t,n,o,r,i,s,a,l,c,p,h,g);return y!==G&&tn(m,Qe(),y),Xa}function Ci(e){const t=_(),n=function mo(e,t){let n=!1,o=Qt();for(let i=1;i<t.length;i+=2)n=Ge(e,o++,t[i])||n;if(Ju(o),!n)return G;let r=t[0];for(let i=1;i<t.length;i+=2)r+=U(t[i])+t[i+1];return r}(t,e);return n!==G&&tn(t,Qe(),n),Ci}const Mo="en-US";let Cp=Mo;class To{}class e0 extends To{constructor(t,n,o){super(),this.componentFactoryResolver=new df(this),this.instance=null;const r=new Sd([...t,{provide:To,useValue:this},{provide:fi,useValue:this.componentFactoryResolver}],n||di(),o,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Qp(e,t,n=null){return new e0(e,t,n).injector}let t0=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const o=_d(0,n.type),r=o.length>0?Qp([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,r)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=ge({token:e,providedIn:"environment",factory:()=>new e(ie(ao))}),e})();function al(e){e.getStandaloneInjector=t=>t.get(t0).getOrCreateStandaloneInjector(e)}function rh(e,t,n,o,r,i){const s=t+n;return Ge(e,s,r)?function $t(e,t,n){return e[t]=n}(e,s+1,i?o.call(i,r):o(r)):function hr(e,t){const n=e[t];return n===G?void 0:n}(e,s+1)}function ch(e,t,n){const o=e+22,r=_(),i=function Zn(e,t){return e[t]}(r,o);return function gr(e,t){return e[1].data[t].pure}(r,o)?rh(r,function Ze(){const e=z.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,i.transform,n,i):i.transform(n)}function ul(e){return t=>{setTimeout(e,void 0,t)}}const nn=class S0 extends ht{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,o){let r=t,i=n||(()=>null),s=o;if(t&&"object"==typeof t){const l=t;r=l.next?.bind(l),i=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(i=ul(i),r&&(r=ul(r)),s&&(s=ul(s)));const a=super.subscribe({next:r,error:i,complete:s});return t instanceof A&&t.add(a),a}};let on=(()=>{class e{}return e.__NG_ELEMENT_ID__=k0,e})();const T0=on,A0=class extends T0{constructor(t,n,o){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=o}createEmbeddedView(t,n){const o=this._declarationTContainer.tViews,r=hi(this._declarationLView,o,t,16,null,o.declTNode,null,null,null,null,n||null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(o)),Ta(o,r,t),new or(r)}};function k0(){return function Ai(e,t){return 4&e.type?new A0(t,e,uo(e,t)):null}(je(),_())}let Gt=(()=>{class e{}return e.__NG_ELEMENT_ID__=x0,e})();function x0(){return function ph(e,t){let n;const o=t[e.index];if(Mt(o))n=o;else{let r;if(8&e.type)r=Be(o);else{const i=t[Y];r=i.createComment("");const s=ct(e,t);xn(i,ri(i,s),r,function Iv(e,t){return e.nextSibling(t)}(i,s),!1)}t[e.index]=n=sf(o,t,r,e),mi(t,n)}return new dh(n,e,t)}(je(),_())}const P0=Gt,dh=class extends P0{constructor(t,n,o){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=o}get element(){return uo(this._hostTNode,this._hostLView)}get injector(){return new Xn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ps(this._hostTNode,this._hostLView);if(cc(t)){const n=Yr(t,this._hostLView),o=Wr(t);return new Xn(n[1].data[o+8],n)}return new Xn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=fh(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,o){let r,i;"number"==typeof o?r=o:null!=o&&(r=o.index,i=o.injector);const s=t.createEmbeddedView(n||{},i);return this.insert(s,r),s}createComponent(t,n,o,r,i){const s=t&&!function qo(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const h=n||{};a=h.index,o=h.injector,r=h.projectableNodes,i=h.environmentInjector||h.ngModuleRef}const l=s?t:new rr(re(t)),c=o||this.parentInjector;if(!i&&null==l.ngModule){const g=(s?c:this.parentInjector).get(ao,null);g&&(i=g)}const p=l.create(c,r,void 0,i);return this.insert(p.hostView,a),p}insert(t,n){const o=t._lView,r=o[1];if(function Xm(e){return Mt(e[3])}(o)){const p=this.indexOf(t);if(-1!==p)this.detach(p);else{const h=o[3],g=new dh(h,h[6],h[3]);g.detach(g.indexOf(t))}}const i=this._adjustIndex(n),s=this._lContainer;!function wv(e,t,n,o){const r=10+o,i=n.length;o>0&&(n[r-1][4]=t),o<i-10?(t[4]=n[r],_c(n,10+o,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function bv(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=64}(r,o,s,i);const a=na(i,s),l=o[Y],c=ri(l,s[7]);return null!==c&&function yv(e,t,n,o,r,i){o[0]=r,o[6]=t,Jo(e,o,n,1,r,i)}(r,s[6],l,o,c,a),t.attachToViewContainerRef(),_c(dl(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=fh(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),o=Xs(this._lContainer,n);o&&(Jr(dl(this._lContainer),n),qc(o[1],o))}detach(t){const n=this._adjustIndex(t,-1),o=Xs(this._lContainer,n);return o&&null!=Jr(dl(this._lContainer),n)?new or(o):null}_adjustIndex(t,n=0){return t??this.length+n}};function fh(e){return e[8]}function dl(e){return e[8]||(e[8]=[])}function xi(...e){}const Lh=new K("Application Initializer");let Pi=(()=>{class e{constructor(n){this.appInits=n,this.resolve=xi,this.reject=xi,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,r)=>{this.resolve=o,this.reject=r})}runInitializers(){if(this.initialized)return;const n=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const i=this.appInits[r]();if(qa(i))n.push(i);else if(ab(i)){const s=new Promise((a,l)=>{i.subscribe({complete:a,error:l})});n.push(s)}}Promise.all(n).then(()=>{o()}).catch(r=>{this.reject(r)}),0===n.length&&o(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(ie(Lh,8))},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const bl=new K("AppId",{providedIn:"root",factory:function Bh(){return`${_l()}${_l()}${_l()}`}});function _l(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jh=new K("Platform Initializer"),Vh=new K("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),uE=new K("appBootstrapListener"),rn=new K("LocaleId",{providedIn:"root",factory:()=>function Om(e,t=H.Default){return ie(e,Fr(t))}(rn,H.Optional|H.SkipSelf)||function cE(){return typeof $localize<"u"&&$localize.locale||Mo}()}),gE=(()=>Promise.resolve(0))();class We{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nn(!1),this.onMicrotaskEmpty=new nn(!1),this.onStable=new nn(!1),this.onError=new nn(!1),typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!o&&n,r.shouldCoalesceRunChangeDetection=o,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function mE(){let e=fe.requestAnimationFrame,t=fe.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function DE(e){const t=()=>{!function vE(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(fe,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Il(e),e.isCheckStableRunning=!0,Cl(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Il(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,o,r,i,s,a)=>{try{return Uh(e),n.invokeTask(r,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),zh(e)}},onInvoke:(n,o,r,i,s,a,l)=>{try{return Uh(e),n.invoke(r,i,s,a,l)}finally{e.shouldCoalesceRunChangeDetection&&t(),zh(e)}},onHasTask:(n,o,r,i)=>{n.hasTask(r,i),o===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Il(e),Cl(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,o,r,i)=>(n.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!We.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(We.isInAngularZone())throw new N(909,!1)}run(t,n,o){return this._inner.run(t,n,o)}runTask(t,n,o,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,yE,xi,xi);try{return i.runTask(s,n,o)}finally{i.cancelTask(s)}}runGuarded(t,n,o){return this._inner.runGuarded(t,n,o)}runOutsideAngular(t){return this._outer.run(t)}}const yE={};function Cl(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Il(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Uh(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function zh(e){e._nesting--,Cl(e)}class wE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nn,this.onMicrotaskEmpty=new nn,this.onStable=new nn,this.onError=new nn}run(t,n,o){return t.apply(n,o)}runGuarded(t,n,o){return t.apply(n,o)}runOutsideAngular(t){return t()}runTask(t,n,o,r){return t.apply(n,o)}}const Gh=new K("");let wn=null;const Al=new K("PlatformDestroyListeners");function SE(e){const{rootComponent:t,appProviders:n,platformProviders:o}=e,r=function IE(e=[]){if(wn)return wn;const t=function Yh(e=[],t){return Nn.create({name:t,providers:[{provide:ga,useValue:"platform"},{provide:Al,useValue:new Set([()=>wn=null])},...e]})}(e);return wn=t,function Wh(e){const t=e.get(jh,null);t&&t.forEach(n=>n())}(t),t}(o),i=function Qh(e,t){let n;return n="noop"===e?new wE:("zone.js"===e?void 0:e)||new We(t),n}("zone.js",function Zh(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}());return i.run(()=>{const a=Qp([{provide:We,useValue:i},...n||[]],r,"Environment Injector"),l=a.get(fo,null);let c;i.runOutsideAngular(()=>{c=i.onError.subscribe({next:g=>{l.handleError(g)}})});const p=()=>a.destroy(),h=r.get(Al);return h.add(p),a.onDestroy(()=>{c.unsubscribe(),h.delete(p)}),function Jh(e,t,n){try{const o=n();return qa(o)?o.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(l,i,()=>{const g=a.get(Pi);return g.runInitializers(),g.donePromise.then(()=>{!function Ip(e){gt(e,"Expected localeId to be defined"),"string"==typeof e&&(Cp=e.toLowerCase().replace(/_/g,"-"))}(a.get(rn,Mo)||Mo);const y=a.get(xl);return void 0!==t&&y.bootstrap(t),y})})})}let xl=(()=>{class e{constructor(n,o,r){this._zone=n,this._injector=o,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new de(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new de(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),function El(e){typeof Zone>"u"?gE.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=Dm(i,s.pipe(function wm(e={}){const{connector:t=(()=>new ht),resetOnError:n=!0,resetOnComplete:o=!0,resetOnRefCountZero:r=!0}=e;return i=>{let s,a,l,c=0,p=!1,h=!1;const g=()=>{a?.unsubscribe(),a=void 0},m=()=>{g(),s=l=void 0,p=h=!1},y=()=>{const D=s;m(),D?.unsubscribe()};return Ct((D,E)=>{c++,!h&&!p&&g();const C=l=l??t();E.add(()=>{c--,0===c&&!h&&!p&&(a=ns(y,r))}),C.subscribe(E),!s&&c>0&&(s=new se({next:x=>C.next(x),error:x=>{h=!0,g(),a=ns(m,n,x),C.error(x)},complete:()=>{p=!0,g(),a=ns(m,o),C.complete()}}),pn(D).subscribe(s))})(i)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,o){const r=n instanceof Td;if(!this._injector.get(Pi).done)throw!r&&function Lo(e){const t=re(e)||$e(e)||Ye(e);return null!==t&&t.standalone}(n),new N(405,false);let s;s=r?n:this._injector.get(fi).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function EE(e){return e.isBoundToModule}(s)?void 0:this._injector.get(To),c=s.create(Nn.NULL,[],o||s.selector,a),p=c.location.nativeElement,h=c.injector.get(Gh,null);return h?.registerApplication(p),c.onDestroy(()=>{this.detachView(c.hostView),Ni(this.components,c),h?.unregisterApplication(p)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new N(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;Ni(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get(uE,[]);o.push(...this._bootstrapListeners),o.forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ni(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new N(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(ie(We),ie(ao),ie(fo))},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ni(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let AE=(()=>{class e{}return e.__NG_ELEMENT_ID__=kE,e})();function kE(e){return function xE(e,t,n){if($o(e)&&!n){const o=dt(e.index,t);return new or(o,o)}return 47&e.type?new or(t[16],t):null}(je(),_(),16==(16&e))}let Rl=null;function vr(){return Rl}class qE{}const an=new K("DocumentToken");let _g=(()=>{class e{constructor(n,o){this._viewContainer=n,this._context=new LC,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Eg("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Eg("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}}return e.\u0275fac=function(n){return new(n||e)(Z(Gt),Z(on))},e.\u0275dir=yt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class LC{constructor(){this.$implicit=null,this.ngIf=null}}function Eg(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ue(t)}'.`)}class UC{createSubscription(t,n){return t.subscribe({next:n,error:o=>{throw o}})}dispose(t){t.unsubscribe()}}class zC{createSubscription(t,n){return t.then(n,o=>{throw o})}dispose(t){}}const GC=new zC,qC=new UC;let Ig=(()=>{class e{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,o=>this._updateLatestValue(n,o))}_selectStrategy(n){if(qa(n))return GC;if(xf(n))return qC;throw function Nt(e,t){return new N(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,o){n===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return e.\u0275fac=function(n){return new(n||e)(Z(AE,16))},e.\u0275pipe=tt({name:"async",type:e,pure:!1,standalone:!0}),e})();class H1 extends qE{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Jl extends H1{static makeCurrent(){!function GE(e){Rl||(Rl=e)}(new Jl)}onAndCancel(t,n,o){return t.addEventListener(n,o,!1),()=>{t.removeEventListener(n,o,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function U1(){return _r=_r||document.querySelector("base"),_r?_r.getAttribute("href"):null}();return null==n?null:function z1(e){Yi=Yi||document.createElement("a"),Yi.setAttribute("href",e);const t=Yi.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){_r=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function xC(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const o=n.indexOf("="),[r,i]=-1==o?[n,""]:[n.slice(0,o),n.slice(o+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Yi,_r=null,Y1=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();const Ki=new K("EventManagerPlugins");let Zi=(()=>{class e{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(r=>r.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,o,r){return this._findPluginFor(o).addEventListener(n,o,r)}addGlobalEventListener(n,o,r){return this._findPluginFor(o).addGlobalEventListener(n,o,r)}getZone(){return this._zone}_findPluginFor(n){const o=this._eventNameToPlugin.get(n);if(o)return o;const r=this._plugins;for(let i=0;i<r.length;i++){const s=r[i];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(ie(Ki),ie(We))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();class Ng{constructor(t){this._doc=t}addGlobalEventListener(t,n,o){const r=vr().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${n}`);return this.addEventListener(r,n,o)}}let Og=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const o=new Set;n.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),o.add(r))}),this.onStylesAdded(o)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})(),Er=(()=>{class e extends Og{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,o,r){n.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,r.push(o.appendChild(s))})}addHost(n){const o=[];this._addStylesToHost(this._stylesSet,n,o),this._hostNodes.set(n,o)}removeHost(n){const o=this._hostNodes.get(n);o&&o.forEach(Rg),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((o,r)=>{this._addStylesToHost(n,r,o)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Rg))}}return e.\u0275fac=function(n){return new(n||e)(ie(an))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();function Rg(e){vr().remove(e)}const Xl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},eu=/%COMP%/g;function tu(e,t){return t.flat(100).map(n=>n.replace(eu,e))}function jg(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let nu=(()=>{class e{constructor(n,o,r){this.eventManager=n,this.sharedStylesHost=o,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ou(n)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;switch(o.encapsulation){case Rt.Emulated:{let r=this.rendererByCompId.get(o.id);return r||(r=new eI(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,r)),r.applyToHost(n),r}case 1:case Rt.ShadowDom:return new tI(this.eventManager,this.sharedStylesHost,n,o);default:if(!this.rendererByCompId.has(o.id)){const r=tu(o.id,o.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(ie(Zi),ie(Er),ie(bl))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();class ou{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Xl[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){($g(t)?t.content:t).appendChild(n)}insertBefore(t,n,o){t&&($g(t)?t.content:t).insertBefore(n,o)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return n||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,o,r){if(r){n=r+":"+n;const i=Xl[r];i?t.setAttributeNS(i,n,o):t.setAttribute(n,o)}else t.setAttribute(n,o)}removeAttribute(t,n,o){if(o){const r=Xl[o];r?t.removeAttributeNS(r,n):t.removeAttribute(`${o}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,o,r){r&(nt.DashCase|nt.Important)?t.style.setProperty(n,o,r&nt.Important?"important":""):t.style[n]=o}removeStyle(t,n,o){o&nt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,o){t[n]=o}setValue(t,n){t.nodeValue=n}listen(t,n,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,jg(o)):this.eventManager.addEventListener(t,n,jg(o))}}function $g(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class eI extends ou{constructor(t,n,o,r){super(t),this.component=o;const i=tu(r+"-"+o.id,o.styles);n.addStyles(i),this.contentAttr=function Q1(e){return"_ngcontent-%COMP%".replace(eu,e)}(r+"-"+o.id),this.hostAttr=function J1(e){return"_nghost-%COMP%".replace(eu,e)}(r+"-"+o.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const o=super.createElement(t,n);return super.setAttribute(o,this.contentAttr,""),o}}class tI extends ou{constructor(t,n,o,r){super(t),this.sharedStylesHost=n,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=tu(r.id,r.styles);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,o){return super.insertBefore(this.nodeOrShadowRoot(t),n,o)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const Hg=["alt","control","meta","shift"],oI={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rI={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};function zg(e){return{appProviders:[...pI,...e?.providers??[]],platformProviders:cI}}const cI=[{provide:Vh,useValue:"browser"},{provide:jh,useValue:function aI(){Jl.makeCurrent()},multi:!0},{provide:an,useFactory:function uI(){return function Fv(e){sa=e}(document),document},deps:[]}],pI=[{provide:ga,useValue:"root"},{provide:fo,useFactory:function lI(){return new fo},deps:[]},{provide:Ki,useClass:(()=>{class e extends Ng{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,r){return n.addEventListener(o,r,!1),()=>this.removeEventListener(n,o,r)}removeEventListener(n,o,r){return n.removeEventListener(o,r)}}return e.\u0275fac=function(n){return new(n||e)(ie(an))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})(),multi:!0,deps:[an,We,Vh]},{provide:Ki,useClass:(()=>{class e extends Ng{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,o,r){const i=e.parseEventName(o),s=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vr().onAndCancel(n,i.domEventName,s))}static parseEventName(n){const o=n.toLowerCase().split("."),r=o.shift();if(0===o.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(o.pop());let s="",a=o.indexOf("code");if(a>-1&&(o.splice(a,1),s="code."),Hg.forEach(c=>{const p=o.indexOf(c);p>-1&&(o.splice(p,1),s+=c+".")}),s+=i,0!=o.length||0===i.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,o){let r=oI[n.key]||n.key,i="";return o.indexOf("code.")>-1&&(r=n.code,i="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Hg.forEach(s=>{s!==r&&(0,rI[s])(n)&&(i+=s+".")}),i+=r,i===o)}static eventCallback(n,o,r){return i=>{e.matchEventFullKeyCode(i,n)&&r.runGuarded(()=>o(i))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(ie(an))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})(),multi:!0,deps:[an]},{provide:nu,useClass:nu,deps:[Zi,Er,bl]},{provide:kd,useExisting:nu},{provide:Og,useExisting:Er},{provide:Er,useClass:Er,deps:[an]},{provide:Zi,useClass:Zi,deps:[Ki,We]},{provide:class g1{},useClass:Y1,deps:[]},[]];typeof window<"u"&&window;var EI=P(83);P(668);const{isArray:CI}=Array;const MI=["addListener","removeListener"],TI=["addEventListener","removeEventListener"],AI=["on","off"];function iu(e,t,n,o){if(O(n)&&(o=n,n=void 0),o)return iu(e,t,n).pipe(function SI(e){return Cn(t=>function II(e,t){return CI(t)?e(...t):e(t)}(e,t))}(o));const[r,i]=function PI(e){return O(e.addEventListener)&&O(e.removeEventListener)}(e)?TI.map(s=>a=>e[s](t,a,n)):function kI(e){return O(e.addListener)&&O(e.removeListener)}(e)?MI.map(Wg(e,t)):function xI(e){return O(e.on)&&O(e.off)}(e)?AI.map(Wg(e,t)):[];if(!r&&Xi(e))return es(s=>iu(s,t,n))(pn(e));if(!r)throw new TypeError("Invalid event target");return new de(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>i(a)})}function Wg(e,t){return n=>o=>e[n](t,o)}function NI(e,t){return e===t}function OI(e,t){if(1&e){const n=function kf(){return _()}();f(0,"div",1),Wa("click",function(){return function Yu(e){return z.lFrame.contextLView=e,e[8]}(n),function Ku(e){return z.lFrame.contextLView=null,e}(Rf().top())}),Te(1,"i",2),d()}}class Cr{ngAfterViewInit(){this.visible$=iu(window,"scroll").pipe(Cn(()=>window.scrollY>50),function FI(e,t=Po){return e=e??NI,Ct((n,o)=>{let r,i=!0;n.subscribe(Wt(o,s=>{const a=t(s);(i||!e(r,a))&&(i=!1,r=a,o.next(s))}))})}())}top(){window.scrollTo(0,0)}}Cr.\u0275fac=function(t){return new(t||Cr)},Cr.\u0275cmp=Or({type:Cr,selectors:[["app-top-cta"]],standalone:!0,features:[al],decls:2,vars:3,consts:[["class","container",3,"click",4,"ngIf"],[1,"container",3,"click"],[1,"fa-solid","fa-arrow-up"]],template:function(t,n){1&t&&(function Tf(e,t,n,o,r,i,s,a){const l=_(),c=ee(),p=e+22,h=c.firstCreatePass?function nb(e,t,n,o,r,i,s,a,l){const c=t.consts,p=go(t,e,4,s||null,yn(c,a));Fa(t,n,p,yn(c,l)),zr(t,p);const h=p.tViews=Pa(2,p,o,r,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,p),h.queries=t.queries.embeddedTView(p)),p}(p,c,l,t,n,o,r,i,s):c.data[p];Bt(h,!1);const g=l[Y].createComment("");ii(c,l,g,h),ze(g,l),mi(l,l[p]=sf(g,l,g,h)),Vr(h)&&ka(c,l,h),null!=s&&xa(l,h,a)}(0,OI,2,0,"div",0),function uh(e,t){const n=ee();let o;const r=e+22;n.firstCreatePass?(o=function b0(e,t){if(t)for(let n=t.length-1;n>=0;n--){const o=t[n];if(e===o.name)return o}}(t,n.pipeRegistry),n.data[r]=o,o.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,o.onDestroy)):o=n.data[r];const i=o.factory||(o.factory=Mn(o.type)),s=mt(Z);try{const a=Kr(!1),l=i();return Kr(a),function ob(e,t,n,o){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=o}(n,_(),r,l),l}finally{mt(s)}}(1,"async")),2&t&&Ha("ngIf",!0===ch(1,1,n.visible$))},dependencies:[Ig,_g],styles:[".container[_ngcontent-%COMP%]{position:fixed;display:flex;align-items:center;justify-content:center;right:1rem;bottom:1rem;width:3rem;height:3rem;background-color:var(--primary);color:#fff;border-radius:50%;font-size:1.5rem;cursor:pointer}"]});class Ir{ngAfterViewInit(){(0,EI.highlightAll)()}}Ir.\u0275fac=function(t){return new(t||Ir)},Ir.\u0275cmp=Or({type:Ir,selectors:[["app-root"]],standalone:!0,features:[al],decls:1344,vars:130,consts:[[1,"logo"],[1,"title"],["src","assets/img/logo.svg","alt","Logo"],["href","#context"],["href","#introduction"],["href","#playground"],["href","#installation"],["href","#principle"],["href","#models"],["href","#state"],["href","#configuration"],["href","#find"],["href","#select"],["href","#indexes"],["href","#upsert"],["href","#remove"],["href","#load"],["href","#post"],["href","#put"],["href","#delete"],["href","#ngs-container"],["href","#store-component"],["href","#roadmap"],["id","context"],["id","introduction"],[1,"language-typescript"],["href","https://ngrx.io/","target","_blank"],["id","playground"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src","target","_blank"],["id","installation"],["id","principle"],["id","models"],["id","state"],["id","configuration"],[1,"message","information"],["id","find"],[1,"language-xml"],[1,"img"],["src","assets/img/get-values.png"],["src","assets/img/get-entities.png"],[1,"message","warning"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/01_Find","target","_blank"],["id","select"],["src","assets/img/immutable-error.png"],["href","https://github.com/immerjs/immer","target","_blank"],["href","find"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/02_Select","target","_blank"],["id","indexes"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/03_Indexes","target","_blank"],["id","upsert"],["src","assets/img/upsert-01.png"],["src","assets/img/upsert-02.png"],["src","assets/img/upsert-03.png"],["src","assets/img/upsert-04.png"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/04_Upsert","target","_blank"],["id","remove"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/05_Remove","target","_blank"],["id","load"],["src","assets/img/container-error.png"],["src","assets/img/container-loading-01.png"],["src","assets/img/container-loading-02.png"],["src","assets/img/load-console-01.png"],["src","assets/img/load-console-02.png"],["src","assets/img/load-console-03.png"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/06_Load","target","_blank"],[1,"language-html"],["src","assets/img/dependent-01.png"],["src","assets/img/dependent-02.png"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/07_Load_Dependent","target","_blank"],["id","post"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/08_Post","target","_blank"],["id","put"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/08_Post"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/09_Put","target","_blank"],["id","delete"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/10_Delete","target","_blank"],["id","ngs-container"],["id","store-component"],["id","roadmap"]],template:function(t,n){1&t&&(f(0,"main")(1,"div",0)(2,"div",1)(3,"span"),u(4,"ng-st"),d(),Te(5,"img",2),f(6,"span"),u(7,"re"),d()()(),f(8,"h1"),u(9,"Table of content"),d(),f(10,"ul")(11,"li")(12,"a",3),u(13,"Context"),d()(),f(14,"li")(15,"a",4),u(16,"Introduction"),d()(),f(17,"li")(18,"a",5),u(19,"PLayground"),d()(),f(20,"li")(21,"a",6),u(22,"Installation"),d()(),f(23,"li")(24,"a",7),u(25,"Principle"),d()(),f(26,"li")(27,"a",8),u(28,"Models"),d()(),f(29,"li")(30,"a",9),u(31,"State"),d()(),f(32,"li")(33,"a",10),u(34,"Configuration"),d()(),f(35,"li")(36,"a",11),u(37,"Find"),d()(),f(38,"li")(39,"a",12),u(40,"Select"),d()(),f(41,"li")(42,"a",13),u(43,"Indexes"),d()(),f(44,"li")(45,"a",14),u(46,"Update"),d()(),f(47,"li")(48,"a",15),u(49,"Remove"),d()(),f(50,"li")(51,"a",16),u(52,"Load"),d()(),f(53,"li")(54,"a",17),u(55,"Post"),d()(),f(56,"li")(57,"a",18),u(58,"Put"),d()(),f(59,"li")(60,"a",19),u(61,"Delete"),d()(),f(62,"li")(63,"a",20),u(64,"ngs-container"),d()(),f(65,"li")(66,"a",21),u(67,"StoreComponent"),d()(),f(68,"li")(69,"a",22),u(70,"Roadmap"),d()()(),f(71,"h1",23),u(72,"Context"),d(),f(73,"p"),u(74,'Managing data in an Angular application can be quite tricky and impact the way you develop your application. "ng-store" is a solution to manage data using a store similar to a relational database.'),d(),f(75,"h1",24),u(76,"Introduction"),d(),f(77,"p"),u(78,"When learning Angular, you'll be confronted to a lot of concepts and challenges that you'll have to take. There are so many of those that beginners tend to neglect one of the most important: data management."),d(),f(79,"p"),u(80,"At first, it's tempting to rush into components development to make huge and complex components to power your application. After all, at first, it seems easier to have everything in a huge component. However, after a while, it appears that it is not a good solution and that it brings more problem that it solves."),d(),f(81,"p"),u(82,"At some point, in the Angular learning journey, one will be confronted to the challenge of managing data in the best way possible. At first, it's most likely that one will store data inside a component. Basically, after having read some tutorials, one will inject the "),f(83,"code",25),u(84,"HttpClient"),d(),u(85," service into the component and call the "),f(86,"code",25),u(87,"get"),d(),u(88," method to fetch data before displaying them on the screen."),d(),f(89,"p"),u(90,"It obviously works pretty well, however, there are some attention points to this:"),d(),f(91,"ul")(92,"li"),u(93," In a perfect world, a component should do one and only one thing. Therefore, fetching data using a HTTP call and displaying them could be considered as two things => bad practice. "),d(),f(94,"li"),u(95," Data loaded in the component are only available in this component. "),d(),f(96,"li"),u(97," You might need multiple class variables to store these data depending on the complexity of the component. "),d(),f(98,"li"),u(99," If multiple components need the same data, they will be loaded multiple times. "),d()(),f(100,"p"),u(101,"The next logical step is to start using services to store data. There are avantages to this approach:"),d(),f(102,"ul")(103,"li"),u(104," Data are centralized: When data are loaded, they are available to multiple components. "),d(),f(105,"li"),u(106," The heavy lifting is done once by the service. Components needing the data just have to inject the service and use the data. "),d()(),f(107,"p"),u(108," However, it's still, in my opinion, not the perfect solution. Indeed, with services maintaining their own data arise some pain points: "),d(),f(109,"ul")(110,"li"),u(111," What if the service A needs data from the services B and vice versa. This will create a cyclic dependency that will be difficult to solve properly. "),d(),f(112,"li"),u(113," It's difficult to ensure that services fetch and maintain their data in the same way. This can be leveraged using a base class but it adds some complexity. "),d(),f(114,"li"),u(115," If you're using the \"OnPush\" change detection strategy (as you should), simply updating data in a service won't refresh the views that depend on its data. Indeed, you'll need to implement a system propagating the value change down to the components. It's not very complex but it adds unecessary boilerplate. "),d(),f(116,"li"),u(117," You still have to think and implement a way of fetching data from your back end in a consistent way. "),d()(),f(118,"p"),u(119," I faced all these issues and considerations in my day to day work for a while, which is why I decided to have a look at store/state management systems out there. "),d(),f(120,"p"),u(121,"To be honest, I only checked one out: "),f(122,"a",26),u(123,"ngrx"),d(),u(124,". Mostly because it's the most popular one. "),d(),f(125,"p"),u(126," Before reading the following lines, please consider that I didn't use it for a long time and I probably only scratched the surface so the following lines might not be entirely correct or can be outdated. "),d(),f(127,"p"),u(128," My general feeling about this library is that it is waaay too complex to use. You have to create actions, effects, reducers, selectors, etc... and at the end, everything ties up magically and it becomes pretty cumbersome to have a clear view of what's happening in your application or to debug it. "),d(),f(129,"p"),u(130,' Another issue I had with it was the way immutability is handled. Basically, you have to do the heavy lifting using the spread operator in order to create new objects based on existing ones. I found it pretty cumbersome and not very intuitive (spoiler alert: "ng-store" handles it in a way that is totally transparent to you). '),d(),f(131,"p"),u(132," Once again, I'm sure it's a perfectly good library but long story short, it didn't suit me. "),d(),f(133,"p"),u(134," However, I really liked the idea of having one common location to store all the data of the application. Besides, the reactivity of the store also charmed me a lot, which is why I decided to implement my own store management library. "),d(),f(135,"p"),u(136," At the time of writing (2023), I've been working on and using this library for two years and now that it is stable, I feel that it can be useful to other developers than me. "),d(),f(137,"p"),u(138," In this documentation, we'll see the basic principle behind ng-store, how to configure and use it. After reading, you'll know everything there is about it and if you liked what you read, maybe you'll want to use it in your app \u{1f600} "),d(),f(139,"h1",27),u(140,"Playground"),d(),f(141,"p"),u(142,"You can find the code of the examples we'll talk about later in this article in the "),f(143,"a",28),u(144,"GitHub playground"),d(),u(145,'. The only thing you need to do is update the line 6 of the "main.ts" file to change the example you want to build.'),d(),f(146,"h1",29),u(147,"Installation"),d(),f(148,"p"),u(149,"Simply run:"),d(),f(150,"pre")(151,"code",25),u(152,"yarn add immer @ssougnez/ng-store"),d()(),f(153,"h1",30),u(154,"Principle"),d(),f(155,"p"),u(156,' You can use "ng-store" the way you want, however, you\'ll find in this section some advices to use it in an optimal way. '),d(),f(157,"p"),u(158,' Basically, the main principle consists in using "flat objects" as musch as possible. What I call "flat objects" are objects without any complex properties other than ones containing abstract data. For example, this is not a "flat object":'),d(),f(159,"pre")(160,"code",25),u(161),d()(),f(162,"p"),u(163,' The issue with this kind of objet is that it is an open door to data redundancy. Indeed, say that you fetch these data from a back end using REST API. It is very likely that the different users will have the same friends, meaning that a user data might be located in the "friends" array of multiple objects, causing the data to be bigger and duplicated. A better version of it would be: '),d(),f(164,"pre")(165,"code",25),u(166),d()(),f(167,"p"),u(168," In this approach, objects are treated as "),f(169,"strong"),u(170,"entities"),d(),u(171,' identified by a specific property that do not contain complex properties other than abstract data. "Abstract data" are data that does not represent entities in themselves, for example, some configuration for a specific entity. '),d(),f(172,"p"),u(173," Basically, you have to think about entities as rows in a relational database. In these, you have regular columns storing simple data and when you need more complex data, you store them in another table referenced by a foreign key in your primary one. In some circunstance, you'll also create a text column storing abstract data (in JSON). "),d(),f(174,"p"),u(175," Following this principle will help you a lot using \"ng-store\", but also for working on your back end. Indeed, when you have no real guidelines about the form of the object to return via a web service, it can be difficult to know what data to fetch from the database because you're not sure what data will be needed by the REST API call. With this approach, most of the time, you'll fetch data from your database in the most basic way. "),d(),f(176,"h1",31),u(177,"Models"),d(),f(178,"p"),u(179,' The core concept of the store is "entities". As explained above, an entity is a basic object with only simple properties. It must also contain an "id" property of the type you want. To ensure this last requirement, all your entities need to extend the '),f(180,"code",25),u(181,"BaseEntity<T>"),d(),u(182,' base class where "T" is the type of the "id" property. For example, here is an example of a "Pokemon" entity. '),d(),f(183,"pre")(184,"code",25),u(185),d()(),f(186,"p"),u(187,' It\'s important to highlight the fact that these entities are not stored as such in the store. In the example above, a value of type "Pokemon" will be stored as an '),f(188,"code",25),u(189,"Entity<Pokemon>"),d(),u(190," object. This type allows ng-store to store and find values in an efficient way. For now, the most important thing to remember is that an object of type "),f(191,"code",25),u(192,"Entity<T>"),d(),u(193," contains a "),f(194,"code",25),u(195,"value"),d(),u(196," property that holds the actual "),f(197,"code",25),u(198,"Pokemon"),d(),u(199," object. The type "),f(200,"code",25),u(201,"Entity<T>"),d(),u(202," also contains other properties that we'll review later in this document. "),d(),f(203,"p"),u(204," For the rest of this article, we'll use the following terms: "),d(),f(205,"ul")(206,"li")(207,"strong"),u(208,"value"),d(),u(209,': A value is the object you want to store, in this case, a "Pokemon" object.'),d(),f(210,"li")(211,"strong"),u(212,"entity"),d(),u(213,": An entity is a value wrapped in a "),f(214,"code",25),u(215,"Entity<T>"),d(),u(216," object."),d()(),f(217,"h1",32),u(218,"State"),d(),f(219,"p"),u(220,' Now that we have an entity, we can create our state. A state is composed by a type defined its shape and its initial value. Let\'s start by the shape of the state. In this example, it will simply contain a section called "pokemons". A section can be seen as a table in a database. It stores data of the same type. '),d(),f(221,"p"),u(222,' I usually create the state in a file called "app.state" located in a "states" directory. '),d(),f(223,"pre")(224,"code",25),u(225),d()(),f(226,"p"),u(227," Along with the shape of the state, we need to defined its initial value. In the same file, add the following lines: "),d(),f(228,"pre")(229,"code",25),u(230),d()(),f(231,"p"),u(232,' "createEntities" is a function that creates an empty section in your store. '),d(),f(233,"h1",33),u(234,"Configuration"),d(),f(235,"p"),u(236," The last step required to use the start is simply to inject it in your module and configure it to use the default value of your store. "),d(),f(237,"p",34),u(238,' As ng-store is not yet standalone compatible, you have to import "NgStoreModule" in the components using it. However, the standalone support is one of the next feature planned. '),d(),f(239,"pre")(240,"code",25),u(241),d()(),f(242,"p"),u(243," The configuration object accepts other properties but we'll cover them later in this documentation. "),d(),f(244,"p"),u(245," ng-store supports loading data asynchronously using HTTP requests. To use this feature, you can either not define the "),f(246,"code",25),u(247,"httpClientType"),d(),u(248," to use the default HTTP client of Angular or define it on a custom class (more on that later). "),d(),f(249,"h1",35),u(250,"Find functions"),d(),f(251,"p"),u(252," Find functions are used to find entities or values in the store. Let's start by updating the initial state of the store in order to insert some data. "),d(),f(253,"pre")(254,"code",25),u(255),d()(),f(256,"p"),u(257," Here's the ncessary code used to retrieve all the pokemons from the store: "),d(),f(258,"pre")(259,"code",25),u(260),d()(),f(261,"p"),u(262," We're using the "),f(263,"code",25),u(264,"getValues"),d(),u(265,' function to returns all the values stored in the "pokemons" section of the store. The '),f(266,"code",25),u(267,"trackByValue"),d(),u(268," variable is a function proposed by ng-store to tell "),f(269,"code",25),u(270,"ngFor"),d(),u(271,' to use the "id" property of array values. '),d(),f(272,"pre")(273,"code",36),u(274),d()(),f(275,"p"),u(276,"The result being:"),d(),f(277,"div",37),Te(278,"img",38),d(),f(279,"p"),u(280," Now, to understand the difference between an entity and its value, let's use this variation of the code: "),d(),f(281,"pre")(282,"code",25),u(283),d()(),f(284,"pre")(285,"code",36),u(286),d()(),f(287,"p"),u(288," This time, the result is: "),d(),f(289,"div",37),Te(290,"img",39),d(),f(291,"p"),u(292," As you can see, an entity is an object with a "),f(293,"code",25),u(294,"value"),d(),u(295,' property that contains the actual object you want to use. It also contains other properties used by "ng-store" to maintain the store in a correct state. Besides, we\'ll see later in this document that you can use some of these properties to update the UI of your component depending on the state of the entities in the store. '),d(),f(296,"p",34),u(297," In this case, we used "),f(298,"code",25),u(299,"trackByEntity"),d(),u(300," as we're dealing with entities. "),d(),f(301,"p"),u(302,' It is also possible to find a value or an entity in the store based on its "id" using the '),f(303,"code",25),u(304,"findValueByKey"),d(),u(305," or "),f(306,"code",25),u(307,"findEntityByKey"),d(),u(308,'. For example, here is how you would find the pokemon with the "id" 1. '),d(),f(309,"pre")(310,"code",25),u(311,"public firstValue: Pokemon | null = this._store.findValueByKey(s => s.pokemons, 1);\npublic firstEntity: Entity<Pokemon> | null = this._store.findEntityByKey(s => s.pokemons, 1);"),d()(),f(312,"p"),u(313," Note that these functions return "),f(314,"code",25),u(315,"null"),d(),u(316," if the entity cannot be found. "),d(),f(317,"p"),u(318," It is also possible to find values by any other criteria using the functions "),f(319,"code",25),u(320,"findValuesBy"),d(),u(321," or "),f(322,"code",25),u(323,"findEntitiesBy"),d(),u(324,'. In the following example, we\'ll find all "normal" pokemons. '),d(),f(325,"pre")(326,"code",25),u(327,"public normalValues: Pokemon[] = this._store.findValuesBy(s => s.pokemons, p => p.type === 'normal');\npublic normalEntities: Entity<Pokemon>[] = this._store.findEntitiesBy(s => s.pokemons, e => e.value.type === 'normal');"),d()(),f(328,"p",40),u(329," Even though the code above works, it's recommanded and more performant to use "),f(330,"a",13),u(331,"indexes"),d(),u(332,' as much as possible to find values based on another property than the "id". '),d(),f(333,"p"),u(334," You can also use the functions "),f(335,"code",25),u(336,"findEntityBy"),d(),u(337," and "),f(338,"code",25),u(339,"findValueBy"),d(),u(340," to find the first entity or value matching the condition. "),d(),f(341,"p",34),u(342," You can find the code of this section in "),f(343,"a",41),u(344,"this example"),d(),u(345," of the playground. "),d(),f(346,"h1",42),u(347,"Select functions"),d(),f(348,"p"),u(349," In the previous chapter, we saw how to retrieve values from the store. Even though it works, there is something you need be aware of: The store is "),f(350,"strong"),u(351,"immutable"),d(),u(352,". You can confirm this by trying to do something like this: "),d(),f(353,"pre")(354,"code",25),u(355),d()(),f(356,"p"),u(357," The code above would produce the following error in the console: "),d(),f(358,"div",37),Te(359,"img",43),d(),f(360,"p"),u(361," Indeed, values in the store are "),f(362,"strong"),u(363,"immutable"),d(),u(364,", which means that you cannot directly update them like in the example above. If you never used immutability, it can seem weird but I strongly advice you to read on the subject to understand why it is a better idea to store the object like this. "),d(),f(365,"p"),u(366," There are multiple ways to ensure immutability in JavaScript and ng-store uses an awesome library called "),f(367,"a",44),u(368,"immer"),d(),u(369,". I won't talk about this library in here but I strongly advice you to have a look at it if you want to understand how ng-store works under the hood. "),d(),f(370,"p"),u(371," One important consequence of immutability is that objects that you retrieve from the store using "),f(372,"a",45),u(373,"find functions"),d(),u(374," might not always display the most up to date data. Indeed, say you get a value from the store using a find function. If this value changes in the store, your component will still hold a reference to the same object, so the one that hasn't been modified (as the modification triggers the creation of a new object), so you need to have a way to know when a value is modified in order to refresh your component accordingly, which is exactly what select functions are for. "),d(),f(375,"p"),u(376," Basically, select functions are the same than find functions but they return observables instead of values or entities. For example: "),d(),f(377,"pre")(378,"code",25),u(379,"public values$: Observable<Pokemon[]> = this._store.selectValues(s => s.pokemons);\npublic entities$: Observable<Entity<Pokemon>[]> = this._store.selectEntities(s => s.pokemons);"),d()(),f(380,"p"),u(381," As you can see, you use "),f(382,"code",25),u(383,"selectValues"),d(),u(384," and "),f(385,"code",25),u(386,"selectEntities"),d(),u(387," the same way you use "),f(388,"code",25),u(389,"getValues"),d(),u(390," and "),f(391,"code",25),u(392,"getEntities"),d(),u(393,". The only difference is that these functions return an observable instead of the values or entities. As for the templates, the code is almost the same. "),d(),f(394,"pre")(395,"code",36),u(396),d()(),f(397,"p"),u(398," The only difference here is that you have to use the "),f(399,"code",25),u(400,"async"),d(),u(401," pipe. "),d(),f(402,"p"),u(403," Using the select functions, you ensure that your component will be notified each time a values that you retrieved changes. Another big advantage is that you can use the "),f(404,"code",25),u(405,"async"),d(),u(406,' pipe to refresh the view of the component in a way supported by the "OnPush" change detection strategy. '),d(),f(407,"p",34),u(408," You can find the code of this section in "),f(409,"a",46),u(410,"this example"),d(),u(411," of the playground. "),d(),f(412,"h1",47),u(413,"Indexes"),d(),f(414,"p"),u(415," In the previous example, we saw how to select values based on another critera than their key. Even though it works, it's not optimal for performances. For example: "),d(),f(416,"pre")(417,"code",25),u(418,"public normal: Observable<Pokemon[]> = this._store.selectValuesBy(s => s.pokemons, p => p.type === 'normal');"),d()(),f(419,"p"),u(420," The issue here is that when the store gets updated, it will emit its new value, therefore, the predicate above will get executed for all pokemons once again.. If there are less than 10 000 items, it should be pretty fast, however, if your store contains a huge amount of pokemons, it can be pretty intensive to examine all of them to only return the normal ones. In this case, it is recommended to use indexes instead. Basically, an index is a property of the object that the store uses to organize its content in an efficient way. "),d(),f(421,"p"),u(422," The first thing to do in order to use indexes is to define them when using "),f(423,"code",25),u(424,"createEntities"),d(),u(425,": "),d(),f(426,"pre")(427,"code",25),u(428),d()(),f(429,"p"),u(430," Indexes are defined using the second parameter of "),f(431,"code",25),u(432,"createEntities"),d(),u(433," by passing an array of property names that will be used as indexes. It can be tempting to define every property in there but it is better to only defines the ones you'll really be using the most. Indeed, even though ng-store supports multiple indexes, maintaining them has a small cost, so it's better to avoid it if you don't need it. "),d(),f(434,"p"),u(435," Now that we defined our index, we can simply used it via the functions "),f(436,"code",25),u(437,"findValuesByIndex"),d(),u(438," or "),f(439,"code",25),u(440,"selectValuesByIndex"),d(),u(441,": "),d(),f(442,"pre")(443,"code",25),u(444,"public normal: Observable<Pokemon[]> = this._store.selectValuesByIndex(s => s.pokemons, 'type', 'normal');"),d()(),f(445,"p",34),u(446," You can find the code of this section in "),f(447,"a",48),u(448,"this example"),d(),u(449," of the playground. "),d(),f(450,"h1",49),u(451,"Upsert"),d(),f(452,"p"),u(453," Updating the store is pretty straightforward. In most scenario, data to add or update in the store are complete entities received by REST API, so you'll want to use the "),f(454,"code",25),u(455,"upsertValue"),d(),u(456," or "),f(457,"code",25),u(458,"upsertValues"),d(),u(459," functions. These functions add or update an object in the store based on its key. If an object with its key is already in the store, it will be merged with the one you pass to these functions. The only difference between these two functions is that "),f(460,"code",25),u(461,"upsertValues"),d(),u(462," expects an array and is used to upsert one or multiple values. "),d(),f(463,"p"),u(464," Say that you have the following component: "),d(),f(465,"pre")(466,"code",25),u(467),d()(),f(468,"p"),u(469," With the following template: "),d(),f(470,"pre")(471,"code",36),u(472),d()(),f(473,"p"),u(474," Nothing fancy, so far it simply selects all pokemons from the store, sort them in alphabetical order then display them. There are also three buttons. The first one upserts a new value in the store, the second one upserts a value that is already in the store (but with different data to show the effect) and the third one updates a property of a value. "),d(),f(475,"p"),u(476," Here is the code of the first button: "),d(),f(477,"pre")(478,"code",25),u(479),d()(),f(480,"p"),u(481," It does not get simpler than this. You just pass the new value to add in the store, and it gets added. Updating an existing value with another one is also very simple: "),d(),f(482,"pre")(483,"code",25),u(484),d()(),f(485,"p"),u(486," Here, we simply update the value with key 1 with a new value. However, it can happen that you don't have an object containing all the data of the entity you want to update, in this case, you can use the "),f(487,"code",25),u(488,"updateValueByKey"),d(),u(489," function to update an entity the way you want: "),d(),f(490,"pre")(491,"code",25),u(492),d()(),f(493,"p"),u(494," Let see what the component displays at first: "),d(),f(495,"div",37),Te(496,"img",50),d(),f(497,"p"),u(498," Now, let's click on the first button: "),d(),f(499,"div",37),Te(500,"img",51),d(),f(501,"p"),u(502," Vulpix got added to the list and as we're using an observable, the view got refreshed automatically even though we're using the \"OnPush\" change detection strategy. Now, push the second button. "),d(),f(503,"div",37),Te(504,"img",52),d(),f(505,"p"),u(506," Pikachu disappeared and got replaced by Zubat. And finally, the third button: "),d(),f(507,"div",37),Te(508,"img",53),d(),f(509,"p"),u(510," Zubat got updated and became Jigglypuff. "),d(),f(511,"p"),u(512,"Besides these functions, you can also use the following ones:"),d(),f(513,"ul")(514,"li")(515,"strong"),u(516,"updateEntitiesBy"),d(),u(517,": Update "),f(518,"strong"),u(519,"entities"),d(),u(520," based on a predicate."),d(),f(521,"li")(522,"strong"),u(523,"updateEntityByKey"),d(),u(524,": Update an "),f(525,"strong"),u(526,"entity"),d(),u(527," based on its key."),d(),f(528,"li")(529,"strong"),u(530,"updateValuesBy"),d(),u(531,": Update "),f(532,"strong"),u(533,"values"),d(),u(534," based on a predicate."),d()(),f(535,"p",34),u(536," You can find the code of this section in "),f(537,"a",54),u(538,"this example"),d(),u(539," of the playground. "),d(),f(540,"h1",55),u(541,"Remove"),d(),f(542,"p"),u(543," Removing values from the store can be done using these two functions: "),d(),f(544,"ul")(545,"li")(546,"strong"),u(547,"removeValuesBy"),d(),u(548,": Removes values based on a predicate."),d(),f(549,"li")(550,"strong"),u(551,"removeValuesByKeys"),d(),u(552,": Removes values based on their key."),d()(),f(553,"p"),u(554," For example, to remove the values with key 1 or 2: "),d(),f(555,"pre")(556,"code",25),u(557),d()(),f(558,"p"),u(559," Or to remove all normal pokemons: "),d(),f(560,"pre")(561,"code",25),u(562),d()(),f(563,"p",34),u(564," You can find the code of this section in "),f(565,"a",56),u(566,"this example"),d(),u(567," of the playground. "),d(),f(568,"h1",57),u(569,"Load"),d(),f(570,"p"),u(571," So far, we saw how to use the store in a synchronous way, however, in a real life scenario, data in the store get most of the time loaded using REST API in an asynchronous way. You could do it with what we saw above but ng-store comes with support for asynchronous loading of data. It also provides some components to simplify the UI. Let's start with a simple use case: "),d(),f(572,"ul")(573,"li"),u(574,"Pokemons are loaded using a call to a REST API."),d(),f(575,"li"),u(576,"We want to load all the pokemons but not all of their properties, to save bandwidth (partial load)."),d(),f(577,"li"),u(578,"We want a component to display a pokemon based on its id (all its properties)."),d()(),f(579,"p"),u(580,' For those who want to run the examples from the playground, I\'m using the "json-server" library to create a fake web service. You can start it by running the command '),f(581,"code",25),u(582,"yarn json"),d(),u(583," in the playground directory. All the call have a latency of one second in order to see what happens during the data loading. "),d(),f(584,"p"),u(585,' The first thing to do to be able to use HTTP calls is to configure "ng-store" in that way: '),d(),f(586,"pre")(587,"code",25),u(588),d()(),f(589,"p"),u(590,' We removed the "httpClientType" property to instruct Angular to use the default '),f(591,"code",25),u(592,"HttpClient"),d(),u(593," and we also imported the "),f(594,"code",25),u(595,"HttpClientModule"),d(),u(596,". "),d(),f(597,"p"),u(598," Now, we're going to create a "),f(599,"code",25),u(600,"PokemonService"),d(),u(601," to do the heavy lifting of loading data: "),d(),f(602,"pre")(603,"code",25),u(604),d()(),f(605,"p"),u(606,' As we saw earlier, you could make the HTTP call by yourself and handle the loading, error and success states, but "ng-store" provides a component called '),f(607,"code",25),u(608,"ngs-container"),d(),u(609," to help you with that. Here, we'll see the most basic usage of this component, but you can find more information about it "),f(610,"a",20),u(611,"later in this documentation"),d(),u(612,". "),d(),f(613,"p"),u(614," This component works by using two observables: "),d(),f(615,"ul")(616,"li")(617,"strong"),u(618,"query$"),d(),u(619,": Used to perform the HTTP call."),d(),f(620,"li")(621,"strong"),u(622,"data$"),d(),u(623,": Retrieves the data you want to use in your template from the store."),d()(),f(624,"p"),u(625," In our case, we'll start by implementing the function used to fetch data using a REST call in our service: "),d(),f(626,"pre")(627,"code",25),u(628),d()(),f(629,"p"),u(630," The "),f(631,"code",25),u(632,"loadAllEntities"),d(),u(633," function must be used to load all the entities from the server and put them in a store section. This function expects at most four parameters: "),d(),f(634,"ul")(635,"li")(636,"strong"),u(637,"url"),d(),u(638,": URL to call to retrieve the data. "),d(),f(639,"li")(640,"strong"),u(641,"root"),d(),u(642,": predicate used to select the section of the store that will store the fetched data. "),d(),f(643,"li")(644,"strong"),u(645,"entityLoaded"),d(),u(646,": Define whether the loaded entities are complete or not (more on that a bit later). "),d(),f(647,"li")(648,"strong"),u(649,"force"),d(),u(650,": When data are loaded and put in the store, subsequents call to "),f(651,"code",25),u(652,"loadAllEntities"),d(),u(653," for the same section will return them and not call the REST API again. However, you can force the store to refetch the data by setting this parameter to "),f(654,"code",25),u(655,"true"),d(),u(656,". "),d()(),f(657,"p"),u(658,' In this case, we use this function to call the web service at the specified URL and store the values returned by it in the "pokemons" section of the store. Moreover, as this route only returns '),f(659,"strong"),u(660,"some"),d(),u(661," properties of the pokemons, we set the third parameter to "),f(662,"strong"),u(663,"false"),d(),u(664," in order to indicate to the store that entities are loaded but not completely (we'll use that fact a bit later). "),d(),f(665,"p"),u(666," Now that we have this function, we can update the code of our component like so: "),d(),f(667,"pre")(668,"code",25),u(669),d()(),f(670,"p"),u(671," We simply set the "),f(672,"code",25),u(673,"query$"),d(),u(674," observable on the value returned by our service function and the "),f(675,"code",25),u(676,"data$"),d(),u(677," on a selection from the store. We also use the "),f(678,"code",25),u(679,"map"),d(),u(680," operator to sort the result based on the pokemons' name. Once we have these observables, we can use them in the template along with the "),f(681,"code",25),u(682,"ngs-container"),d(),u(683,". "),f(684,"code",25),u(685,"selectedId"),d(),u(686," variable will be used to display a pokemon in another component. "),d(),f(687,"pre")(688,"code",36),u(689),d()(),f(690,"p"),u(691," Basically, the "),f(692,"code",25),u(693,"ngs-container"),d(),u(694," expects the two observables we mentionned, instantiates a "),f(695,"code",25),u(696,"ng-template"),d(),u(697," and passes the values emitted by "),f(698,"code",25),u(699,"data$"),d(),u(700," observable in its implicit variable. Here, we store these data in the variable "),f(701,"code",25),u(702,"pokemons"),d(),u(703," then we use it to display all the pokemons. We also display a small icon that sets the value of "),f(704,"code",25),u(705,"selectedId"),d(),u(706," on the pokemon id. "),d(),f(707,"p"),u(708," One of the advantage of this component is that it handles loading and error states. Indeed, if the HTTP call fails, the container component catches it and can do something with the error. By default, it simply displays it. However, you can configure the container to display the error in a custom way. As for the loading indicator, the json server is configured to have a latency of one second and during this second, you can see that the "),f(709,"code",25),u(710,"ngs-container"),d(),u(711,' displays "'),f(712,"em"),u(713,"Loading..."),d(),u(714,'". There is different possibilities for the loading indicator format but here, we set the property '),f(715,"code",25),u(716,"loaderType"),d(),u(717," on "),f(718,"code",25),u(719,"text"),d(),u(720," to simply display a loading sentence. We'll see in the "),f(721,"a",20),u(722,"ngs-container"),d(),u(723," chapter how to customize this loading indicator. Let's confirm all of this by running our application with the JSON server turned off: "),d(),f(724,"div",37),Te(725,"img",58),d(),f(726,"p"),u(727," The container correctly caught the error and displayed it. Now, let's start the JSON server and refresh our page. At first, we can see: "),d(),f(728,"div",37),Te(729,"img",59),d(),f(730,"p"),u(731," Then after one second: "),d(),f(732,"div",37),Te(733,"img",60),d(),f(734,"p"),u(735," So, as you can see, the "),f(736,"code",25),u(737,"ngs-container"),d(),u(738," really handles everything you need to fetch the data and display what needs to be displayed depending on the current state of the request. "),d(),f(739,"p"),u(740," We'll go a little further by creating a component that will receive the id of a pokemon in input and display all its data. As we said earlier, the call we used in the main component only loaded some of the properties. Now, we'll see how to load all the properties of the pokemon with the specified id. First, let's add a method to our service in order to load a pokemon based on its id. "),d(),f(741,"pre")(742,"code",25),u(743),d()(),f(744,"p",34),u(745," This route fetches a pokemon based on its id and returns "),f(746,"strong"),u(747,"all its properties"),d(),u(748,". "),d(),f(749,"p")(750,"code",25),u(751,"loadEntityByKey"),d(),u(752," calls a route in order to load an entity if it is not yet in the store or if it is in the store but is flagged as not completely loaded, which is the case here. Indeed, we called "),f(753,"code",25),u(754,"loadAllEntities"),d(),u(755," by passing "),f(756,"code",25),u(757,"false"),d(),u(758," as the third parameter, indicating this way that loaded entities were not complete. Note that "),f(759,"code",25),u(760,"loadEntityByKey"),d(),u(761," also set the entity it loads as completely loaded (except if you pass "),f(762,"code",25),u(763,"false"),d(),u(764,' in its fourth parameter), meaning that calling twice this function for the same entity will call the REST API only once. Moreover, and that\'s the case for all loading functions of "ng-store", if multiple components try to load an entity at the exact same time, only one call is made but the entity will be available for all components. '),d(),f(765,"p"),u(766," Now that we have this function, we can use it in a new component: "),d(),f(767,"pre")(768,"code",25),u(769),d()(),f(770,"p"),u(771," The idea here is the same than for the first component except that the "),f(772,"code",25),u(773,"query$"),d(),u(774," and "),f(775,"code",25),u(776,"data$"),d(),u(777," observables are defined in the setter of the id input. Now we can use them in the template: "),d(),f(778,"pre")(779,"code",36),u(780),d()(),f(781,"p"),u(782," The only thing left to do is adding the following line in the template of the main component: "),d(),f(783,"pre")(784,"code",36),u(785,'<app-pokemon *ngIf="selectedId !== null"\n             [id]="selectedId"></app-pokemon>\n'),d()(),f(786,"p"),u(787," And that's it. Let's have a look at the network tab of the console in order to see what happens in terms of HTTP calls. First, when the application starts: "),d(),f(788,"div",37),Te(789,"img",61),d(),f(790,"p"),u(791," Now, click on the eye icon of the first pokemon: "),d(),f(792,"div",37),Te(793,"img",62),d(),f(794,"p"),u(795," We see that the call to the route loading all the pokemon properties is correctly executed. Now, let's click on the eye of the second pokemon then click again on the eye of the first pokemon: "),d(),f(796,"div",37),Te(797,"img",63),d(),f(798,"p"),u(799," As you can see, the call for the second pokemon is correctly done, however, the call for the first pokemon is not done another time. Indeed, as the entity is in the store and is completely loaded, it does not get loaded once again. Note that you can force the query (to refresh data maybe) by passing "),f(800,"code",25),u(801,"true"),d(),u(802," as the fifth parameter. "),d(),f(803,"p",34),u(804," You can find the code of this section in "),f(805,"a",64),u(806,"this example"),d(),u(807," of the playground. "),d(),f(808,"p"),u(809," Let's spice things up a bit by checking how to load dependent data. Say that this time, our web services looks a bit more like what you would expect from a relational REST API. Meaning that instead of having the types of the pokemons as a string property, you have a route returning all the types and the property "),f(810,"code",25),u(811,"type"),d(),u(812," is replaced by the property "),f(813,"code",25),u(814,"typeId"),d(),u(815," which contains the id of the type. "),d(),f(816,"p"),u(817," Moreover, we want to update our main component to display all the pokemon types and then, in another component, a list of all the pokemons of the selected type. Let's start by creating our models. "),d(),f(818,"p"),u(819," The pokemon model: "),d(),f(820,"pre")(821,"code",25),u(822),d()(),f(823,"p"),u(824," And the type one: "),d(),f(825,"pre")(826,"code",25),u(827),d()(),f(828,"p"),u(829," Now let's update our state: "),d(),f(830,"pre")(831,"code",25),u(832),d()(),f(833,"p"),u(834," Now, it's time to update our service. The first function we'll implement is the one responsible of loading all the types in the store. "),d(),f(835,"pre")(836,"code",25),u(837),d()(),f(838,"p"),u(839," Let's head to our main component to do the necessary changes to display all these types: "),d(),f(840,"pre")(841,"code",25),u(842),d()(),f(843,"pre")(844,"code",36),u(845),d()(),f(846,"p"),u(847," Nothing much different so far. The only difference is that the component showing all the pokemons of the selected type is called "),f(848,"code",25),u(849,"app-pokemon-by-type"),d(),u(850," and that's in this component that we'll learn how to load dependent data. What I call dependant data are data that depends on another entity. In this case, we'll load the pokemon depending on their type. The first thing to do in order to load them easily with the store is to add a property to our \"type\" model: "),d(),f(851,"pre")(852,"code",25),u(853),d()(),f(854,"p"),u(855," The property "),f(856,"code",25),u(857,"pokemonsLoaded"),d(),u(858," will be used by the store to determine whether the pokemons of that type have already been loaded or not and load them accordingly. Currently, this property is not optional and must be defined, so if you happen to insert data in the store manually, simply set it to "),f(859,"code",25),u(860,"false"),d(),u(861," and you'll be fine. "),d(),f(862,"p"),u(863," Now, it's time to update our service to implement a function that will load pokemons from a specific type if they were not loaded yet. "),d(),f(864,"pre")(865,"code",25),u(866),d()(),f(867,"p"),u(868," So basically, we use the "),f(869,"code",25),u(870,"loadEntities"),d(),u(871," function to load entities based on the property of another one. The two first parameters are the same than for the others functions, what's interesting is the third and fourth one. The third one allows you to find the depending entity. Most of the time, you'll use the utility function "),f(872,"code",25),u(873,"findStoreValueByKey"),d(),u(874," to do so. Simply pass it the section of the store where you want to find the depending entity and its id. Then, the fourth parameter is simply the name of the property to use in order to define whether the entities have been loaded or not. This has to be passed as a string to allow the store to update this property as he wishes to (which means that you should never update the value of this property by yourself). The last parameter is the same as for the others functions and determines whether entities are completely or partially loaded (in that case, they are only partially loaded). "),d(),f(875,"p"),u(876," Now that we have this, we can implement the component showing the pokemons of a certain type: "),d(),f(877,"pre")(878,"code",25),u(879),d()(),f(880,"p"),u(881," And the template: "),d(),f(882,"pre")(883,"code",65),u(884),d()(),f(885,"p"),u(886," And that's it, folks! If you run your application, you'll have: "),d(),f(887,"div",37),Te(888,"img",66),d(),f(889,"p"),u(890," And when clicking on the eye next to a type: "),d(),f(891,"div",37),Te(892,"img",67),d(),f(893,"p"),u(894," Like for the other functions, it's important to note that: "),d(),f(895,"ul")(896,"li"),u(897," Entities are only loaded if they were not yet loaded. You can bypass this behavior by using the "),f(898,"code",25),u(899,"force"),d(),u(900," parameter. "),d(),f(901,"li"),u(902," If multiple components try to load the same dependent data at the same moment, only one call is made. "),d()(),f(903,"p",34),u(904," You can find the code of this section in "),f(905,"a",68),u(906,"this example"),d(),u(907," of the playground. "),d(),f(908,"p"),u(909," There is one more function that you could use to load data in the store "),f(910,"code",25),u(911,"loadEntitiesOnce"),d(),u(912,". Basically, this function loads entities only once. The store uses the URL of the REST API to know whether the entities have already been loaded or not. This function is pretty straightforward so I won't show an example here but if you need it, you can still create an issue and I'll update the documentation. "),d(),f(913,"h1",69),u(914,"Post"),d(),f(915,"p"),u(916," Now that we saw how to load data with the store, we are going to see how to create them. Let's start by creating the following models: "),d(),f(917,"pre")(918,"code",25),u(919),d()(),f(920,"p"),u(921," We defined two types: "),d(),f(922,"ul")(923,"li")(924,"strong"),u(925,"Pokemon"),d(),u(926,": The type of our entities."),d(),f(927,"li")(928,"strong"),u(929,"PokemonCreationData"),d(),u(930,": Type of the data sent to the server to create a new pokemon."),d()(),f(931,"p"),u(932," In the service, we'll have one function used to retrieve all the pokemons: "),d(),f(933,"pre")(934,"code",25),u(935),d()(),f(936,"p"),u(937," Finally, the component simply displays all the pokemons: "),d(),f(938,"pre")(939,"code",25),u(940),d()(),f(941,"pre")(942,"code",36),u(943),d()(),f(944,"p"),u(945," So far, nothing new. However, we put a component called "),f(946,"code",36),u(947,"app-pokemon-add-form"),d(),u(948," that we'll use to create new pokemons. Note that the goal is to automatically refresh the list of pokemons upon creation. Here is a first version of the code of this component: "),d(),f(949,"pre")(950,"code",25),u(951),d()(),f(952,"pre")(953,"code",36),u(954,'<form [formGroup]="form"\n      (ngSubmit)="add()">\n    <div>\n        <label>\n            Name: <input type="text"\n                   formControlName="name">\n        </label>\n    </div>\n    <div>\n        <label>\n            Type: <select formControlName="type">\n                <option value="water">Water</option>\n                <option value="fire">Fire</option>\n                <option value="electric">Electric</option>\n                <option value="grass">Grass</option>\n                <option value="bug">Bug</option>\n                <option value="normal">Normal</option>\n                <option value="poison">Poison</option>\n            </select>\n        </label>\n    </div>\n    <button type="submit"\n            [disabled]="form.valid === false">Create</button>\n</form>\n'),d()(),f(955,"p"),u(956," Basically, we created a simple form using reactive forms and bound the submit event of the form to the "),f(957,"code",25),u(958,"add"),d(),u(959," function. Before implementing this function, we'll create the "),f(960,"code",36),u(961,"addPokemon"),d(),u(962," function in the service that will use the store to perform the creation. "),d(),f(963,"pre")(964,"code",25),u(965),d()(),f(966,"p"),u(967," Creating a new entity with the store is really easy, you just have to call the "),f(968,"code",25),u(969,"postEntity"),d(),u(970," function with the following parameters: "),d(),f(971,"ul")(972,"li")(973,"strong"),u(974,"url"),d(),u(975,": POST URL to call to create the entity."),d(),f(976,"li")(977,"strong"),u(978,"root"),d(),u(979,": Selector used to update the adding state of the entity list (more on that a bit later)."),d(),f(980,"li")(981,"strong"),u(982,"data"),d(),u(983,": Payload sent to the server to create the entity."),d()(),f(984,"p"),u(985," Now, it's just a matter of calling this function in our component: "),d(),f(986,"pre")(987,"code",25),u(988),d()(),f(989,"p"),u(990," If you were to test the component, you'd notice that it works... ish... Two details are a bit annoying here: "),d(),f(991,"ul")(992,"li"),u(993,"The pokemon gets created but a refresh is required to actually see it."),d(),f(994,"li"),u(995,"The button is enabled during the REST call, meaning that a user could potentially clicks multiple times on the button and therefore create the pokemon more than once."),d()(),f(996,"p"),u(997," The first point is really easy to solve with the store. You just need to update the function in the service like so: "),d(),f(998,"pre")(999,"code",25),u(1e3),d()(),f(1001,"p"),u(1002,' Basically, we just piped the observable returned by the function to add the value emitted in the "pokemons" section of the store. Of course, this will only work if, like JSON server, your REST API returns the created entity. If not, you\'ll have to find another way to refresh your store. Here are some ideas: '),d(),f(1003,"ul")(1004,"li"),u(1005," If you web service does not return any interesting value (which it shouldn't), pipe the call to "),f(1006,"code",25),u(1007,"postEntity"),d(),u(1008," with a "),f(1009,"code",25),u(1010,"switchMap"),d(),u(1011," to "),f(1012,"code",25),u(1013,"loadAllEntities"),d(),u(1014," with the "),f(1015,"code",25),u(1016,"force"),d(),u(1017," flag to "),f(1018,"code",25),u(1019,"true"),d(),u(1020,". "),d(),f(1021,"li"),u(1022," If your web service only returns the id of the created entity, pipe the call to "),f(1023,"code",25),u(1024,"postEntity"),d(),u(1025," with a "),f(1026,"code",25),u(1027,"switchMap"),d(),u(1028," to "),f(1029,"code",25),u(1030,"loadEntityByKey"),d(),u(1031," with this id. "),d(),f(1032,"li"),u(1033," If, like me, you love using web socket connections, call "),f(1034,"code",25),u(1035,"upsertValue"),d(),u(1036," in the callback function handling the creation of a pokemon. "),d()(),f(1037,"p"),u(1038," So if you try your component now, you'll notice that the list of pokemons get refresh automatically. However, the button is still enabled during the call. One way to fix this would be to do this: "),d(),f(1039,"pre")(1040,"code",25),u(1041),d()(),f(1042,"pre")(1043,"code",36),u(1044,'<button type="submit"\n        [disabled]="form.valid === false || adding === true">Create</button>\n'),d()(),f(1045,"p"),u(1046," This would work perfectly fine, however, it's a little verbose, especially if you have to do this every time you create a component creating data. A good alternative consists in relying on the store. Indeed, when using "),f(1047,"code",25),u(1048,"postEntity"),d(),u(1049,', the store automatically maintains the "adding" state of the store section you\'re using. In other words, you can achieve the same like this: '),d(),f(1050,"pre")(1051,"code",25),u(1052),d()(),f(1053,"p"),u(1054," And now, you can use this obervable in the template: "),d(),f(1055,"pre")(1056,"code",36),u(1057,'<button type="submit"\n        [disabled]="form.valid === false || (adding$ | async) === true">Create</button>\n'),d()(),f(1058,"p"),u(1059," At the end, you only save two lines of code but on the long run, this feature comes very handy. "),d(),f(1060,"p",34),u(1061," You can find the code of this section in "),f(1062,"a",70),u(1063,"this example"),d(),u(1064," of the playground. "),d(),f(1065,"h1",71),u(1066,"Put"),d(),f(1067,"p"),u(1068," To demonstrate how to update data with the store, we'll start with the code of "),f(1069,"a",72),u(1070,"the previous example"),d(),u(1071,". First, we need to change the model containing updated data: "),d(),f(1072,"pre")(1073,"code",25),u(1074),d()(),f(1075,"p"),u(1076," the "),f(1077,"code",25),u(1078,"id"),d(),u(1079," property is a number or "),f(1080,"code",25),u(1081,"null"),d(),u(1082," as it can contain both values; a number when you want to update an existing entity or "),f(1083,"code",25),u(1084,"null"),d(),u(1085," when you want to create it. As for the service: "),d(),f(1086,"pre")(1087,"code",25),u(1088),d()(),f(1089,"p"),u(1090," Now, let's update the main component in order to display an edit icon next to the names of the pokemons: "),d(),f(1091,"pre")(1092,"code",25),u(1093),d()(),f(1094,"pre")(1095,"code",36),u(1096),d()(),f(1097,"p"),u(1098," Here, the only subtility is on the click event of the icon. Basically, it changes the "),f(1099,"code",25),u(1100,"selectedId"),d(),u(1101," variable on the id of the pokemon to edit or "),f(1102,"code",25),u(1103,"null"),d(),u(1104," if "),f(1105,"code",25),u(1106,"selectedId"),d(),u(1107," already contains it. It allows to select the pokemon if it was not yet selected or unselect it otherwise. "),d(),f(1108,"p"),u(1109," The most important code is located in the upsert component: "),d(),f(1110,"pre")(1111,"code",25),u(1112),d()(),f(1113,"p"),u(1114," So the idea here is that we won't assume that the entity you want to update is already in the store. In a real life scenario, it is most likely that entities will be loaded prior being able to update them but let's imagine it's not the case. "),d(),f(1115,"p"),u(1116," The "),f(1117,"code",25),u(1118,"id"),d(),u(1119," input can recieve two different values: "),d(),f(1120,"ul")(1121,"li")(1122,"strong"),u(1123,"null"),d(),u(1124,": Means that we want to create a new pokemon."),d(),f(1125,"li")(1126,"strong"),u(1127,"A number"),d(),u(1128,": Means that we want to update the pokemon with this id."),d()(),f(1129,"p"),u(1130," So, depending on the value of this input, we will either set the "),f(1131,"code",25),u(1132,"query$"),d(),u(1133," and "),f(1134,"code",25),u(1135,"data$"),d(),u(1136," observables on an observable emitting the "),f(1137,"code",25),u(1138,"null"),d(),u(1139," value (in case of creation) or on observables used to load and select the entity. Note that we use the operators "),f(1140,"code",25),u(1141,"filter"),d(),u(1142," and "),f(1143,"code",25),u(1144,"take"),d(),u(1145," in order to only used the first non null emitted value. We do that for a specific reason. Indeed, we'll set the value of the form based on the current data of the entity. However, if we didn't stop after the first non null emitted value, we would have taken the risk to lost our modification during the edition. Indeed, say you fetched the pokemon 1 and set the value of the form based on it. Now, while you're typing the new name of the pokemon, the state of the entity changes (maybe in reaction to a web socket message). As a new value is emitted, the form will reset with the new values and you'll lose all your modifications. This is why we used "),f(1146,"code",25),u(1147,"take"),d(),u(1148,"; in order to avoid losing the current modification. "),d(),f(1149,"p"),u(1150," Then we have the "),f(1151,"code",25),u(1152,"busy$"),d(),u(1153,' observable. In order to disable the button, we could check the "adding" state of the entity list or the "updating" state of the entity but there is an easier solution. Indeed, whenever an entity is being added, deleted or updated, the "busy" state of the entity list is set to '),f(1154,"code",25),u(1155,"true"),d(),u(1156,". So in this case, we can simply used this state to know whether an entity is being updated or added. "),d(),f(1157,"p"),u(1158," In the "),f(1159,"code",25),u(1160,"ngOnInit"),d(),u(1161,", we simply create our form with default values. "),d(),f(1162,"p"),u(1163," In the "),f(1164,"code",25),u(1165,"upsert"),d(),u(1166," function, we simply create the payload then send it to the "),f(1167,"code",25),u(1168,"upsertPokemon"),d(),u(1169," function. Note that we only reset the form value in case of creation. Indeed, in case of update, we want to keep the data synchronized with the "),f(1170,"code",25),u(1171,"id"),d(),u(1172," property. "),d(),f(1173,"p"),u(1174," The "),f(1175,"code",25),u(1176,"reset"),d(),u(1177," function resets the form based on the object received in parameter. "),d(),f(1178,"p"),u(1179," Now let's have a look at the template: "),d(),f(1180,"pre")(1181,"code",36),u(1182),d()(),f(1183,"p"),u(1184," We're using the "),f(1185,"code",25),u(1186,"changed"),d(),u(1187," event of the container to execute a function when the data emitted by "),f(1188,"code",25),u(1189,"data$"),d(),u(1190," changes. In this case, we want to reset the form with the emitted value. Remember, in case of "),f(1191,"code",25),u(1192,"id null"),d(),u(1193,", we emit the value "),f(1194,"code",25),u(1195,"null"),d(),u(1196,", however, if the "),f(1197,"code",25),u(1198,"id"),d(),u(1199," is defined, we emit to first non-null value from the store. "),d(),f(1200,"p"),u(1201," The last thing to note is the button: we disable it if the form is invalid or if the "),f(1202,"code",25),u(1203,"busy$"),d(),u(1204," observable emits "),f(1205,"code",25),u(1206,"true"),d(),u(1207,". Moreover, we change the label of the button depending on the "),f(1208,"code",25),u(1209,"id"),d(),u(1210," field of the form. "),d(),f(1211,"p"),u(1212," Note that we could have done this in different ways, but it's important to use an observable for the busy state of the form. Indeed, as we are using the "),f(1213,"code",25),u(1214,"OnPush"),d(),u(1215," change detection strategy, it's important to refresh the view when the state of the form changes. Without this, we would have needed to "),f(1216,"code",25),u(1217,"markForCheck"),d(),u(1218," the component in order to reflect the form reset after the update was done. "),d(),f(1219,"p"),u(1220," The last piece of the puzzle is the "),f(1221,"code",25),u(1222,"upsertPokemon"),d(),u(1223," function of the service: "),d(),f(1224,"pre")(1225,"code",25),u(1226),d()(),f(1227,"p"),u(1228,' This function is actually a bit more complicated than it needs to be "because" of the JSON server. Indeed, in real life scenario, you would probably have implemnted an upsert function creating or updating the entity. However, JSON server does not provide a route to do both. You either have to perform a POST to create the entity of a PUT to update it. '),d(),f(1229,"p"),u(1230," However, it is not very complicated. Basically, if "),f(1231,"code",25),u(1232,"data.id"),d(),u(1233," is "),f(1234,"code",25),u(1235,"null"),d(),u(1236,", we call the "),f(1237,"code",25),u(1238,"postEntity"),d(),u(1239," function like we did in the previous example. Otherwise, we call "),f(1240,"code",25),u(1241,"putEntityByKey"),d(),u(1242," that behaves exactly like "),f(1243,"code",25),u(1244,"postEntity"),d(),u(1245," but requires the key of the entity as the third parameter. As both functions return the same type of object, you can store it in a single variable then pipe it in order to update the store once the call is done. "),d(),f(1246,"p"),u(1247," And that's it, you have a component that can add or update an entity pretty easily. "),d(),f(1248,"p",34),u(1249," You can find the code of this section in "),f(1250,"a",73),u(1251,"this example"),d(),u(1252," of the playground. "),d(),f(1253,"h1",74),u(1254,"Delete"),d(),f(1255,"p"),u(1256," The last operation left to support is the deletion of values in the store. Here are the relevant parts of the example: "),d(),f(1257,"p"),u(1258," First, the model: "),d(),f(1259,"pre")(1260,"code",25),u(1261),d()(),f(1262,"p"),u(1263," Then, the service: "),d(),f(1264,"pre")(1265,"code",25),u(1266),d()(),f(1267,"p"),u(1268," Deleting an item from the store using a REST call can be done using the "),f(1269,"code",25),u(1270,"deleteEntityByKey"),d(),u(1271," function. It simply expects the route to the REST API, the section of the store to find the entity and its key. Note that this function only calls the route and set the "),f(1272,"code",25),u(1273,"deleting"),d(),u(1274," property of the entity to "),f(1275,"code",25),u(1276,"true"),d(),u(1277," but does not actually remove the entity from the store, which is why we pipe the observable to a call to the "),f(1278,"code",25),u(1279,"removeValuesByKeys"),d(),u(1280," function that actually removes the entity from the store. Note that you can pass more than one key if you wish to delete multiple entities. "),d(),f(1281,"p"),u(1282," There is also another function called "),f(1283,"code",25),u(1284,"removeValuesBy"),d(),u(1285," that can be used to remove entities based on a predicate. "),d(),f(1286,"p"),u(1287," Now, the code of the main component: "),d(),f(1288,"pre")(1289,"code",25),u(1290),d()(),f(1291,"p"),u(1292," The code is pretty self explanatory but there is one thing worth noticing. So far, we only selected values from the store because we didn't need to access their state (adding, updating or deleting). Here, we want to display a deleting indicator while the entity is being deleted. To do so, we'll select the pokemon as entities instead of as values. This also means that we need to use "),f(1293,"code",25),u(1294,"trackByEntity"),d(),u(1295," instead of "),f(1296,"code",25),u(1297,"trackByValue"),d(),u(1298,". "),d(),f(1299,"p"),u(1300," And finally the template: "),d(),f(1301,"pre")(1302,"code",36),u(1303),d()(),f(1304,"p"),u(1305," Note that here, we use the "),f(1306,"code",25),u(1307,"value"),d(),u(1308," property of the entities to access the actual "),f(1309,"code",25),u(1310,"Pokemon"),d(),u(1311," object. However, we use the property "),f(1312,"code",25),u(1313,"deleting"),d(),u(1314," to define whether the displayed icon is the little trash or the spinner. This works because the "),f(1315,"code",25),u(1316,"deleteEntityByKey"),d(),u(1317," function updates the "),f(1318,"code",25),u(1319,"deleting"),d(),u(1320," property of the entity during deletion, so you don't have to handle this yourself. "),d(),f(1321,"p",34),u(1322," You can find the code of this section in "),f(1323,"a",75),u(1324,"this example"),d(),u(1325," of the playground. "),d(),f(1326,"h1",76),u(1327,"ngs-container"),d(),f(1328,"p"),u(1329," Coming soon... "),d(),f(1330,"h1",77),u(1331,"store-component"),d(),f(1332,"p"),u(1333," Coming soon... "),d(),f(1334,"h1",78),u(1335,"Roadmap"),d(),f(1336,"p"),u(1337," Here you'll find the next features I'd like to add to this library. Don't hesitate to post an issue to propose some ideas \u{1f609} "),d(),f(1338,"ul")(1339,"li"),u(1340,"Support for standalone components"),d(),f(1341,"li"),u(1342,"Unit testing"),d()()(),Te(1343,"app-top-cta")),2&t&&(F(161),qe("","{",'\n    firstName: "Nicolas",\n    lastName: "Cage",\n    age: 50,\n    friends: [',"{",'\n        firstName: "Nicole",\n        lastName: "Kidman",\n        age: 56\n    }]\n}'),F(5),X("","{",'\n    firstName: "Nicolas",\n    lastName: "Cage",\n    age: 50,\n    friends: [3, 19, 5]\n}'),F(19),qe("import ","{",' BaseEntity } from "@ssougnez/ng-store";\n\nexport type Pokemon = BaseEntity<number> & ',"{","\n    name: string;\n    type: 'water' | 'fire' | 'electric' | 'grass' | 'bug' | 'normal' | 'poison';\n}"),F(40),qe("import ","{",' Pokemon } from "../models/pokemon.model";\n\nexport type AppState = ',"{","\n    pokemons: Entities<Pokemon>;\n}"),F(5),qe("import ","{",' createEntities, Entities } from "@ssougnez/ng-store";\n    \n    export const initial: AppState = ',"{","\n        pokemons: createEntities()\n    }"),F(11),zt("@NgModule(","{","\n    imports: [\n      NgStoreModule\n    ],\n    providers: [\n      ","{","\n        provide: NG_STORE_CONFIG,\n        useValue: ","{","\n          initialValue: initial,\n          httpClientType: null\n        } as StoreConfiguration\n      }\n    ]\n  })\n  export class AppModule ","{"," }\n"),F(14),Ci(["export const initial: AppState = ","{","\n    pokemons: createEntities<Pokemon>([\n        ","{","\n            id: 1,\n            name: 'Pikachu',\n            type: 'electric'\n        },\n        ","{","\n            id: 2,\n            name: 'Bulbasaur',\n            type: 'grass'\n        },\n        ","{","\n            id: 3,\n            name: 'Charmander',\n            type: 'fire'\n        },\n        ","{","\n            id: 4,\n            name: 'Charmander',\n            type: 'fire'\n        },\n        ","{","\n            id: 5,\n            name: 'Squirtle',\n            type: 'water'\n        },\n        ","{","\n            id: 6,\n            name: 'Caterpie',\n            type: 'bug'\n        },\n        ","{","\n            id: 7,\n            name: 'Weedle',\n            type: 'bug'\n        },\n        ","{","\n            id: 8,\n            name: 'Pidgey',\n            type: 'normal'\n        },\n        ","{","\n            id: 9,\n            name: 'Nidoran',\n            type: 'normal'\n        },\n        ","{","\n            id: 10,\n            name: 'Rattata',\n            type: 'normal'\n        },\n        ","{","\n            id: 11,\n            name: 'Spearow ',\n            type: 'normal'\n        },\n        ","{","\n            id: 12,\n            name: 'Ekans ',\n            type: 'poison'\n        }\n    ])\n}"]),F(5),X("export class AppComponent ","{","\n\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public pokemons: Pokemon[] = this._store.getValues(s => s.pokemons);\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n}"),F(14),X('<h1>Pokemon</h1>\n\n<div *ngFor="let pokemon of pokemons; trackBy: trackByValue">',"{{"," pokemon.name }}</div>"),F(9),X("export class AppComponent ","{","\n\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public pokemons: Entity<Pokemon>[] = this._store.getEntities(s => s.pokemons);\n  public trackByEntity: TrackByFunction<Entity<Pokemon>> = trackByEntity;\n\n}"),F(3),X('<h1>Pokemon</h1>\n    \n<div *ngFor="let pokemon of pokemons; trackBy: trackByEntity">',"{{"," pokemon | json }}</div>"),F(69),X("let pokemon: Pokemon | null = this._store.findValueByKey(s => s.pokemons, 1);\n\nif (pokemon !== null) ","{","\n  pokemon.name = 'Super pikachu';\n}"),F(41),qe('<h1>Values</h1>\n\n<div *ngFor="let pokemon of values$ | async; trackBy: trackByValue">',"{{",' pokemon | json }}</div>\n\n<h1>Entities</h1>\n\n<div *ngFor="let pokemon of entities$ | async; trackBy: trackByEntity">',"{{"," pokemon | json }}</div>"),F(32),X("export const initial: AppState = ","{","\n    pokemons: createEntities<Pokemon>([ ... ], ['type'])\n}"),F(39),zt("export class AppComponent ","{","\n\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public pokemons$: Observable<Pokemon[]> = this._store.selectValues<Pokemon>(s => s.pokemons).pipe(\n    map(pokemons => pokemons.sort((p1, p2) => p1.name.localeCompare(p2.name)))\n  );\n\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n  public upsertNonExisting(): void ","{","\n\n  }\n\n  public upsertExisting(): void ","{","\n\n  }\n\n  public updateExisting(): void ","{","\n    \n  }\n}"),F(5),X('<div *ngFor="let p of pokemons$ | async; trackBy: trackByValue">\n    ',"{{",' p.name }}\n</div>\n\n<div>\n    <button (click)="upsertNonExisting()">Upsert non existing</button>\n</div>\n<div>\n    <button (click)="upsertExisting()">Upsert existing</button>\n</div>\n<div>\n    <button (click)="updateExisting()">Update existing</button>\n</div>'),F(7),qe("public upsertNonExisting(): void ","{","\n  const pokemon: Pokemon = ","{","\n    id: 13,\n    name: 'Vulpix',\n    type: 'fire'\n  };\n\n  this._store.upsertValue<Pokemon>(s => s.pokemons, pokemon);\n}"),F(5),qe("public upsertExisting(): void ","{","\n  const pokemon: Pokemon = ","{","\n    id: 1,\n    name: 'Zubat',\n    type: 'poison'\n  };\n\n  this._store.upsertValue<Pokemon>(s => s.pokemons, pokemon);\n}"),F(8),X("public updateExisting(): void ","{","\n  this._store.updateValueByKey(s => s.pokemons, 1, p => p.name = 'Jigglypuff');\n}"),F(65),X("public remove(): void ","{","\n    this._store.removeValuesByKeys<Pokemon>(s => s.pokemons, 1, 2);\n}"),F(5),X("public removeNormal(): void ","{","\n    this._store.removeValuesBy(s => s.pokemons, p => p.type === 'normal');\n}"),F(26),zt("@NgModule(","{","\n    imports: [\n        NgStoreModule,\n        HttpClientModule\n    ],\n    providers: [\n        ","{","\n            provide: NG_STORE_CONFIG,\n            useValue: ","{","\n                initialValue: initial\n            } as StoreConfiguration\n        }\n    ]\n})\nexport class AppModule ","{"," }\n"),F(16),qe("@Injectable(","{","\n    providedIn: 'root'\n})\nexport class PokemonService ","{","\n\n    private _store: NgStore<AppState> = inject(NgStore);\n\n}"),F(24),X("public loadPokemons(): Observable<Pokemon[]> ","{","\n    return this._store.loadAllEntities('http://localhost:3000/pokemons', s => s.pokemons, false);\n}"),F(41),X("export class AppComponent ","{","\n\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public selectedId: number | null = null;\n\n  public query$: Observable<Pokemon[]> = this._pokemonService.loadPokemons();\n  public pokemons$: Observable<Pokemon[]> = this._store.selectValues<Pokemon>(s => s.pokemons).pipe(\n    map(pokemons => pokemons.sort((p1, p2) => p1.name.localeCompare(p2.name)))\n  );\n\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n}\n"),F(20),X('<ngs-container [query$]="query$"\n               [data$]="pokemons$"\n               loaderType="text">\n    <ng-template let-pokemons>\n        <div class="flex-row flex-aic gap1"\n             *ngFor="let p of pokemons; trackBy: trackByValue">\n            <div>',"{{",' p.name }}</div>\n            <i class="fa fa-solid fa-eye pointer"\n               (click)="selectedId = p.id"></i>\n        </div>\n    </ng-template>\n</ngs-container>\n'),F(54),qe("public loadPokemonById(id: number): Observable<Pokemon> ","{","\n    return this._store.loadEntityByKey(`http://localhost:3000/pokemons-full/$","{","id}`, s => s.pokemons, id);\n}\n"),F(26),lr("@Component(","{","\n  selector: 'app-pokemon',\n  templateUrl: './pokemon.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports: [\n    JsonPipe,\n    NgStoreModule\n  ]\n})\nexport class PokemonComponent ","{","\n\n  @Input()\n  public set id(value: number) ","{","\n    this.query$ = this._pokemonService.loadPokemonById(value);\n    this.pokemon$ = this._store.selectValueByKey(s => s.pokemons, value);\n  }\n\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public query$!: Observable<Pokemon>;\n  public pokemon$!: Observable<Pokemon | null>;\n\n}\n"),F(11),X('<ngs-container [query$]="query$"\n    [data$]="pokemon$"\n    loaderType="text">\n    <ng-template let-pokemon>\n        <pre>',"{{"," pokemon | json }}</pre>\n    </ng-template>\n</ngs-container>\n"),F(42),X("export type Pokemon = BaseEntity<number> & ","{","\n    name: string;\n    typeId: number;\n}\n"),F(5),X("export type Type = BaseEntity<number> & ","{","\n    name: string;\n}\n"),F(5),qe("export type AppState = ","{","\n    pokemons: Entities<Pokemon>;\n    types: Entities<Type>;\n}\n\nexport const initial: AppState = ","{","\n    pokemons: createEntities<Pokemon>([], ['typeId']),\n    types: createEntities<Type>()\n}\n"),F(5),X("public loadTypes(): Observable<Type[]> ","{","\n    return this._store.loadAllEntities('http://localhost:3000/types', s => s.types);\n}\n"),F(5),X("export class AppComponent ","{","\n\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore&ltAppState> = inject(NgStore);\n\n  public selectedId: number | null = null;\n\n  public query$: Observable<Type[]> = this._pokemonService.loadTypes();\n  public types$: Observable<Type[]> = this._store.selectValues<Type>(s => s.types).pipe(\n    map(types => types.sort((t1, t2) => t1.name.localeCompare(t2.name)))\n  );\n\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n}\n"),F(3),X('<ngs-container [query$]="query$"\n               [data$]="types$"\n               loaderType="text">\n    <ng-template let-types>\n        <div class="flex-row flex-aic gap1"\n             *ngFor="let t of types; trackBy: trackByValue">\n            <div>',"{{",' t.name }}</div>\n            <i class="fa fa-solid fa-eye pointer"\n               (click)="selectedId = t.id"></i>\n        </div>\n    </ng-template>\n</ngs-container>\n\n<app-pokemon-by-type *ngIf="selectedId !== null"\n                     [id]="selectedId"></app-pokemon-by-type>\n'),F(8),X("export type Type = BaseEntity<number> & ","{","\n    name: string;\n\n    pokemonsLoaded: boolean;\n}\n"),F(13),lr("import ","{",' findStoreValueByKey, NgStore } from "@ssougnez/ng-store";\n    \npublic loadPokemonByType(id: number): Observable<Pokemon[]> ',"{","\n    return this._store.loadEntities<Pokemon, Type>(\n        `http://localhost:3000/pokemons-with-type?typeId=$","{","id}`, \n        s => s.pokemons,\n        findStoreValueByKey(s => s.types, id),\n        'pokemonsLoaded',\n        false\n    );\n}\n"),F(13),qe("export class PokemonByTypeComponent ","{","\n\n  @Input()\n  public set id(value: number) ","{","\n    this.query$ = this._pokemonService.loadPokemonByType(value);\n    this.pokemons$ = this._store.selectValuesByIndex<Pokemon>(s => s.pokemons, 'typeId', value);\n  }\n\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n  public query$!: Observable<Pokemon[]>;\n  public pokemons$!: Observable<Pokemon[]>;\n\n}\n"),F(5),X('<ngs-container [query$]="query$"\n               [data$]="pokemons$"\n               loaderType="text">\n    <ng-template let-pokemons>\n        <div *ngFor="let p of pokemons; trackBy: trackByValue">',"{{"," p.name }}</div>\n    </ng-template>\n</ngs-container>\n"),F(35),qe("export type PokemonType = 'water' | 'fire' | 'electric' | 'grass' | 'bug' | 'normal' | 'poison';\n\nexport type Pokemon = BaseEntity<number> & ","{","\n    name: string;\n    type: PokemonType;\n}\n\nexport type PokemonCreationData = ","{","\n    name: string;\n    type: PokemonType;\n}\n"),F(16),qe("export class PokemonService ","{","\n\n    private _store: NgStore&ltAppState> = inject(NgStore);\n\n    public loadPokemons(): Observable&ltPokemon[]> ","{","\n        return this._store.loadAllEntities('http://localhost:3000/pokemons-full', s => s.pokemons);\n    }\n\n}\n"),F(5),X("export class AppComponent ","{","\n\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n  public query$: Observable<Pokemon[]> = this._pokemonService.loadPokemons();\n  public data$: Observable<Pokemon[]> = this._store.selectValues<Pokemon>(s => s.pokemons).pipe(\n    map(pokemons => pokemons.sort((p1, p2) => p1.name.localeCompare(p2.name)))\n  );\n\n}\n"),F(3),X('<ngs-container [query$]="query$"\n               [data$]="data$"\n               loaderType="text">\n    <ng-template let-pokemons>\n        <div class="flex-row gap1">\n            <div class="flex-1">\n                <div *ngFor="let p of pokemons; trackBy: trackByValue">\n                    ',"{{",' p.name }}\n                </div>\n            </div>\n            <div class="flex-1">\n                <app-pokemon-add-form></app-pokemon-add-form>\n            </div>\n        </div>\n    </ng-template>\n</ngs-container>\n'),F(8),Xa("type FormData = ","{","\n  name: FormControl<string | null>;\n  type: FormControl<PokemonType | null>;\n}\n\n@Component(","{","\n  selector: 'app-pokemon-add-form',\n  templateUrl: './pokemon-add-form.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports: [\n    AsyncPipe,\n    ReactiveFormsModule\n  ]\n})\nexport class PokemonAddFormComponent implements OnInit ","{","\n\n  private readonly _fb = inject(FormBuilder);\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public form!: FormGroup<FormData>;\n\n  public ngOnInit(): void ","{","\n    this.form = this._fb.group(","{","\n      'name': new FormControl<string | null>(null, Validators.required),\n      'type': new FormControl<PokemonType | null>(null, Validators.required),\n    });\n  }\n\n  public add() ","{","\n\n  }\n}\n"),F(14),X("public addPokemon(data: PokemonCreationData): Observable<Pokemon> ","{","\n    return this._store.postEntity<Pokemon>('http://localhost:3000/pokemons-full', s => s.pokemons, data);\n}\n"),F(23),zt("public add() ","{","\n  const data: PokemonCreationData = ","{","\n    name: this.form.value.name!,\n    type: this.form.value.type!\n  };\n\n  this._pokemonService\n    .addPokemon(data)\n    .subscribe(","{","\n      next: () => this.form.reset(","{"," name: null, type: null }),\n      error: err => console.log(err)\n    })\n}\n"),F(12),X("public addPokemon(data: PokemonCreationData): Observable<Pokemon> ","{","\n    return this._store\n        .postEntity<Pokemon>('http://localhost:3000/pokemons-full', s => s.pokemons, data)\n        .pipe(\n            tap(pokemon => this._store.upsertValue(s => s.pokemons, pokemon))\n        );\n}\n"),F(41),zt("public adding = false;\n\npublic add() ","{","\n  this.adding = true;\n\n  const data: PokemonCreationData = ","{","\n    name: this.form.value.name!,\n    type: this.form.value.type!\n  };\n\n  this._pokemonService\n    .addPokemon(data)\n    .pipe(finalize(() => this.adding = false))\n    .subscribe(","{","\n      next: () => this.form.reset(","{"," name: null, type: null }),\n      error: err => console.log(err)\n    })\n}\n"),F(11),zt("public adding$: Observable<boolean> = this._store.select(s => s.pokemons).pipe(map(e => e.adding));\n\npublic add() ","{","\n  const data: PokemonCreationData = ","{","\n    name: this.form.value.name!,\n    type: this.form.value.type!\n  };\n\n  this._pokemonService\n    .addPokemon(data)\n    .subscribe(","{","\n      next: () => this.form.reset(","{"," name: null, type: null }),\n      error: err => console.log(err)\n    })\n}\n"),F(22),X("export type PokemonUpsertData = ","{","\n    id: number | null;\n    name: string;\n    type: PokemonType;\n}\n"),F(14),zt("export class PokemonService ","{","\n\n    private _store: NgStore<AppState> = inject(NgStore);\n\n    public loadPokemons(): Observable<Pokemon[]> ","{","\n        return this._store.loadAllEntities('http://localhost:3000/pokemons-full', s => s.pokemons);\n    }\n\n    public loadPokemonById(id: number): Observable<Pokemon> ","{","\n        return this._store.loadEntityByKey(`http://localhost:3000/pokemons-full/$","{","id}`, s => s.pokemons, id);\n    }\n\n}\n"),F(5),X("export class AppComponent ","{","\n\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public selectedId: number | null = null;\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n  public query$: Observable<Pokemon[]> = this._pokemonService.loadPokemons();\n  public data$: Observable<Pokemon[]> = this._store.selectValues<Pokemon>(s => s.pokemons).pipe(\n    map(pokemons => pokemons.sort((p1, p2) => p1.name.localeCompare(p2.name)))\n  );\n\n}\n"),F(3),X('<ngs-container [query$]="query$"\n               [data$]="data$"\n               loaderType="text">\n    <ng-template let-pokemons>\n        <div class="flex-row gap1">\n            <div class="flex-1">\n                <div class="flex-row flex-aic gap1"\n                     *ngFor="let p of pokemons; trackBy: trackByValue">\n                    <div>',"{{",' p.name }}</div>\n                    <i class="fa fa-solid fa-edit pointer"\n                       (click)="selectedId = selectedId === p.id ? null : p.id"></i>\n                </div>\n            </div>\n            <div class="flex-1">\n                <app-pokemon-upsert-form [id]="selectedId"></app-pokemon-upsert-form>\n            </div>\n        </div>\n    </ng-template>\n</ngs-container>\n'),F(16),Ci(["type FormData = ","{","\n  id: FormControl<number | null>;\n  name: FormControl<string | null>;\n  type: FormControl<PokemonType | null>;\n}\n\nexport class PokemonUpsertFormComponent implements OnInit ","{","\n\n  @Input()\n  public set id(value: number | null) ","{","\n    this.query$ = value === null ? of(null) : this._pokemonService.loadPokemonById(value);\n    this.data$ = value === null ? of(null) : this._store.selectValueByKey(s => s.pokemons, value).pipe(filter(e => e !== null), take(1));\n  }\n\n  private readonly _fb = inject(FormBuilder);\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public form!: FormGroup<FormData>;\n\n  public busy$: Observable<boolean> = this._store.select(s => s.pokemons).pipe(map(e => e.busy));\n  public data$!: Observable<Pokemon | null>;\n  public query$!: Observable<Pokemon | null>;\n\n  public ngOnInit(): void ","{","\n    this.form = this._fb.group(","{","\n      'id': new FormControl<number | null>(null),\n      'name': new FormControl<string | null>(null, Validators.required),\n      'type': new FormControl<PokemonType | null>(null, Validators.required),\n    });\n  }\n\n  public upsert() ","{","\n    const data: PokemonUpsertData = ","{","\n      id: this.form.value.id!,\n      name: this.form.value.name!,\n      type: this.form.value.type!\n    };\n\n    this._pokemonService\n      .upsertPokemon(data)\n      .subscribe(","{","\n        next: () => this.form.value.id === null && this.reset(null),\n        error: err => console.log(err)\n      })\n  }\n\n  public reset(pokemon: Pokemon | null) ","{","\n    this.form.reset(","{","\n      id: pokemon?.id || null,\n      name: pokemon?.name || null,\n      type: pokemon?.type || null\n    })\n  }\n\n}\n"]),F(70),X('<ngs-container [query$]="query$"\n               [data$]="data$"\n               (changed)="reset($event)">\n    <ng-template let-pokemon>\n        <form [formGroup]="form"\n              (ngSubmit)="upsert()">\n            <div>\n                <label>\n                    Name: <input type="text"\n                           formControlName="name">\n                </label>\n            </div>\n            <div>\n                <label>\n                    Type: <select formControlName="type">\n                        <option value="water">Water</option>\n                        <option value="fire">Fire</option>\n                        <option value="electric">Electric</option>\n                        <option value="grass">Grass</option>\n                        <option value="bug">Bug</option>\n                        <option value="normal">Normal</option>\n                        <option value="poison">Poison</option>\n                    </select>\n                </label>\n            </div>\n            <button type="submit"\n                    [disabled]="form.valid === false || (busy$ | async) === true">\n                ',"{{"," form.value.id === null ? 'Create' : 'Update' }}\n            </button>\n        </form>\n    </ng-template>\n</ngs-container>\n"),F(44),qe("public upsertPokemon(data: PokemonUpsertData): Observable<Pokemon> ","{","\n    const action$ = data.id === null\n        ? this._store.postEntity(`http://localhost:3000/pokemons-full`, s => s.pokemons, data)\n        : this._store.putEntityByKey<Pokemon>(`http://localhost:3000/pokemons-full/$","{","data.id}`, s => s.pokemons, data.id, data);\n\n    return action$.pipe(\n        tap(pokemon => this._store.upsertValue(s => s.pokemons, pokemon))\n    );\n}\n"),F(35),X("export type Pokemon = BaseEntity<number> & ","{","\n    name: string;\n    type: 'water' | 'fire' | 'electric' | 'grass' | 'bug' | 'normal' | 'poison';\n}\n"),F(5),zt("export class PokemonService ","{","\n\n    private _store: NgStore<AppState> = inject(NgStore);\n\n    public deletePokemon(id: number): Observable<Pokemon> ","{","\n        return this._store.deleteEntityByKey(`http://localhost:3000/pokemons-full/$","{","id}`, s => s.pokemons, id).pipe(\n            tap(pokemon => this._store.removeValuesByKeys(s => s.pokemons, id))\n        );\n    }\n\n    public loadPokemons(): Observable<Pokemon[]> ","{","\n        return this._store.loadAllEntities('http://localhost:3000/pokemons-full', s => s.pokemons);\n    }\n\n}\n"),F(24),lr("export class AppComponent ","{","\n\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public query$: Observable<Pokemon[]> = this._pokemonService.loadPokemons();\n  public pokemons$: Observable<Entity<Pokemon>[]> = this._store.selectEntities<Pokemon>(s => s.pokemons).pipe(\n    map(pokemons => pokemons.sort((p1, p2) => p1.value.name.localeCompare(p2.value.name)))\n  );\n\n  public trackByEntity: TrackByFunction<Entity<Pokemon>> = trackByEntity;\n\n  public deletePokemon(id: number) ","{","\n    this._pokemonService\n      .deletePokemon(id)\n      .subscribe(","{","\n        error: err => console.log(err)\n      })\n  }\n}\n"),F(13),X('<ngs-container [query$]="query$"\n               [data$]="pokemons$"\n               loaderType="text">\n    <ng-template let-pokemons>\n        <div class="flex-row flex-aic gap1"\n             *ngFor="let p of pokemons; trackBy: trackByEntity">\n            <div>',"{{",' p.value.name }}</div>\n            <i class="fa fa-solid fa-trash pointer"\n               (click)="deletePokemon(p.value.id)"\n               *ngIf="p.deleting === false"></i>\n            <i class="fa fa-spin fa-spinner"\n               *ngIf="p.deleting === true"></i>\n        </div>\n    </ng-template>\n</ngs-container>\n'))},dependencies:[Cr],styles:[".logo[_ngcontent-%COMP%]{margin-bottom:3rem;display:flex;flex-direction:row;justify-content:center;gap:.25rem}.logo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Secular One,Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:5rem}.logo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem;margin-bottom:-.75rem}@media (max-width: 500px){.logo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:3rem}.logo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}}"]}),function sI(e,t){SE({rootComponent:e,...zg(t)})}(Ir)},668:()=>{!function(Re){Re.languages.typescript=Re.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),Re.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete Re.languages.typescript.parameter,delete Re.languages.typescript["literal-property"];var un=Re.languages.extend("typescript",{});delete un["class-name"],Re.languages.typescript["class-name"].inside=un,Re.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:un}}}}),Re.languages.ts=Re.languages.typescript}(Prism)},83:Re=>{var P=function(O){var Ce=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,Ve=0,et={},A={manual:O.Prism&&O.Prism.manual,disableWorkerMessageHandler:O.Prism&&O.Prism.disableWorkerMessageHandler,util:{encode:function w(v){return v instanceof Le?new Le(v.type,w(v.content),v.alias):Array.isArray(v)?v.map(w):v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(w){return Object.prototype.toString.call(w).slice(8,-1)},objId:function(w){return w.__id||Object.defineProperty(w,"__id",{value:++Ve}),w.__id},clone:function w(v,I){var M,S;switch(I=I||{},A.util.type(v)){case"Object":if(S=A.util.objId(v),I[S])return I[S];for(var L in I[S]=M={},v)v.hasOwnProperty(L)&&(M[L]=w(v[L],I));return M;case"Array":return S=A.util.objId(v),I[S]?I[S]:(I[S]=M=[],v.forEach(function(Q,R){M[R]=w(Q,I)}),M);default:return v}},getLanguage:function(w){for(;w;){var v=Ce.exec(w.className);if(v)return v[1].toLowerCase();w=w.parentElement}return"none"},setLanguage:function(w,v){w.className=w.className.replace(RegExp(Ce,"gi"),""),w.classList.add("language-"+v)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(M){var w=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(M.stack)||[])[1];if(w){var v=document.getElementsByTagName("script");for(var I in v)if(v[I].src==w)return v[I]}return null}},isActive:function(w,v,I){for(var M="no-"+v;w;){var S=w.classList;if(S.contains(v))return!0;if(S.contains(M))return!1;w=w.parentElement}return!!I}},languages:{plain:et,plaintext:et,text:et,txt:et,extend:function(w,v){var I=A.util.clone(A.languages[w]);for(var M in v)I[M]=v[M];return I},insertBefore:function(w,v,I,M){var S=(M=M||A.languages)[w],L={};for(var Q in S)if(S.hasOwnProperty(Q)){if(Q==v)for(var R in I)I.hasOwnProperty(R)&&(L[R]=I[R]);I.hasOwnProperty(Q)||(L[Q]=S[Q])}var se=M[w];return M[w]=L,A.languages.DFS(A.languages,function(we,Ot){Ot===se&&we!=w&&(this[we]=L)}),L},DFS:function w(v,I,M,S){S=S||{};var L=A.util.objId;for(var Q in v)if(v.hasOwnProperty(Q)){I.call(v,Q,v[Q],M||Q);var R=v[Q],se=A.util.type(R);"Object"!==se||S[L(R)]?"Array"===se&&!S[L(R)]&&(S[L(R)]=!0,w(R,I,Q,S)):(S[L(R)]=!0,w(R,I,null,S))}}},plugins:{},highlightAll:function(w,v){A.highlightAllUnder(document,w,v)},highlightAllUnder:function(w,v,I){var M={callback:I,container:w,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};A.hooks.run("before-highlightall",M),M.elements=Array.prototype.slice.apply(M.container.querySelectorAll(M.selector)),A.hooks.run("before-all-elements-highlight",M);for(var L,S=0;L=M.elements[S++];)A.highlightElement(L,!0===v,M.callback)},highlightElement:function(w,v,I){var M=A.util.getLanguage(w),S=A.languages[M];A.util.setLanguage(w,M);var L=w.parentElement;L&&"pre"===L.nodeName.toLowerCase()&&A.util.setLanguage(L,M);var R={element:w,language:M,grammar:S,code:w.textContent};function se(Ot){R.highlightedCode=Ot,A.hooks.run("before-insert",R),R.element.innerHTML=R.highlightedCode,A.hooks.run("after-highlight",R),A.hooks.run("complete",R),I&&I.call(R.element)}if(A.hooks.run("before-sanity-check",R),(L=R.element.parentElement)&&"pre"===L.nodeName.toLowerCase()&&!L.hasAttribute("tabindex")&&L.setAttribute("tabindex","0"),!R.code)return A.hooks.run("complete",R),void(I&&I.call(R.element));if(A.hooks.run("before-highlight",R),R.grammar)if(v&&O.Worker){var we=new Worker(A.filename);we.onmessage=function(Ot){se(Ot.data)},we.postMessage(JSON.stringify({language:R.language,code:R.code,immediateClose:!0}))}else se(A.highlight(R.code,R.grammar,R.language));else se(A.util.encode(R.code))},highlight:function(w,v,I){var M={code:w,grammar:v,language:I};if(A.hooks.run("before-tokenize",M),!M.grammar)throw new Error('The language "'+M.language+'" has no grammar.');return M.tokens=A.tokenize(M.code,M.grammar),A.hooks.run("after-tokenize",M),Le.stringify(A.util.encode(M.tokens),M.language)},tokenize:function(w,v){var I=v.rest;if(I){for(var M in I)v[M]=I[M];delete v.rest}var S=new it;return Et(S,S.head,w),_n(w,S,v,S.head,0),function En(w){for(var v=[],I=w.head.next;I!==w.tail;)v.push(I.value),I=I.next;return v}(S)},hooks:{all:{},add:function(w,v){var I=A.hooks.all;I[w]=I[w]||[],I[w].push(v)},run:function(w,v){var I=A.hooks.all[w];if(I&&I.length)for(var S,M=0;S=I[M++];)S(v)}},Token:Le};function Le(w,v,I,M){this.type=w,this.content=v,this.alias=I,this.length=0|(M||"").length}function cn(w,v,I,M){w.lastIndex=v;var S=w.exec(I);if(S&&M&&S[1]){var L=S[1].length;S.index+=L,S[0]=S[0].slice(L)}return S}function _n(w,v,I,M,S,L){for(var Q in I)if(I.hasOwnProperty(Q)&&I[Q]){var R=I[Q];R=Array.isArray(R)?R:[R];for(var se=0;se<R.length;++se){if(L&&L.cause==Q+","+se)return;var we=R[se],Ot=we.inside,$n=!!we.lookbehind,Sr=!!we.greedy,xo=we.alias;if(Sr&&!we.pattern.global){var Po=we.pattern.toString().match(/[imsuy]*$/)[0];we.pattern=RegExp(we.pattern.source,Po+"g")}for(var Qi=we.pattern||we,xe=M.next,de=S;xe!==v.tail&&!(L&&de>=L.reach);de+=xe.value.length,xe=xe.next){var qt=xe.value;if(v.length>w.length)return;if(!(qt instanceof Le)){var st,Hn=1;if(Sr){if(!(st=cn(Qi,de,w,$n))||st.index>=w.length)break;var Un=st.index,Ji=st.index+st[0].length,ht=de;for(ht+=xe.value.length;Un>=ht;)ht+=(xe=xe.next).value.length;if(de=ht-=xe.value.length,xe.value instanceof Le)continue;for(var dn=xe;dn!==v.tail&&(ht<Ji||"string"==typeof dn.value);dn=dn.next)Hn++,ht+=dn.value.length;Hn--,qt=w.slice(de,ht),st.index-=de}else if(!(st=cn(Qi,0,qt,$n)))continue;var Ct=st[0],Wt=qt.slice(0,Un=st.index),Mr=qt.slice(Un+Ct.length),Cn=de+qt.length;L&&Cn>L.reach&&(L.reach=Cn);var fn=xe.prev;if(Wt&&(fn=Et(v,fn,Wt),de+=Wt.length),Vn(v,fn,Hn),xe=Et(v,fn,new Le(Q,Ot?A.tokenize(Ct,Ot):Ct,xo,Ct)),Mr&&Et(v,xe,Mr),Hn>1){var zn={cause:Q+","+se,reach:Cn};_n(w,v,I,xe.prev,de,zn),L&&zn.reach>L.reach&&(L.reach=zn.reach)}}}}}}function it(){var w={value:null,prev:null,next:null},v={value:null,prev:w,next:null};w.next=v,this.head=w,this.tail=v,this.length=0}function Et(w,v,I){var M=v.next,S={value:I,prev:v,next:M};return v.next=S,M.prev=S,w.length++,S}function Vn(w,v,I){for(var M=v.next,S=0;S<I&&M!==w.tail;S++)M=M.next;v.next=M,M.prev=v,w.length-=S}if(O.Prism=A,Le.stringify=function w(v,I){if("string"==typeof v)return v;if(Array.isArray(v)){var M="";return v.forEach(function(se){M+=w(se,I)}),M}var S={type:v.type,content:w(v.content,I),tag:"span",classes:["token",v.type],attributes:{},language:I},L=v.alias;L&&(Array.isArray(L)?Array.prototype.push.apply(S.classes,L):S.classes.push(L)),A.hooks.run("wrap",S);var Q="";for(var R in S.attributes)Q+=" "+R+'="'+(S.attributes[R]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+Q+">"+S.content+"</"+S.tag+">"},!O.document)return O.addEventListener&&(A.disableWorkerMessageHandler||O.addEventListener("message",function(w){var v=JSON.parse(w.data),I=v.language,S=v.immediateClose;O.postMessage(A.highlight(v.code,A.languages[I],I)),S&&O.close()},!1)),A;var Ie=A.util.currentScript();function ae(){A.manual||A.highlightAll()}if(Ie&&(A.filename=Ie.src,Ie.hasAttribute("data-manual")&&(A.manual=!0)),!A.manual){var Se=document.readyState;"loading"===Se||"interactive"===Se&&Ie&&Ie.defer?document.addEventListener("DOMContentLoaded",ae):window.requestAnimationFrame?window.requestAnimationFrame(ae):window.setTimeout(ae,16)}return A}(typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{});Re.exports&&(Re.exports=P),typeof global<"u"&&(global.Prism=P),P.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},P.languages.markup.tag.inside["attr-value"].inside.entity=P.languages.markup.entity,P.languages.markup.doctype.inside["internal-subset"].inside=P.languages.markup,P.hooks.add("wrap",function(O){"entity"===O.type&&(O.attributes.title=O.content.replace(/&amp;/,"&"))}),Object.defineProperty(P.languages.markup.tag,"addInlined",{value:function(Ce,Ve){var et={};et["language-"+Ve]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:P.languages[Ve]},et.cdata=/^<!\[CDATA\[|\]\]>$/i;var A={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:et}};A["language-"+Ve]={pattern:/[\s\S]+/,inside:P.languages[Ve]};var Le={};Le[Ce]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return Ce}),"i"),lookbehind:!0,greedy:!0,inside:A},P.languages.insertBefore("markup","cdata",Le)}}),Object.defineProperty(P.languages.markup.tag,"addAttribute",{value:function(O,Ce){P.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+O+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[Ce,"language-"+Ce],inside:P.languages[Ce]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),P.languages.html=P.languages.markup,P.languages.mathml=P.languages.markup,P.languages.svg=P.languages.markup,P.languages.xml=P.languages.extend("markup",{}),P.languages.ssml=P.languages.xml,P.languages.atom=P.languages.xml,P.languages.rss=P.languages.xml,function(O){var Ce=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;O.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+Ce.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+Ce.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Ce.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+Ce.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:Ce,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},O.languages.css.atrule.inside.rest=O.languages.css;var Ve=O.languages.markup;Ve&&(Ve.tag.addInlined("style","css"),Ve.tag.addAttribute("style","css"))}(P),P.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},P.languages.javascript=P.languages.extend("clike",{"class-name":[P.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),P.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,P.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:P.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:P.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:P.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:P.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:P.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),P.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:P.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),P.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),P.languages.markup&&(P.languages.markup.tag.addInlined("script","javascript"),P.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),P.languages.js=P.languages.javascript,function(){if(!(typeof P>"u"||typeof document>"u")){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var et={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},A="data-src-status",Le="loading",it="pre[data-src]:not(["+A+'="loaded"]):not(['+A+'="'+Le+'"])';P.hooks.add("before-highlightall",function(Ie){Ie.selector+=", "+it}),P.hooks.add("before-sanity-check",function(Ie){var ae=Ie.element;if(ae.matches(it)){Ie.code="",ae.setAttribute(A,Le);var Se=ae.appendChild(document.createElement("CODE"));Se.textContent="Loading\u2026";var w=ae.getAttribute("data-src"),v=Ie.language;if("none"===v){var I=(/\.(\w+)$/.exec(w)||[,"none"])[1];v=et[I]||I}P.util.setLanguage(Se,v),P.util.setLanguage(ae,v);var M=P.plugins.autoloader;M&&M.loadLanguages(v),function Et(Ie,ae,Se){var w=new XMLHttpRequest;w.open("GET",Ie,!0),w.onreadystatechange=function(){4==w.readyState&&(w.status<400&&w.responseText?ae(w.responseText):Se(w.status>=400?function(Ie,ae){return"\u2716 Error "+Ie+" while fetching file: "+ae}(w.status,w.statusText):"\u2716 Error: File does not exist or is empty"))},w.send(null)}(w,function(S){ae.setAttribute(A,"loaded");var L=function Vn(Ie){var ae=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(Ie||"");if(ae){var Se=Number(ae[1]),v=ae[3];return ae[2]?v?[Se,Number(v)]:[Se,void 0]:[Se,Se]}}(ae.getAttribute("data-range"));if(L){var Q=S.split(/\r\n?|\n/g),R=L[0],se=null==L[1]?Q.length:L[1];R<0&&(R+=Q.length),R=Math.max(0,Math.min(R-1,Q.length)),se<0&&(se+=Q.length),se=Math.max(0,Math.min(se,Q.length)),S=Q.slice(R,se).join("\n"),ae.hasAttribute("data-start")||ae.setAttribute("data-start",String(R+1))}Se.textContent=S,P.highlightElement(Se)},function(S){ae.setAttribute(A,"failed"),Se.textContent=S})}}),P.plugins.fileHighlight={highlight:function(ae){for(var v,Se=(ae||document).querySelectorAll(it),w=0;v=Se[w++];)P.highlightElement(v)}};var En=!1;P.fileHighlight=function(){En||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),En=!0),P.plugins.fileHighlight.highlight.apply(this,arguments)}}}()}},Re=>{Re(Re.s=661)}]);