(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[179],{610:(Oe,an,N)=>{"use strict";function V(e){return"function"==typeof e}function Ee(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const je=Ee(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,o)=>`${o+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Xe(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class A{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(V(r))try{r()}catch(i){t=i instanceof je?i.errors:[i]}const{_finalizers:o}=this;if(o){this._finalizers=null;for(const i of o)try{wn(i)}catch(s){t=t??[],s instanceof je?t=[...t,...s.errors]:t.push(s)}}if(t)throw new je(t)}}add(t){var n;if(t&&t!==this)if(this.closed)wn(t);else{if(t instanceof A){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Xe(n,t)}remove(t){const{_finalizers:n}=this;n&&Xe(n,t),t instanceof A&&t._removeParent(this)}}A.EMPTY=(()=>{const e=new A;return e.closed=!0,e})();const Re=A.EMPTY;function un(e){return e instanceof A||e&&"closed"in e&&V(e.remove)&&V(e.add)&&V(e.unsubscribe)}function wn(e){V(e)?e():e.unsubscribe()}const ot={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},bt={setTimeout(e,t,...n){const{delegate:r}=bt;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=bt;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Bn(e){bt.setTimeout(()=>{const{onUnhandledError:t}=ot;if(!t)throw e;t(e)})}function _n(){}const Ce=w("C",void 0,void 0);function w(e,t,n){return{kind:e,value:t,error:n}}let v=null;function I(e){if(ot.useDeprecatedSynchronousErrorHandling){const t=!v;if(t&&(v={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=v;if(v=null,n)throw r}}else e()}class S extends A{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,un(t)&&t.add(this)):this.destination=Eo}static create(t,n,r){return new ie(t,n,r)}next(t){this.isStopped?jn(function Ie(e){return w("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?jn(function se(e){return w("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?jn(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const O=Function.prototype.bind;function K(e,t){return O.call(e,t)}class k{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){De(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){De(r)}else De(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){De(n)}}}class ie extends S{constructor(t,n,r){let o;if(super(),V(t)||!t)o={next:t??void 0,error:n??void 0,complete:r??void 0};else{let i;this&&ot.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),o={next:t.next&&K(t.next,i),error:t.error&&K(t.error,i),complete:t.complete&&K(t.complete,i)}):o=t}this.destination=new k(o)}}function De(e){ot.useDeprecatedSynchronousErrorHandling?function M(e){ot.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=e)}(e):Bn(e)}function jn(e,t){const{onStoppedNotification:n}=ot;n&&bt.setTimeout(()=>n(e,t))}const Eo={closed:!0,next:_n,error:function kt(e){throw e},complete:_n},Tr="function"==typeof Symbol&&Symbol.observable||"@@observable";function Co(e){return e}let fe=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,o){const i=function it(e){return e&&e instanceof S||function Vn(e){return e&&V(e.next)&&V(e.error)&&V(e.complete)}(e)&&un(e)}(n)?n:new ie(n,r,o);return I(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=Gt(r))((o,i)=>{const s=new ie({next:a=>{try{n(a)}catch(u){i(u),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Tr](){return this}pipe(...n){return function Ae(e){return 0===e.length?Co:1===e.length?e[0]:function(n){return e.reduce((r,o)=>o(r),n)}}(n)(this)}toPromise(n){return new(n=Gt(n))((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return e.create=t=>new e(t),e})();function Gt(e){var t;return null!==(t=e??ot.Promise)&&void 0!==t?t:Promise}const Zi=Ee(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ht=(()=>{class e extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new ln(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Zi}next(n){I(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){I(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){I(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:o,observers:i}=this;return r||o?Re:(this.currentObservers=null,i.push(n),new A(()=>{this.currentObservers=null,Xe(i,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:o,isStopped:i}=this;r?n.error(o):i&&n.complete()}asObservable(){const n=new fe;return n.source=this,n}}return e.create=(t,n)=>new ln(t,n),e})();class ln extends ht{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:Re}}function Ot(e){return t=>{if(function $n(e){return V(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function cn(e,t,n,r,o){return new Io(e,t,n,r,o)}class Io extends S{constructor(t,n,r,o,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){t.error(u)}}:super._next,this._error=o?function(a){try{o(a)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function bn(e){return this instanceof bn?(this.v=e,this):new bn(e)}function Bg(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(g){r[g]&&(o[g]=function(m){return new Promise(function(y,D){i.push([g,m,y,D])>1||a(g,m)})})}function a(g,m){try{!function u(g){g.value instanceof bn?Promise.resolve(g.value.v).then(l,c):h(i[0][2],g)}(r[g](m))}catch(y){h(i[0][3],y)}}function l(g){a("next",g)}function c(g){a("throw",g)}function h(g,m){g(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}function jg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function el(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,u){!function o(i,s,a,u){Promise.resolve(u).then(function(l){i({value:l,done:a})},s)}(a,u,(s=e[i](s)).done,s.value)})}}}const tl=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function nl(e){return V(e?.then)}function rl(e){return V(e[Tr])}function ol(e){return Symbol.asyncIterator&&V(e?.[Symbol.asyncIterator])}function il(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const sl=function $g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function al(e){return V(e?.[sl])}function ul(e){return Bg(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:o}=yield bn(n.read());if(o)return yield bn(void 0);yield yield bn(r)}}finally{n.releaseLock()}})}function ll(e){return V(e?.getReader)}function En(e){if(e instanceof fe)return e;if(null!=e){if(rl(e))return function Hg(e){return new fe(t=>{const n=e[Tr]();if(V(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(tl(e))return function Ug(e){return new fe(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(nl(e))return function zg(e){return new fe(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Bn)})}(e);if(ol(e))return cl(e);if(al(e))return function Gg(e){return new fe(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(ll(e))return function Wg(e){return cl(ul(e))}(e)}throw il(e)}function cl(e){return new fe(t=>{(function qg(e,t){var n,r,o,i;return function Rg(e,t,n,r){return new(n||(n=Promise))(function(i,s){function a(c){try{l(r.next(c))}catch(h){s(h)}}function u(c){try{l(r.throw(c))}catch(h){s(h)}}function l(c){c.done?i(c.value):function o(i){return i instanceof n?i:new n(function(s){s(i)})}(c.value).then(a,u)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=jg(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=n.return)&&(yield i.call(n))}finally{if(o)throw o.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function fn(e,t,n,r=0,o=!1){const i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function dl(e,t,n=1/0){return V(t)?dl((r,o)=>function Ar(e,t){return Ot((n,r)=>{let o=0;n.subscribe(cn(r,i=>{r.next(e.call(t,i,o++))}))})}((i,s)=>t(r,i,o,s))(En(e(r,o))),n):("number"==typeof t&&(n=t),Ot((r,o)=>function Zg(e,t,n,r,o,i,s,a){const u=[];let l=0,c=0,h=!1;const g=()=>{h&&!u.length&&!l&&t.complete()},m=D=>l<r?y(D):u.push(D),y=D=>{i&&t.next(D),l++;let E=!1;En(n(D,c++)).subscribe(cn(t,C=>{o?.(C),i?m(C):t.next(C)},()=>{E=!0},void 0,()=>{if(E)try{for(l--;u.length&&l<r;){const C=u.shift();s?fn(t,s,()=>y(C)):y(C)}g()}catch(C){t.error(C)}}))};return e.subscribe(cn(t,m,()=>{h=!0,g()})),()=>{a?.()}}(r,o,e,n)))}const fl=new fe(e=>e.complete());function Yi(e){return e[e.length-1]}function hl(e,t=0){return Ot((n,r)=>{n.subscribe(cn(r,o=>fn(r,e,()=>r.next(o),t),()=>fn(r,e,()=>r.complete(),t),o=>fn(r,e,()=>r.error(o),t)))})}function pl(e,t=0){return Ot((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function gl(e,t){if(!e)throw new Error("Iterable cannot be null");return new fe(n=>{fn(n,t,()=>{const r=e[Symbol.asyncIterator]();fn(n,t,()=>{r.next().then(o=>{o.done?n.complete():n.next(o.value)})},0,!0)})})}function am(...e){const t=function Jg(e){return function Qg(e){return e&&V(e.schedule)}(Yi(e))?e.pop():void 0}(e),n=function Xg(e,t){return"number"==typeof Yi(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?En(r[0]):function Yg(e=1/0){return dl(Co,e)}(n)(function sm(e,t){return t?function im(e,t){if(null!=e){if(rl(e))return function em(e,t){return En(e).pipe(pl(t),hl(t))}(e,t);if(tl(e))return function nm(e,t){return new fe(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(nl(e))return function tm(e,t){return En(e).pipe(pl(t),hl(t))}(e,t);if(ol(e))return gl(e,t);if(al(e))return function rm(e,t){return new fe(n=>{let r;return fn(n,t,()=>{r=e[sl](),fn(n,t,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){return void n.error(s)}i?n.complete():n.next(o)},0,!0)}),()=>V(r?.return)&&r.return()})}(e,t);if(ll(e))return function om(e,t){return gl(ul(e),t)}(e,t)}throw il(e)}(e,t):En(e)}(r,t)):fl}function Ki(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new ie({next:()=>{r.unsubscribe(),e()}});return t(...n).subscribe(r)}function ae(e){for(let t in e)if(e[t]===ae)return t;throw Error("Could not find renamed property on target object.")}function ue(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ue).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ji(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const lm=ae({__forward_ref__:ae});function Xi(e){return e.__forward_ref__=Xi,e.toString=function(){return ue(this())},e}function L(e){return function es(e){return"function"==typeof e&&e.hasOwnProperty(lm)&&e.__forward_ref__===Xi}(e)?e():e}function ts(e){return e&&!!e.\u0275providers}class P extends Error{constructor(t,n){super(function So(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function H(e){return"string"==typeof e?e:null==e?"":String(e)}function Mo(e,t){throw new P(-201,!1)}function pt(e,t){null==e&&function te(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function pe(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function To(e){return yl(e,Ao)||yl(e,Dl)}function yl(e,t){return e.hasOwnProperty(t)?e[t]:null}function vl(e){return e&&(e.hasOwnProperty(rs)||e.hasOwnProperty(ym))?e[rs]:null}const Ao=ae({\u0275prov:ae}),rs=ae({\u0275inj:ae}),Dl=ae({ngInjectableDef:ae}),ym=ae({ngInjectorDef:ae});var $=(()=>(($=$||{})[$.Default=0]="Default",$[$.Host=1]="Host",$[$.Self=2]="Self",$[$.SkipSelf=4]="SkipSelf",$[$.Optional=8]="Optional",$))();let os;function gt(e){const t=os;return os=e,t}function wl(e,t,n){const r=To(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&$.Optional?null:void 0!==t?t:void Mo(ue(e))}const ce=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),xr={},xo="ngTempTokenPath",wm=/\n/gm,_l="__source";let Fr;function Un(e){const t=Fr;return Fr=e,t}function bm(e,t=$.Default){if(void 0===Fr)throw new P(-203,!1);return null===Fr?wl(e,void 0,t):Fr.get(e,t&$.Optional?null:void 0,t)}function oe(e,t=$.Default){return(function vm(){return os}()||bm)(L(e),t)}function Fo(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function ss(e){const t=[];for(let n=0;n<e.length;n++){const r=L(e[n]);if(Array.isArray(r)){if(0===r.length)throw new P(900,!1);let o,i=$.Default;for(let s=0;s<r.length;s++){const a=r[s],u=Cm(a);"number"==typeof u?-1===u?o=a.token:i|=u:o=a}t.push(oe(o,i))}else t.push(oe(r))}return t}function Cm(e){return e.__NG_DI_FLAG__}var Et=(()=>((Et=Et||{})[Et.OnPush=0]="OnPush",Et[Et.Default=1]="Default",Et))(),Rt=(()=>{return(e=Rt||(Rt={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Rt;var e})();const Wt={},X=[],No=ae({\u0275cmp:ae}),as=ae({\u0275dir:ae}),us=ae({\u0275pipe:ae}),qt=ae({\u0275fac:ae}),Pr=ae({__NG_ELEMENT_ID__:ae});let Mm=0;function ls(e){return function pn(e){return{toString:e}.toString()}(()=>{const n=!0===e.standalone,r={},o={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Et.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||X,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Rt.Emulated,id:"c"+Mm++,styles:e.styles||X,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},i=e.dependencies,s=e.features;return o.inputs=Ml(e.inputs,r),o.outputs=Ml(e.outputs),s&&s.forEach(a=>a(o)),o.directiveDefs=i?()=>("function"==typeof i?i():i).map(Cl).filter(Il):null,o.pipeDefs=i?()=>("function"==typeof i?i():i).map(qe).filter(Il):null,o})}function Cl(e){return ne(e)||Ve(e)}function Il(e){return null!==e}function Ml(e,t){if(null==e)return Wt;const n={};for(const r in e)if(e.hasOwnProperty(r)){let o=e[r],i=o;Array.isArray(o)&&(i=o[1],o=o[0]),n[o]=r,t&&(t[o]=i)}return n}function ne(e){return e[No]||null}function Ve(e){return e[as]||null}function qe(e){return e[us]||null}const q=11;function ut(e){return Array.isArray(e)&&"object"==typeof e[1]}function It(e){return Array.isArray(e)&&!0===e[1]}function fs(e){return 0!=(4&e.flags)}function Br(e){return e.componentOffset>-1}function St(e){return null!==e.template}function xm(e){return 0!=(256&e[2])}function In(e,t){return e.hasOwnProperty(qt)?e[qt]:null}class Pm{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Pl(e){return e.type.prototype.ngOnChanges&&(e.setInput=Om),km}function km(){const e=Ol(this),t=e?.current;if(t){const n=e.previous;if(n===Wt)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function Om(e,t,n,r){const o=this.declaredInputs[n],i=Ol(e)||function Rm(e,t){return e[kl]=t}(e,{previous:Wt,current:null}),s=i.current||(i.current={}),a=i.previous,u=a[o];s[o]=new Pm(u&&u.currentValue,t,a===Wt),e[r]=t}const kl="__ngSimpleChanges__";function Ol(e){return e[kl]||null}function Le(e){for(;Array.isArray(e);)e=e[0];return e}function lt(e,t){return Le(t[e.index])}function ct(e,t){const n=t[e];return ut(n)?n:n[0]}function Vo(e){return 64==(64&e[2])}function gn(e,t){return null==t?null:e[t]}function jl(e){e[18]=0}function ps(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const U={lFrame:Yl(null),bindingsEnabled:!0};function $l(){return U.bindingsEnabled}function b(){return U.lFrame.lView}function J(){return U.lFrame.tView}function Be(){let e=Hl();for(;null!==e&&64===e.type;)e=e.parent;return e}function Hl(){return U.lFrame.currentTNode}function Bt(e,t){const n=U.lFrame;n.currentTNode=e,n.isParent=t}function gs(){return U.lFrame.isParent}function Yt(){return U.lFrame.bindingIndex}function zl(e){return U.lFrame.bindingIndex=e}function Kt(e){const t=U.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function Qm(e,t){const n=U.lFrame;n.bindingIndex=n.bindingRootIndex=e,ys(t)}function ys(e){U.lFrame.currentDirectiveIndex=e}function Ds(e){U.lFrame.currentQueryIndex=e}function Xm(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function ql(e,t,n){if(n&$.SkipSelf){let o=t,i=e;for(;!(o=o.parent,null!==o||n&$.Host||(o=Xm(i),null===o||(i=i[15],10&o.type))););if(null===o)return!1;t=o,e=i}const r=U.lFrame=Zl();return r.currentTNode=t,r.lView=e,!0}function ws(e){const t=Zl(),n=e[1];U.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Zl(){const e=U.lFrame,t=null===e?null:e.child;return null===t?Yl(e):t}function Yl(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Kl(){const e=U.lFrame;return U.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ql=Kl;function _s(){const e=Kl();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ke(){return U.lFrame.selectedIndex}function Sn(e){U.lFrame.selectedIndex=e}function $o(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=i;s&&(e.contentHooks||(e.contentHooks=[])).push(-n,s),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),u&&(e.viewHooks||(e.viewHooks=[])).push(-n,u),l&&((e.viewHooks||(e.viewHooks=[])).push(n,l),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,l)),null!=c&&(e.destroyHooks||(e.destroyHooks=[])).push(n,c)}}function Ho(e,t,n){Jl(e,t,3,n)}function Uo(e,t,n,r){(3&e[2])===n&&Jl(e,t,n,r)}function bs(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Jl(e,t,n,r){const i=r??-1,s=t.length-1;let a=0;for(let u=void 0!==r?65535&e[18]:0;u<s;u++)if("number"==typeof t[u+1]){if(a=t[u],null!=r&&a>=r)break}else t[u]<0&&(e[18]+=65536),(a<i||-1==i)&&(uy(e,n,t,u),e[18]=(4294901760&e[18])+u+2),u++}function uy(e,t,n,r){const o=n[r]<0,i=n[r+1],a=e[o?-n[r]:n[r]];if(o){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class Vr{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Cs(e,t,n){let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const i=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,i)}else{const i=o,s=n[++r];ec(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),r++}}return r}function Xl(e){return 3===e||4===e||6===e}function ec(e){return 64===e.charCodeAt(0)}function $r(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?n=o:0===n||tc(e,n,o,null,-1===n||2===n?t[++r]:null)}}return e}function tc(e,t,n,r,o){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==o&&(e[i+1]=o));if(r===e[i+1])return void(e[i+2]=o)}i++,null!==r&&i++,null!==o&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),null!==r&&e.splice(i++,0,r),null!==o&&e.splice(i++,0,o)}function zo(e){return 32767&e}function Go(e,t){let n=function fy(e){return e>>16}(e),r=t;for(;n>0;)r=r[15],n--;return r}let Is=!0;function Wo(e){const t=Is;return Is=e,t}let hy=0;const jt={};function qo(e,t){const n=ic(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Ss(r.data,e),Ss(t,null),Ss(r.blueprint,null));const o=Ms(e,t),i=e.injectorIndex;if(function nc(e){return-1!==e}(o)){const s=zo(o),a=Go(o,t),u=a[1].data;for(let l=0;l<8;l++)t[i+l]=a[s+l]|u[s+l]}return t[i+8]=o,i}function Ss(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ic(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ms(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,o=t;for(;null!==o;){if(r=fc(o),null===r)return-1;if(n++,o=o[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ts(e,t,n){!function py(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pr)&&(r=n[Pr]),null==r&&(r=n[Pr]=hy++);const o=255&r;t.data[e+(o>>5)]|=1<<o}(e,t,n)}function sc(e,t,n){if(n&$.Optional||void 0!==e)return e;Mo()}function ac(e,t,n,r){if(n&$.Optional&&void 0===r&&(r=null),0==(n&($.Self|$.Host))){const o=e[9],i=gt(void 0);try{return o?o.get(t,r,n&$.Optional):wl(t,r,n&$.Optional)}finally{gt(i)}}return sc(r,0,n)}function uc(e,t,n,r=$.Default,o){if(null!==e){if(1024&t[2]){const s=function wy(e,t,n,r,o){let i=e,s=t;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=lc(i,s,n,r|$.Self,jt);if(a!==jt)return a;let u=i.parent;if(!u){const l=s[21];if(l){const c=l.get(n,jt,r);if(c!==jt)return c}u=fc(s),s=s[15]}i=u}return o}(e,t,n,r,jt);if(s!==jt)return s}const i=lc(e,t,n,r,jt);if(i!==jt)return i}return ac(t,n,r,o)}function lc(e,t,n,r,o){const i=function yy(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Pr)?e[Pr]:void 0;return"number"==typeof t?t>=0?255&t:vy:t}(n);if("function"==typeof i){if(!ql(t,e,r))return r&$.Host?sc(o,0,r):ac(t,n,r,o);try{const s=i(r);if(null!=s||r&$.Optional)return s;Mo()}finally{Ql()}}else if("number"==typeof i){let s=null,a=ic(e,t),u=-1,l=r&$.Host?t[16][6]:null;for((-1===a||r&$.SkipSelf)&&(u=-1===a?Ms(e,t):t[a+8],-1!==u&&dc(r,!1)?(s=t[1],a=zo(u),t=Go(u,t)):a=-1);-1!==a;){const c=t[1];if(cc(i,a,c.data)){const h=my(a,t,n,s,r,l);if(h!==jt)return h}u=t[a+8],-1!==u&&dc(r,t[1].data[a+8]===l)&&cc(i,a,t)?(s=c,a=zo(u),t=Go(u,t)):a=-1}}return o}function my(e,t,n,r,o,i){const s=t[1],a=s.data[e+8],c=function Zo(e,t,n,r,o){const i=e.providerIndexes,s=t.data,a=1048575&i,u=e.directiveStart,c=i>>20,g=o?a+c:e.directiveEnd;for(let m=r?a:a+c;m<g;m++){const y=s[m];if(m<u&&n===y||m>=u&&y.type===n)return m}if(o){const m=s[u];if(m&&St(m)&&m.type===n)return u}return null}(a,s,n,null==r?Br(a)&&Is:r!=s&&0!=(3&a.type),o&$.Host&&i===a);return null!==c?Mn(t,s,c,a):jt}function Mn(e,t,n,r){let o=e[n];const i=t.data;if(function ly(e){return e instanceof Vr}(o)){const s=o;s.resolving&&function cm(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new P(-200,`Circular dependency in DI detected for ${e}${n}`)}(function ee(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():H(e)}(i[n]));const a=Wo(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?gt(s.injectImpl):null;ql(e,r,$.Default);try{o=e[n]=s.factory(void 0,i,e,r),t.firstCreatePass&&n>=r.directiveStart&&function ay(e,t,n){const{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=t.type.prototype;if(r){const s=Pl(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,o),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i))}(n,i[n],t)}finally{null!==u&&gt(u),Wo(a),s.resolving=!1,Ql()}}return o}function cc(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function dc(e,t){return!(e&$.Self||e&$.Host&&t)}class Qn{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return uc(this._tNode,this._lView,t,Fo(r),n)}}function vy(){return new Qn(Be(),b())}function fc(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}class Z{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=pe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Tn(e,t){e.forEach(n=>Array.isArray(n)?Tn(n,t):t(n))}function Yo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var tt=(()=>((tt=tt||{})[tt.Important=1]="Important",tt[tt.DashCase=2]="DashCase",tt))();const js=new Map;let Wy=0;const $s="__ngContext__";function Ue(e,t){ut(t)?(e[$s]=t[20],function Zy(e){js.set(e[20],e)}(t)):e[$s]=t}function Us(e,t){return undefined(e,t)}function Zr(e){const t=e[3];return It(t)?t[3]:t}function zs(e){return Oc(e[13])}function Gs(e){return Oc(e[4])}function Oc(e){for(;null!==e&&!It(e);)e=e[4];return e}function or(e,t,n,r,o){if(null!=r){let i,s=!1;It(r)?i=r:ut(r)&&(s=!0,r=r[0]);const a=Le(r);0===e&&null!==n?null==o?$c(t,n,a):An(t,n,a,o||null,!0):1===e&&null!==n?An(t,n,a,o||null,!0):2===e?function Js(e,t,n){const r=function ti(e,t){return e.parentNode(t)}(e,t);r&&function pv(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function yv(e,t,n,r,o){const i=n[7];i!==Le(n)&&or(t,e,r,i,o);for(let a=10;a<n.length;a++){const u=n[a];Yr(u[1],u,e,t,r,i)}}(t,e,i,n,o)}}function qs(e,t,n){return e.createElement(t,n)}function Lc(e,t){const n=e[9],r=n.indexOf(t),o=t[3];512&t[2]&&(t[2]&=-513,ps(o,-1)),n.splice(r,1)}function Ys(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function hv(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const o=t[n[r]];if(!(o instanceof Vr)){const i=n[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=o[i[s]],u=i[s+1];try{u.call(a)}finally{}}else try{i.call(o)}finally{}}}}(e,t),function fv(e,t){const n=e.cleanup,r=t[7];let o=-1;if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const s=n[i+3];s>=0?r[o=s]():r[o=-s].unsubscribe(),i+=2}else{const s=r[o=n[i+1]];n[i].call(s)}if(null!==r){for(let i=o+1;i<r.length;i++)(0,r[i])();t[7]=null}}(e,t),1===t[1].type&&t[q].destroy();const n=t[17];if(null!==n&&It(t[3])){n!==t[3]&&Lc(n,t);const r=t[19];null!==r&&r.detachView(e)}!function Yy(e){js.delete(e[20])}(t)}}function jc(e,t,n){return function Vc(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];{const{componentOffset:o}=r;if(o>-1){const{encapsulation:i}=e.data[r.directiveStart+o];if(i===Rt.None||i===Rt.Emulated)return null}return lt(r,n)}}(e,t.parent,n)}function An(e,t,n,r,o){e.insertBefore(t,n,r,o)}function $c(e,t,n){e.appendChild(t,n)}function Hc(e,t,n,r,o){null!==r?An(e,t,n,r,o):$c(e,t,n)}let ta,Gc=function zc(e,t,n){return 40&e.type?lt(e,n):null};function ni(e,t,n,r){const o=jc(e,r,t),i=t[q],a=function Uc(e,t,n){return Gc(e,t,n)}(r.parent||t[6],r,t);if(null!=o)if(Array.isArray(n))for(let u=0;u<n.length;u++)Hc(i,o,n[u],a,!1);else Hc(i,o,n,a,!1)}function qc(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Xs(e,t,n,r,o,i,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===t&&(a&&Ue(Le(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)Xs(e,t,n.child,r,o,i,!1),or(t,e,o,a,i);else if(32&u){const l=Us(n,r);let c;for(;c=l();)or(t,e,o,c,i);or(t,e,o,a,i)}else 16&u?Zc(e,t,r,n,o,i):or(t,e,o,a,i);n=s?n.projectionNext:n.next}}function Yr(e,t,n,r,o,i){Xs(n,r,e.firstChild,t,o,i,!1)}function Zc(e,t,n,r,o,i){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)or(t,e,o,u[l],i);else Xs(e,t,u,s[3],o,i,!0)}function Yc(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Kc(e,t,n){const{mergedAttrs:r,classes:o,styles:i}=n;null!==r&&Cs(e,t,r),null!==o&&Yc(e,t,o),null!==i&&function Dv(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}const cd=new Z("ENVIRONMENT_INITIALIZER"),dd=new Z("INJECTOR",-1),fd=new Z("INJECTOR_DEF_TYPES");class hd{get(t,n=xr){if(n===xr){const r=new Error(`NullInjectorError: No provider for ${ue(t)}!`);throw r.name="NullInjectorError",r}return n}}function qv(...e){return{\u0275providers:pd(0,e),\u0275fromNgModule:!0}}function pd(e,...t){const n=[],r=new Set;let o;return Tn(t,i=>{const s=i;aa(s,n,[],r)&&(o||(o=[]),o.push(s))}),void 0!==o&&gd(o,n),n}function gd(e,t){for(let n=0;n<e.length;n++){const{providers:o}=e[n];ua(o,i=>{t.push(i)})}}function aa(e,t,n,r){if(!(e=L(e)))return!1;let o=null,i=vl(e);const s=!i&&ne(e);if(i||s){if(s&&!s.standalone)return!1;o=e}else{const u=e.ngModule;if(i=vl(u),!i)return!1;o=u}const a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of u)aa(l,t,n,r)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let l;r.add(o);try{Tn(i.imports,c=>{aa(c,t,n,r)&&(l||(l=[]),l.push(c))})}finally{}void 0!==l&&gd(l,t)}if(!a){const l=In(o)||(()=>new o);t.push({provide:o,useFactory:l,deps:X},{provide:fd,useValue:o,multi:!0},{provide:cd,useValue:()=>oe(o),multi:!0})}const u=i.providers;null==u||a||ua(u,c=>{t.push(c)})}}return o!==e&&void 0!==e.providers}function ua(e,t){for(let n of e)ts(n)&&(n=n.\u0275providers),Array.isArray(n)?ua(n,t):t(n)}const Zv=ae({provide:String,useValue:ae});function la(e){return null!==e&&"object"==typeof e&&Zv in e}function Fn(e){return"function"==typeof e}const ca=new Z("Set Injector scope."),ai={},Kv={};let da;function ui(){return void 0===da&&(da=new hd),da}class ir{}class vd extends ir{constructor(t,n,r,o){super(),this.parent=n,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ha(t,s=>this.processProvider(s)),this.records.set(dd,sr(void 0,this)),o.has("environment")&&this.records.set(ir,sr(void 0,this));const i=this.records.get(ca);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(fd.multi,X,$.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Un(this),r=gt(void 0);try{return t()}finally{Un(n),gt(r)}}get(t,n=xr,r=$.Default){this.assertNotDestroyed(),r=Fo(r);const o=Un(this),i=gt(void 0);try{if(!(r&$.SkipSelf)){let a=this.records.get(t);if(void 0===a){const u=function tD(e){return"function"==typeof e||"object"==typeof e&&e instanceof Z}(t)&&To(t);a=u&&this.injectableDefInScope(u)?sr(fa(t),ai):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&$.Self?ui():this.parent).get(t,n=r&$.Optional&&n===xr?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[xo]=s[xo]||[]).unshift(ue(t)),o)throw s;return function Im(e,t,n,r){const o=e[xo];throw t[_l]&&o.unshift(t[_l]),e.message=function Sm(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let o=ue(t);if(Array.isArray(t))o=t.map(ue).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):ue(a)))}o=`{${i.join(", ")}}`}return`${n}${r?"("+r+")":""}[${o}]: ${e.replace(wm,"\n  ")}`}("\n"+e.message,o,n,r),e.ngTokenPath=o,e[xo]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{gt(i),Un(o)}}resolveInjectorInitializers(){const t=Un(this),n=gt(void 0);try{const r=this.get(cd.multi,X,$.Self);for(const o of r)o()}finally{Un(t),gt(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(ue(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new P(205,!1)}processProvider(t){let n=Fn(t=L(t))?t:L(t&&t.provide);const r=function Jv(e){return la(e)?sr(void 0,e.useValue):sr(function Dd(e,t,n){let r;if(Fn(e)){const o=L(e);return In(o)||fa(o)}if(la(e))r=()=>L(e.useValue);else if(function yd(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...ss(e.deps||[]));else if(function md(e){return!(!e||!e.useExisting)}(e))r=()=>oe(L(e.useExisting));else{const o=L(e&&(e.useClass||e.provide));if(!function Xv(e){return!!e.deps}(e))return In(o)||fa(o);r=()=>new o(...ss(e.deps))}return r}(e),ai)}(t);if(Fn(t)||!0!==t.multi)this.records.get(n);else{let o=this.records.get(n);o||(o=sr(void 0,ai,!0),o.factory=()=>ss(o.multi),this.records.set(n,o)),n=t,o.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===ai&&(n.value=Kv,n.value=n.factory()),"object"==typeof n.value&&n.value&&function eD(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=L(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function fa(e){const t=To(e),n=null!==t?t.factory:In(e);if(null!==n)return n;if(e instanceof Z)throw new P(204,!1);if(e instanceof Function)return function Qv(e){const t=e.length;if(t>0)throw function zr(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new P(204,!1);const n=function gm(e){const t=e&&(e[Ao]||e[Dl]);if(t){const n=function mm(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new P(204,!1)}function sr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ha(e,t){for(const n of e)Array.isArray(n)?ha(n,t):n&&ts(n)?ha(n.\u0275providers,t):t(n)}class nD{}class wd{}class oD{resolveComponentFactory(t){throw function rD(e){const t=Error(`No component factory found for ${ue(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let li=(()=>{class e{}return e.NULL=new oD,e})();function iD(){return ar(Be(),b())}function ar(e,t){return new ur(lt(e,t))}let ur=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=iD,e})();class bd{}let uD=(()=>{class e{}return e.\u0275prov=pe({token:e,providedIn:"root",factory:()=>null}),e})();class pa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const lD=new pa("15.0.4"),ga={};function ya(e){return e.ngOriginalError}class lr{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&ya(t);for(;n&&ya(n);)n=ya(n);return n||null}}function Id(e,t,n){let r=e.length;for(;;){const o=e.indexOf(t,n);if(-1===o)return o;if(0===o||e.charCodeAt(o-1)<=32){const i=t.length;if(o+i===r||e.charCodeAt(o+i)<=32)return o}n=o+1}}const Sd="ng-template";function wD(e,t,n){let r=0;for(;r<e.length;){let o=e[r++];if(n&&"class"===o){if(o=e[r],-1!==Id(o.toLowerCase(),t,0))return!0}else if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}}return!1}function Md(e){return 4===e.type&&e.value!==Sd}function _D(e,t,n){return t===(4!==e.type||n?e.value:Sd)}function bD(e,t,n){let r=4;const o=e.attrs||[],i=function ID(e){for(let t=0;t<e.length;t++)if(Xl(e[t]))return t;return e.length}(o);let s=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!_D(e,u,n)||""===u&&1===t.length){if(Mt(r))return!1;s=!0}}else{const l=8&r?u:t[++a];if(8&r&&null!==e.attrs){if(!wD(e.attrs,l,n)){if(Mt(r))return!1;s=!0}continue}const h=ED(8&r?"class":u,o,Md(e),n);if(-1===h){if(Mt(r))return!1;s=!0;continue}if(""!==l){let g;g=h>i?"":o[h+1].toLowerCase();const m=8&r?g:null;if(m&&-1!==Id(m,l,0)||2&r&&l!==g){if(Mt(r))return!1;s=!0}}}}else{if(!s&&!Mt(r)&&!Mt(u))return!1;if(s&&Mt(u))continue;s=!1,r=u|1&r}}return Mt(r)||s}function Mt(e){return 0==(1&e)}function ED(e,t,n,r){if(null===t)return-1;let o=0;if(r||!n){let i=!1;for(;o<t.length;){const s=t[o];if(s===e)return o;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++o];for(;"string"==typeof a;)a=t[++o];continue}if(4===s)break;if(0===s){o+=4;continue}}o+=i?1:2}return-1}return function SD(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function Td(e,t,n=!1){for(let r=0;r<t.length;r++)if(bD(e,t[r],n))return!0;return!1}function Ad(e,t){return e?":not("+t.trim()+")":t}function TD(e){let t=e[0],n=1,r=2,o="",i=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?o+="."+s:4&r&&(o+=" "+s);else""!==o&&!Mt(s)&&(t+=Ad(i,o),o=""),r=s,i=i||!Mt(r);n++}return""!==o&&(t+=Ad(i,o)),t}const z={};function re(e){xd(J(),b(),Ke()+e,!1)}function xd(e,t,n,r){if(!r)if(3==(3&t[2])){const i=e.preOrderCheckHooks;null!==i&&Ho(t,i,n)}else{const i=e.preOrderHooks;null!==i&&Uo(t,i,0,n)}Sn(n)}function kd(e,t=null,n=null,r){const o=function Od(e,t=null,n=null,r,o=new Set){const i=[n||X,qv(e)];return r=r||("object"==typeof e?void 0:ue(e)),new vd(i,t||ui(),r||null,o)}(e,t,n,r);return o.resolveInjectorInitializers(),o}let Nn=(()=>{class e{static create(n,r){if(Array.isArray(n))return kd({name:""},r,n,"");{const o=n.name??"";return kd({name:o},n.parent,n.providers,o)}}}return e.THROW_IF_NOT_FOUND=xr,e.NULL=new hd,e.\u0275prov=pe({token:e,providedIn:"any",factory:()=>oe(dd)}),e.__NG_ELEMENT_ID__=-1,e})();function Y(e,t=$.Default){const n=b();return null===n?oe(e,t):uc(Be(),n,L(e),t)}function Hd(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r],i=n[r+1];if(-1!==i){const s=e.data[i];Ds(o),s.contentQueries(2,t[i],i)}}}function di(e,t,n,r,o,i,s,a,u,l,c){const h=t.blueprint.slice();return h[0]=o,h[2]=76|r,(null!==c||e&&1024&e[2])&&(h[2]|=1024),jl(h),h[3]=h[15]=e,h[8]=n,h[10]=s||e&&e[10],h[q]=a||e&&e[q],h[12]=u||e&&e[12]||null,h[9]=l||e&&e[9]||null,h[6]=i,h[20]=function qy(){return Wy++}(),h[21]=c,h[16]=2==t.type?e[16]:h,h}function fr(e,t,n,r,o){let i=e.data[t];if(null===i)i=function ba(e,t,n,r,o){const i=Hl(),s=gs(),u=e.data[t]=function tw(e,t,n,r,o,i){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,t,r,o);return null===e.firstChild&&(e.firstChild=u),null!==i&&(s?null==i.child&&null!==u.parent&&(i.child=u):null===i.next&&(i.next=u)),u}(e,t,n,r,o),function Km(){return U.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=r,i.attrs=o;const s=function jr(){const e=U.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Bt(i,!0),i}function Xr(e,t,n,r){if(0===n)return-1;const o=t.length;for(let i=0;i<n;i++)t.push(r),e.blueprint.push(r),e.data.push(null);return o}function Ea(e,t,n){ws(t);try{const r=e.viewQuery;null!==r&&Pa(1,r,n);const o=e.template;null!==o&&Ud(e,t,o,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Hd(e,t),e.staticViewQueries&&Pa(2,e.viewQuery,n);const i=e.components;null!==i&&function JD(e,t){for(let n=0;n<t.length;n++)ww(e,t[n])}(t,i)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[2]&=-5,_s()}}function fi(e,t,n,r){const o=t[2];if(128!=(128&o)){ws(t);try{jl(t),zl(e.bindingStartIndex),null!==n&&Ud(e,t,n,2,r);const s=3==(3&o);if(s){const l=e.preOrderCheckHooks;null!==l&&Ho(t,l,null)}else{const l=e.preOrderHooks;null!==l&&Uo(t,l,0,null),bs(t,0)}if(function vw(e){for(let t=zs(e);null!==t;t=Gs(t)){if(!t[2])continue;const n=t[9];for(let r=0;r<n.length;r++){const o=n[r],i=o[3];0==(512&o[2])&&ps(i,1),o[2]|=512}}}(t),function yw(e){for(let t=zs(e);null!==t;t=Gs(t))for(let n=10;n<t.length;n++){const r=t[n],o=r[1];Vo(r)&&fi(o,r,o.template,r[8])}}(t),null!==e.contentQueries&&Hd(e,t),s){const l=e.contentCheckHooks;null!==l&&Ho(t,l)}else{const l=e.contentHooks;null!==l&&Uo(t,l,1),bs(t,1)}!function KD(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const o=n[r];if(o<0)Sn(~o);else{const i=o,s=n[++r],a=n[++r];Qm(s,i),a(2,t[i])}}}finally{Sn(-1)}}(e,t);const a=e.components;null!==a&&function QD(e,t){for(let n=0;n<t.length;n++)Dw(e,t[n])}(t,a);const u=e.viewQuery;if(null!==u&&Pa(2,u,r),s){const l=e.viewCheckHooks;null!==l&&Ho(t,l)}else{const l=e.viewHooks;null!==l&&Uo(t,l,2),bs(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,ps(t[3],-1))}finally{_s()}}}function Ud(e,t,n,r,o){const i=Ke(),s=2&r;try{Sn(-1),s&&t.length>22&&xd(e,t,22,!1),n(r,o)}finally{Sn(i)}}function Ca(e,t,n){if(fs(t)){const o=t.directiveEnd;for(let i=t.directiveStart;i<o;i++){const s=e.data[i];s.contentQueries&&s.contentQueries(1,n[i],i)}}}function zd(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ma(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Ma(e,t,n,r,o,i,s,a,u,l){const c=22+r,h=c+o,g=function XD(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:z);return n}(c,h),m="function"==typeof l?l():l;return g[1]={type:e,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:m,incompleteFirstPass:!1}}function Wd(e,t,n,r){for(let o in e)if(e.hasOwnProperty(o)){n=null===n?{}:n;const i=e[o];null===r?qd(n,t,o,i):r.hasOwnProperty(o)&&qd(n,t,r[o],i)}return n}function qd(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Yd(e,t,n,r,o,i){for(let l=0;l<r.length;l++)Ts(qo(n,t),e,r[l].type);!function fw(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let l=0;l<r.length;l++){const c=r[l];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,u=Xr(e,t,r.length,null);for(let l=0;l<r.length;l++){const c=r[l];n.mergedAttrs=$r(n.mergedAttrs,c.hostAttrs),hw(e,n,t,u,c),dw(u,c,o),null!==c.contentQueries&&(n.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=64);const h=c.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function nw(e,t,n){const o=t.directiveEnd,i=e.data,s=t.attrs,a=[];let u=null,l=null;for(let c=t.directiveStart;c<o;c++){const h=i[c],g=n?n.get(h):null,y=g?g.outputs:null;u=Wd(h.inputs,c,u,g?g.inputs:null),l=Wd(h.outputs,c,l,y);const D=null===u||null===s||Md(t)?null:mw(u,c,s);a.push(D)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=u,t.outputs=l}(e,n,i)}function Kd(e,t,n){const r=n.directiveStart,o=n.directiveEnd,i=n.index,s=function Jm(){return U.lFrame.currentDirectiveIndex}();try{Sn(i);for(let a=r;a<o;a++){const u=e.data[a],l=t[a];ys(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&uw(u,l)}}finally{Sn(-1),ys(s)}}function uw(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Aa(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function dw(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;St(t)&&(n[""]=e)}}function hw(e,t,n,r,o){e.data[r]=o;const i=o.factory||(o.factory=In(o.type)),s=new Vr(i,St(o),Y);e.blueprint[r]=s,n[r]=s,function iw(e,t,n,r,o){const i=o.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function sw(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,i)}}(e,t,r,Xr(e,n,o.hostVars,z),o)}function gw(e,t,n,r,o,i){const s=i[t];if(null!==s){const a=r.setInput;for(let u=0;u<s.length;){const l=s[u++],c=s[u++],h=s[u++];null!==a?r.setInput(n,h,l,c):n[c]=h}}}function mw(e,t,n){let r=null,o=0;for(;o<n.length;){const i=n[o];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===r&&(r=[]);const s=e[i];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(i,s[a+1],n[o+1]);break}}o+=2}else o+=2;else o+=4}return r}function Dw(e,t){const n=ct(t,e);if(Vo(n)){const r=n[1];48&n[2]?fi(r,n,r.template,n[8]):n[5]>0&&Fa(n)}}function Fa(e){for(let r=zs(e);null!==r;r=Gs(r))for(let o=10;o<r.length;o++){const i=r[o];if(Vo(i))if(512&i[2]){const s=i[1];fi(s,i,s.template,i[8])}else i[5]>0&&Fa(i)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const o=ct(n[r],e);Vo(o)&&o[5]>0&&Fa(o)}}function ww(e,t){const n=ct(t,e),r=n[1];(function _w(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),Ea(r,n,n[8])}function hi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function pi(e,t,n,r=!0){const o=t[10];o.begin&&o.begin();try{fi(e,t,e.template,n)}catch(s){throw r&&function tf(e,t){const n=e[9],r=n?n.get(lr,null):null;r&&r.handleError(t)}(t,s),s}finally{o.end&&o.end()}}function Pa(e,t,n){Ds(0),t(e,n)}function ka(e,t,n,r,o){for(let i=0;i<n.length;){const s=n[i++],a=n[i++],u=t[s],l=e.data[s];null!==l.setInput?l.setInput(u,o,r,a):u[a]=o}}function Xt(e,t,n){const r=function jo(e,t){return Le(t[e])}(t,e);!function Rc(e,t,n){e.setValue(t,n)}(e[q],r,n)}function gi(e,t,n){let r=n?e.styles:null,o=n?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?o=Ji(o,a):2==i&&(r=Ji(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=o:e.classesWithoutHost=o}function mi(e,t,n,r,o=!1){for(;null!==n;){const i=t[n.index];if(null!==i&&r.push(Le(i)),It(i))for(let a=10;a<i.length;a++){const u=i[a],l=u[1].firstChild;null!==l&&mi(u[1],u,l,r)}const s=n.type;if(8&s)mi(e,t,n.child,r);else if(32&s){const a=Us(n,t);let u;for(;u=a();)r.push(u)}else if(16&s){const a=qc(t,n);if(Array.isArray(a))r.push(...a);else{const u=Zr(t[16]);mi(u[1],u,a,r,!0)}}n=o?n.projectionNext:n.next}return r}class eo{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return mi(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(It(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(function Zs(e,t){if(e.length<=10)return;const n=10+t,r=e[n];if(r){const o=r[17];null!==o&&o!==e&&Lc(o,r),t>0&&(e[n-1][4]=r[4]);const i=Yo(e,10+t);!function sv(e,t){Yr(e,t,t[q],2,null,null),t[0]=null,t[6]=null}(r[1],r);const s=i[19];null!==s&&s.detachView(i[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}(t,r),Yo(n,r))}this._attachedToViewContainer=!1}!function Bc(e,t){if(!(128&t[2])){const n=t[q];n.destroyNode&&Yr(e,t,n,3,null,null),function lv(e){let t=e[13];if(!t)return Ys(e[1],e);for(;t;){let n=null;if(ut(t))n=t[13];else{const r=t[10];r&&(n=r)}if(!n){for(;t&&!t[4]&&t!==e;)ut(t)&&Ys(t[1],t),t=t[3];null===t&&(t=e),ut(t)&&Ys(t[1],t),n=t&&t[4]}t=n}}(t)}}(this._lView[1],this._lView)}onDestroy(t){!function Gd(e,t,n,r){const o=function Jd(e){return e[7]||(e[7]=[])}(t);null===n?o.push(r):(o.push(n),e.firstCreatePass&&function Xd(e){return e.cleanup||(e.cleanup=[])}(e).push(r,o.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){!function Na(e){for(;e;){e[2]|=32;const t=Zr(e);if(xm(e)&&!t)return e;e=t}return null}(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){pi(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function uv(e,t){Yr(e,t,t[q],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=t}}class bw extends eo{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;pi(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class nf extends li{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=ne(t);return new to(n,this.ngModule)}}function rf(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Cw{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Fo(r);const o=this.injector.get(t,ga,r);return o!==ga||n===ga?o:this.parentInjector.get(t,n,r)}}class to extends wd{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function AD(e){return e.map(TD).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return rf(this.componentDef.inputs)}get outputs(){return rf(this.componentDef.outputs)}create(t,n,r,o){let i=(o=o||this.ngModule)instanceof ir?o:o?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new Cw(t,i):t,a=s.get(bd,null);if(null===a)throw new P(407,!1);const u=s.get(uD,null),l=a.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",h=r?function ew(e,t,n){return e.selectRootElement(t,n===Rt.ShadowDom)}(l,r,this.componentDef.encapsulation):qs(l,c,function Ew(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(c)),g=this.componentDef.onPush?288:272,m=Ma(0,null,null,1,0,null,null,null,null,null),y=di(null,m,null,g,null,null,a,l,u,s,null);let D,E;ws(y);try{const C=this.componentDef;let F,_=null;C.findHostDirectiveDefs?(F=[],_=new Map,C.findHostDirectiveDefs(C,F,_),F.push(C)):F=[C];const j=function Sw(e,t){const n=e[1];return e[22]=t,fr(n,22,2,"#host",null)}(y,h),le=function Mw(e,t,n,r,o,i,s,a){const u=o[1];!function Tw(e,t,n,r){for(const o of e)t.mergedAttrs=$r(t.mergedAttrs,o.hostAttrs);null!==t.mergedAttrs&&(gi(t,t.mergedAttrs,!0),null!==n&&Kc(r,n,t))}(r,e,t,s);const l=i.createRenderer(t,n),c=di(o,zd(n),null,n.onPush?32:16,o[e.index],e,i,l,a||null,null,null);return u.firstCreatePass&&Aa(u,e,r.length-1),hi(o,c),o[e.index]=c}(j,h,C,F,y,a,l);E=function Bl(e,t){return e.data[t]}(m,22),h&&function xw(e,t,n,r){if(r)Cs(e,n,["ng-version",lD.full]);else{const{attrs:o,classes:i}=function xD(e){const t=[],n=[];let r=1,o=2;for(;r<e.length;){let i=e[r];if("string"==typeof i)2===o?""!==i&&t.push(i,e[++r]):8===o&&n.push(i);else{if(!Mt(o))break;o=i}r++}return{attrs:t,classes:n}}(t.selectors[0]);o&&Cs(e,n,o),i&&i.length>0&&Yc(e,n,i.join(" "))}}(l,C,h,r),void 0!==n&&function Fw(e,t,n){const r=e.projection=[];for(let o=0;o<t.length;o++){const i=n[o];r.push(null!=i?Array.from(i):null)}}(E,this.ngContentSelectors,n),D=function Aw(e,t,n,r,o,i){const s=Be(),a=o[1],u=lt(s,o);Yd(a,o,s,n,null,r);for(let c=0;c<n.length;c++)Ue(Mn(o,a,s.directiveStart+c,s),o);Kd(a,o,s),u&&Ue(u,o);const l=Mn(o,a,s.directiveStart+s.componentOffset,s);if(e[8]=o[8]=l,null!==i)for(const c of i)c(l,t);return Ca(a,s,e),l}(le,C,F,_,y,[Nw]),Ea(m,y,null)}finally{_s()}return new Iw(this.componentType,D,ar(E,y),y,E)}}class Iw extends nD{constructor(t,n,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.instance=n,this.hostView=this.changeDetectorRef=new bw(o),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let o;if(null!==r&&(o=r[t])){const i=this._rootLView;ka(i[1],i,o,t,n),function Zd(e,t){const n=ct(t,e);16&n[2]||(n[2]|=32)}(i,this._tNode.index)}}get injector(){return new Qn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Nw(){const e=Be();$o(b()[1],e)}function ze(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function kn(e,t,n,r){const o=ze(e,t,n);return ze(e,t+1,r)||o}function pr(e,t,n,r){return ze(e,function Yn(){return U.lFrame.bindingIndex++}(),n)?t+H(n)+r:z}function mr(e,t,n,r,o,i,s,a){const l=function vi(e,t,n,r,o){const i=kn(e,t,n,r);return ze(e,t+2,o)||i}(e,Yt(),n,o,s);return Kt(3),l?t+H(n)+r+H(o)+i+H(s)+a:z}function yr(e,t,n,r,o,i,s,a,u,l){const h=function Dt(e,t,n,r,o,i){const s=kn(e,t,n,r);return kn(e,t+2,o,i)||s}(e,Yt(),n,o,s,u);return Kt(4),h?t+H(n)+r+H(o)+i+H(s)+a+H(u)+l:z}function La(e,t,n,r,o){const s=o?"class":"style";ka(e,n,t.inputs[s],s,r)}function p(e,t,n,r){const o=b(),i=J(),s=22+e,a=o[q],u=o[s]=qs(a,t,function sy(){return U.lFrame.currentNamespace}()),l=i.firstCreatePass?function Kw(e,t,n,r,o,i,s){const a=t.consts,l=fr(t,e,2,o,gn(a,i));return function Ta(e,t,n,r){let o=!1;if($l()){const i=null===r?null:{"":-1},s=function lw(e,t){const n=e.directiveRegistry;let r=null,o=null;if(n)for(let i=0;i<n.length;i++){const s=n[i];if(Td(t,s.selectors,!1))if(r||(r=[]),St(s))if(null!==s.findHostDirectiveDefs){const a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s),Aa(e,t,a.length)}else r.unshift(s),Aa(e,t,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return null===r?null:[r,o]}(e,n);let a,u;null===s?a=u=null:[a,u]=s,null!==a&&(o=!0,Yd(e,t,n,a,i,u)),i&&function cw(e,t,n){if(t){const r=e.localNames=[];for(let o=0;o<t.length;o+=2){const i=n[t[o+1]];if(null==i)throw new P(-301,!1);r.push(t[o],i)}}}(n,r,i)}return n.mergedAttrs=$r(n.mergedAttrs,n.attrs),o}(t,n,l,gn(a,s)),null!==l.attrs&&gi(l,l.attrs,!1),null!==l.mergedAttrs&&gi(l,l.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,l),l}(s,i,o,0,t,n,r):i.data[s];return Bt(l,!0),Kc(a,u,l),32!=(32&l.flags)&&ni(i,o,u,l),0===function Hm(){return U.lFrame.elementDepthCount}()&&Ue(u,o),function Um(){U.lFrame.elementDepthCount++}(),function Lo(e){return 1==(1&e.flags)}(l)&&(function Ia(e,t,n){!$l()||(function aw(e,t,n,r){const o=n.directiveStart,i=n.directiveEnd;Br(n)&&function pw(e,t,n){const r=lt(t,e),o=zd(n),i=e[10],s=hi(e,di(e,o,null,n.onPush?32:16,r,t,i,i.createRenderer(r,n),null,null,null));e[t.index]=s}(t,n,e.data[o+n.componentOffset]),e.firstCreatePass||qo(n,t),Ue(r,t);const s=n.initialInputs;for(let a=o;a<i;a++){const u=e.data[a],l=Mn(t,e,a,n);Ue(l,t),null!==s&&gw(0,a-o,l,u,0,s),St(u)&&(ct(n.index,t)[8]=Mn(t,e,a,n))}}(e,t,n,lt(n,t)),64==(64&n.flags)&&Kd(e,t,n))}(i,o,l),Ca(i,l,o)),null!==r&&function Sa(e,t,n=lt){const r=t.localNames;if(null!==r){let o=t.index+1;for(let i=0;i<r.length;i+=2){const s=r[i+1],a=-1===s?n(t,e):e[s];e[o++]=a}}}(o,l),p}function f(){let e=Be();gs()?function ms(){U.lFrame.isParent=!1}():(e=e.parent,Bt(e,!1));const t=e;!function zm(){U.lFrame.elementDepthCount--}();const n=J();return n.firstCreatePass&&($o(n,e),fs(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function cy(e){return 0!=(8&e.flags)}(t)&&La(n,t,b(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function dy(e){return 0!=(16&e.flags)}(t)&&La(n,t,b(),t.stylesWithoutHost,!1),f}function Ge(e,t,n,r){return p(e,t,n,r),f(),Ge}function Va(e){return!!e&&"function"==typeof e.then}const Xw=function bf(e){return!!e&&"function"==typeof e.subscribe};function d(e,t=""){const n=b(),r=J(),o=e+22,i=r.firstCreatePass?fr(r,o,1,t,null):r.data[o],s=n[o]=function Ws(e,t){return e.createText(t)}(n[q],t);ni(r,n,s,i),Bt(i,!1)}function ke(e,t,n){const r=b(),o=pr(r,e,t,n);return o!==z&&Xt(r,Ke(),o),ke}function xt(e,t,n,r,o){const i=b(),s=function gr(e,t,n,r,o,i){const a=kn(e,Yt(),n,o);return Kt(2),a?t+H(n)+r+H(o)+i:z}(i,e,t,n,r,o);return s!==z&&Xt(i,Ke(),s),xt}function Wa(e,t,n,r,o,i,s){const a=b(),u=mr(a,e,t,n,r,o,i,s);return u!==z&&Xt(a,Ke(),u),Wa}function io(e,t,n,r,o,i,s,a,u){const l=b(),c=yr(l,e,t,n,r,o,i,s,a,u);return c!==z&&Xt(l,Ke(),c),io}function qa(e){const t=b(),n=function hr(e,t){let n=!1,r=Yt();for(let i=1;i<t.length;i+=2)n=ze(e,r++,t[i])||n;if(zl(r),!n)return z;let o=t[0];for(let i=1;i<t.length;i+=2)o+=H(t[i])+t[i+1];return o}(t,e);return n!==z&&Xt(t,Ke(),n),qa}const Cr="en-US";let mh=Cr;class Ir{}class qb extends Ir{constructor(t,n,r){super(),this.componentFactoryResolver=new nf(this),this.instance=null;const o=new vd([...t,{provide:Ir,useValue:this},{provide:li,useValue:this.componentFactoryResolver}],n||ui(),r,new Set(["environment"]));this.injector=o,o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Uh(e,t,n=null){return new qb(e,t,n).injector}let Zb=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=pd(0,n.type),o=r.length>0?Uh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,o)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=pe({token:e,providedIn:"environment",factory:()=>new e(oe(ir))}),e})();function nu(e){return t=>{setTimeout(e,void 0,t)}}const en=class wE extends ht{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let o=t,i=n||(()=>null),s=r;if(t&&"object"==typeof t){const u=t;o=u.next?.bind(u),i=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(i=nu(i),o&&(o=nu(o)),s&&(s=nu(s)));const a=super.subscribe({next:o,error:i,complete:s});return t instanceof A&&t.add(a),a}};function Mi(...e){}const Tp=new Z("Application Initializer");let Ti=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Mi,this.reject=Mi,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let o=0;o<this.appInits.length;o++){const i=this.appInits[o]();if(Va(i))n.push(i);else if(Xw(i)){const s=new Promise((a,u)=>{i.subscribe({complete:a,error:u})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(o=>{this.reject(o)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(oe(Tp,8))},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const pu=new Z("AppId",{providedIn:"root",factory:function Ap(){return`${gu()}${gu()}${gu()}`}});function gu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xp=new Z("Platform Initializer"),Fp=new Z("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),rC=new Z("appBootstrapListener"),nn=new Z("LocaleId",{providedIn:"root",factory:()=>function Em(e,t=$.Default){return oe(e,Fo(t))}(nn,$.Optional|$.SkipSelf)||function oC(){return typeof $localize<"u"&&$localize.locale||Cr}()}),lC=(()=>Promise.resolve(0))();class We{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new en(!1),this.onMicrotaskEmpty=new en(!1),this.onStable=new en(!1),this.onError=new en(!1),typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();const o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!r&&n,o.shouldCoalesceRunChangeDetection=r,o.lastRequestAnimationFrameId=-1,o.nativeRequestAnimationFrame=function cC(){let e=ce.requestAnimationFrame,t=ce.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function hC(e){const t=()=>{!function fC(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ce,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,vu(e),e.isCheckStableRunning=!0,yu(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),vu(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,o,i,s,a)=>{try{return kp(e),n.invokeTask(o,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),Op(e)}},onInvoke:(n,r,o,i,s,a,u)=>{try{return kp(e),n.invoke(o,i,s,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),Op(e)}},onHasTask:(n,r,o,i)=>{n.hasTask(o,i),r===o&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,vu(e),yu(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,r,o,i)=>(n.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(o)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!We.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(We.isInAngularZone())throw new P(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,o){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,t,dC,Mi,Mi);try{return i.runTask(s,n,r)}finally{i.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const dC={};function yu(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function vu(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function kp(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Op(e){e._nesting--,yu(e)}class pC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new en,this.onMicrotaskEmpty=new en,this.onStable=new en,this.onError=new en}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,o){return t.apply(n,r)}}const Rp=new Z("");let vn=null;const bu=new Z("PlatformDestroyListeners");function wC(e){const{rootComponent:t,appProviders:n,platformProviders:r}=e,o=function DC(e=[]){if(vn)return vn;const t=function jp(e=[],t){return Nn.create({name:t,providers:[{provide:ca,useValue:"platform"},{provide:bu,useValue:new Set([()=>vn=null])},...e]})}(e);return vn=t,function Bp(e){const t=e.get(xp,null);t&&t.forEach(n=>n())}(t),t}(r),i=function Hp(e,t){let n;return n="noop"===e?new pC:("zone.js"===e?void 0:e)||new We(t),n}("zone.js",function $p(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}());return i.run(()=>{const a=Uh([{provide:We,useValue:i},...n||[]],o,"Environment Injector"),u=a.get(lr,null);let l;i.runOutsideAngular(()=>{l=i.onError.subscribe({next:g=>{u.handleError(g)}})});const c=()=>a.destroy(),h=o.get(bu);return h.add(c),a.onDestroy(()=>{l.unsubscribe(),h.delete(c)}),function Up(e,t,n){try{const r=n();return Va(r)?r.catch(o=>{throw t.runOutsideAngular(()=>e.handleError(o)),o}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(u,i,()=>{const g=a.get(Ti);return g.runInitializers(),g.donePromise.then(()=>{!function yh(e){pt(e,"Expected localeId to be defined"),"string"==typeof e&&(mh=e.toLowerCase().replace(/_/g,"-"))}(a.get(nn,Cr)||Cr);const y=a.get(Cu);return void 0!==t&&y.bootstrap(t),y})})})}let Cu=(()=>{class e{constructor(n,r,o){this._zone=n,this._injector=r,this._exceptionHandler=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new fe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new fe(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),function mu(e){typeof Zone>"u"?lC.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),l.unsubscribe()}});this.isStable=am(i,s.pipe(function um(e={}){const{connector:t=(()=>new ht),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=e;return i=>{let s,a,u,l=0,c=!1,h=!1;const g=()=>{a?.unsubscribe(),a=void 0},m=()=>{g(),s=u=void 0,c=h=!1},y=()=>{const D=s;m(),D?.unsubscribe()};return Ot((D,E)=>{l++,!h&&!c&&g();const C=u=u??t();E.add(()=>{l--,0===l&&!h&&!c&&(a=Ki(y,o))}),C.subscribe(E),!s&&l>0&&(s=new ie({next:F=>C.next(F),error:F=>{h=!0,g(),a=Ki(m,n,F),C.error(F)},complete:()=>{c=!0,g(),a=Ki(m,r),C.complete()}}),En(D).subscribe(s))})(i)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const o=n instanceof wd;if(!this._injector.get(Ti).done)throw!o&&function kr(e){const t=ne(e)||Ve(e)||qe(e);return null!==t&&t.standalone}(n),new P(405,false);let s;s=o?n:this._injector.get(li).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function yC(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Ir),l=s.create(Nn.NULL,[],r||s.selector,a),c=l.location.nativeElement,h=l.injector.get(Rp,null);return h?.registerApplication(c),l.onDestroy(()=>{this.detachView(l.hostView),xi(this.components,l),h?.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new P(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;xi(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(rC,[]);r.push(...this._bootstrapListeners),r.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>xi(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new P(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(oe(We),oe(ir),oe(lr))},e.\u0275prov=pe({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function xi(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Au=null;function mo(){return Au}class VC{}const on=new Z("DocumentToken");class jI extends VC{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Gu extends jI{static makeCurrent(){!function jC(e){Au||(Au=e)}(new Gu)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function VI(){return wo=wo||document.querySelector("base"),wo?wo.getAttribute("href"):null}();return null==n?null:function $I(e){zi=zi||document.createElement("a"),zi.setAttribute("href",e);const t=zi.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){wo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function S0(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[o,i]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(o.trim()===t)return decodeURIComponent(i)}return null}(document.cookie,t)}}let zi,wo=null,GI=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e})();const Gi=new Z("EventManagerPlugins");let Wi=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(o=>o.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,o){return this._findPluginFor(r).addEventListener(n,r,o)}addGlobalEventListener(n,r,o){return this._findPluginFor(r).addGlobalEventListener(n,r,o)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const o=this._plugins;for(let i=0;i<o.length;i++){const s=o[i];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(oe(Gi),oe(We))},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e})();class Eg{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const o=mo().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${n}`);return this.addEventListener(o,n,r)}}let Cg=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e})(),_o=(()=>{class e extends Cg{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,o){n.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,o.push(r.appendChild(s))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(Ig),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(n,o,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Ig))}}return e.\u0275fac=function(n){return new(n||e)(oe(on))},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e})();function Ig(e){mo().remove(e)}const Wu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qu=/%COMP%/g;function Zu(e,t){return t.flat(100).map(n=>n.replace(qu,e))}function Tg(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Yu=(()=>{class e{constructor(n,r,o){this.eventManager=n,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Ku(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Rt.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new QI(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(n),o}case 1:case Rt.ShadowDom:return new JI(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const o=Zu(r.id,r.styles);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(oe(Wi),oe(_o),oe(pu))},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e})();class Ku{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Wu[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(xg(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(xg(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,o){if(o){n=o+":"+n;const i=Wu[o];i?t.setAttributeNS(i,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const o=Wu[r];o?t.removeAttributeNS(o,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,o){o&(tt.DashCase|tt.Important)?t.style.setProperty(n,r,o&tt.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&tt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,Tg(r)):this.eventManager.addEventListener(t,n,Tg(r))}}function xg(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class QI extends Ku{constructor(t,n,r,o){super(t),this.component=r;const i=Zu(o+"-"+r.id,r.styles);n.addStyles(i),this.contentAttr=function ZI(e){return"_ngcontent-%COMP%".replace(qu,e)}(o+"-"+r.id),this.hostAttr=function YI(e){return"_nghost-%COMP%".replace(qu,e)}(o+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}class JI extends Ku{constructor(t,n,r,o){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Zu(o.id,o.styles);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const Fg=["alt","control","meta","shift"],eS={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tS={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};function Pg(e){return{appProviders:[...cS,...e?.providers??[]],platformProviders:aS}}const aS=[{provide:Fp,useValue:"browser"},{provide:xp,useValue:function oS(){Gu.makeCurrent()},multi:!0},{provide:on,useFactory:function sS(){return function Ev(e){ta=e}(document),document},deps:[]}],cS=[{provide:ca,useValue:"root"},{provide:lr,useFactory:function iS(){return new lr},deps:[]},{provide:Gi,useClass:(()=>{class e extends Eg{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,o){return n.addEventListener(r,o,!1),()=>this.removeEventListener(n,r,o)}removeEventListener(n,r,o){return n.removeEventListener(r,o)}}return e.\u0275fac=function(n){return new(n||e)(oe(on))},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e})(),multi:!0,deps:[on,We,Fp]},{provide:Gi,useClass:(()=>{class e extends Eg{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,o){const i=e.parseEventName(r),s=e.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>mo().onAndCancel(n,i.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const i=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Fg.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),s+=l+".")}),s+=i,0!=r.length||0===i.length)return null;const u={};return u.domEventName=o,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let o=eS[n.key]||n.key,i="";return r.indexOf("code.")>-1&&(o=n.code,i="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Fg.forEach(s=>{s!==o&&(0,tS[s])(n)&&(i+=s+".")}),i+=o,i===r)}static eventCallback(n,r,o){return i=>{e.matchEventFullKeyCode(i,n)&&o.runGuarded(()=>r(i))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(oe(on))},e.\u0275prov=pe({token:e,factory:e.\u0275fac}),e})(),multi:!0,deps:[on]},{provide:Yu,useClass:Yu,deps:[Wi,_o,pu]},{provide:bd,useExisting:Yu},{provide:Cg,useExisting:_o},{provide:_o,useClass:_o,deps:[on]},{provide:Wi,useClass:Wi,deps:[Gi,We]},{provide:class fI{},useClass:GI,deps:[]},[]];typeof window<"u"&&window;var wS=N(83);N(668);class bo{ngAfterViewInit(){(0,wS.highlightAll)()}}bo.\u0275fac=function(t){return new(t||bo)},bo.\u0275cmp=ls({type:bo,selectors:[["app-root"]],standalone:!0,features:[function zh(e){e.getStandaloneInjector=t=>t.get(Zb).getOrCreateStandaloneInjector(e)}],decls:835,vars:61,consts:[[1,"logo"],[1,"title"],["src","assets/img/logo.svg","alt","Logo"],["href","#context"],["href","#introduction"],["href","#playground"],["href","#installation"],["href","#principle"],["href","#models"],["href","#state"],["href","#configuration"],["href","#find"],["href","#select"],["href","#indexes"],["href","#upsert"],["href","#remove"],["href","#load"],["href","#post"],["href","#put"],["href","#delete"],["href","#ngs-container"],["href","#store-component"],["href","#roadmap"],["id","context"],["id","introduction"],[1,"language-typescript"],["href","https://ngrx.io/","target","_blank"],["id","playground"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src","target","_blank"],["id","installation"],["id","principle"],["id","models"],["id","state"],["id","configuration"],[1,"message","information"],["id","find"],[1,"language-xml"],[1,"img"],["src","assets/img/get-values.png"],["src","assets/img/get-entities.png"],[1,"message","warning"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/01_Find","target","_blank"],["id","select"],["src","assets/img/immutable-error.png"],["href","https://github.com/immerjs/immer","target","_blank"],["href","find"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/02_Select","target","_blank"],["id","indexes"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/03_Indexes","target","_blank"],["id","upsert"],["src","assets/img/upsert-01.png"],["src","assets/img/upsert-02.png"],["src","assets/img/upsert-03.png"],["src","assets/img/upsert-04.png"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/04_Upsert","target","_blank"],["id","remove"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/05_Remove","target","_blank"],["id","load"],["src","assets/img/container-error.png"],["src","assets/img/container-loading-01.png"],["src","assets/img/container-loading-02.png"],["src","assets/img/load-console-01.png"],["src","assets/img/load-console-02.png"],["src","assets/img/load-console-03.png"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/06_Load","target","_blank"],["id","post"],["id","put"],["id","delete"],["id","ngs-container"],["id","store-component"],["id","roadmap"]],template:function(t,n){1&t&&(p(0,"main")(1,"div",0)(2,"div",1)(3,"span"),d(4,"ng-st"),f(),Ge(5,"img",2),p(6,"span"),d(7,"re"),f()()(),p(8,"h1"),d(9,"Table of content"),f(),p(10,"ul")(11,"li")(12,"a",3),d(13,"Context"),f()(),p(14,"li")(15,"a",4),d(16,"Introduction"),f()(),p(17,"li")(18,"a",5),d(19,"PLayground"),f()(),p(20,"li")(21,"a",6),d(22,"Installation"),f()(),p(23,"li")(24,"a",7),d(25,"Principle"),f()(),p(26,"li")(27,"a",8),d(28,"Models"),f()(),p(29,"li")(30,"a",9),d(31,"State"),f()(),p(32,"li")(33,"a",10),d(34,"Configuration"),f()(),p(35,"li")(36,"a",11),d(37,"Find"),f()(),p(38,"li")(39,"a",12),d(40,"Select"),f()(),p(41,"li")(42,"a",13),d(43,"Indexes"),f()(),p(44,"li")(45,"a",14),d(46,"Update"),f()(),p(47,"li")(48,"a",15),d(49,"Remove"),f()(),p(50,"li")(51,"a",16),d(52,"Load"),f()(),p(53,"li")(54,"a",17),d(55,"Post"),f()(),p(56,"li")(57,"a",18),d(58,"Put"),f()(),p(59,"li")(60,"a",19),d(61,"Delete"),f()(),p(62,"li")(63,"a",20),d(64,"ngs-container"),f()(),p(65,"li")(66,"a",21),d(67,"StoreComponent"),f()(),p(68,"li")(69,"a",22),d(70,"Roadmap"),f()()(),p(71,"h1",23),d(72,"Context"),f(),p(73,"p"),d(74,'Managing data in an Angular application can be quite tricky and impact the way you develop your application. "ng-store" is a solution to manage data using a store similar to a relational database.'),f(),p(75,"h1",24),d(76,"Introduction"),f(),p(77,"p"),d(78,"When learning Angular, you'll be confronted to a lot of concepts and challenges that you'll have to take. There are so many of those that beginners tend to neglect one of the most important: data management."),f(),p(79,"p"),d(80,"At first, it's tempting to rush into components development to make huge and complex components to power your application. After all, at first, it seems easier to have everything in a huge component. However, after a while, it appears that it is not a good solution and that it brings more problem that it solves."),f(),p(81,"p"),d(82,"At some point, in the Angular learning journey, one will be confronted to the challenge of managing data in the best way possible. At first, it's most likely that one will store data inside a component. Basically, after having read some tutorials, one will inject the "),p(83,"code",25),d(84,"HttpClient"),f(),d(85," service into the component and call the "),p(86,"code",25),d(87,"get"),f(),d(88," method to fetch data before displaying them on the screen."),f(),p(89,"p"),d(90,"It obviously works pretty well, however, there are some attention points to this:"),f(),p(91,"ul")(92,"li"),d(93," In a perfect world, a component should do one and only one thing. Therefore, fetching data using a HTTP call and displaying them could be considered as two things => bad practice. "),f(),p(94,"li"),d(95," Data loaded in the component are only available in this component. "),f(),p(96,"li"),d(97," You might need multiple class variables to store these data depending on the complexity of the component. "),f(),p(98,"li"),d(99," If multiple components need the same data, they will be loaded multiple times. "),f()(),p(100,"p"),d(101,"The next logical step is to start using services to store data. There are avantages to this approach:"),f(),p(102,"ul")(103,"li"),d(104," Data are centralized: When data are loaded, they are available to multiple components. "),f(),p(105,"li"),d(106," The heavy lifting is done once by the service. Components needing the data just have to inject the service and use the data. "),f()(),p(107,"p"),d(108," However, it's still, in my opinion, not the perfect solution. Indeed, with services maintaining their own data arise some pain points: "),f(),p(109,"ul")(110,"li"),d(111," What if the service A needs data from the services B and vice versa. This will create a cyclic dependency that will be difficult to solve properly. "),f(),p(112,"li"),d(113," It's difficult to ensure that services fetch and maintain their data in the same way. This can be leveraged using a base class but it adds some complexity. "),f(),p(114,"li"),d(115," If you're using the \"OnPush\" change detection strategy (as you should), simply updating data in a service won't refresh the views that depend on its data. Indeed, you'll need to implement a system propagating the value change down to the components. It's not very complex but it adds unecessary boilerplate. "),f(),p(116,"li"),d(117," You still have to think and implement a way of fetching data from your back end in a consistent way. "),f()(),p(118,"p"),d(119," I faced all these issues and considerations in my day to day work for a while, which is why I decided to have a look at store/state management systems out there. "),f(),p(120,"p"),d(121,"To be honest, I only checked one out: "),p(122,"a",26),d(123,"ngrx"),f(),d(124,". Mostly because it's the most popular one. "),f(),p(125,"p"),d(126," Before reading the following lines, please consider that I didn't use it for a long time and I probably only scratched the surface so the following lines might not be entirely correct or can be outdated. "),f(),p(127,"p"),d(128," My general feeling about this library is that it is waaay too complex to use. You have to create actions, effects, reducers, selectors, etc... and at the end, everything ties up magically and it becomes pretty cumbersome to have a clear view of what's happening in your application or to debug it. "),f(),p(129,"p"),d(130,' Another issue I had with it was the way immutability is handled. Basically, you have to do the heavy lifting using the spread operator in order to create new objects based on existing ones. I found it pretty cumbersome and not very intuitive (spoiler alert: "ng-store" handles it in a way that is totally transparent to you). '),f(),p(131,"p"),d(132," Once again, I'm sure it's a perfectly good library but long story short, it didn't suit me. "),f(),p(133,"p"),d(134," However, I really liked the idea of having one common location to store all the data of the application. Besides, the reactivity of the store also charmed me a lot, which is why I decided to implement my own store management library. "),f(),p(135,"p"),d(136," At the time of writing (2023), I've been working on and using this library for two years and now that it is stable, I feel that it can be useful to other developers than me. "),f(),p(137,"p"),d(138," In this documentation, we'll see the basic principle behind ng-store, how to configure and use it. After reading, you'll know everything there is about it and if you liked what you read, maybe you'll want to use it in your app \u{1f600} "),f(),p(139,"h1",27),d(140,"Playground"),f(),p(141,"p"),d(142,"You can find the code of the examples we'll talk about later in this article in the "),p(143,"a",28),d(144,"GitHub playground"),f(),d(145,'. The only thing you need to do is update the line 6 of the "main.ts" file to change the example you want to build.'),f(),p(146,"h1",29),d(147,"Installation"),f(),p(148,"p"),d(149,"Simply run:"),f(),p(150,"pre")(151,"code",25),d(152,"yarn add immer @ssougnez/ng-store"),f()(),p(153,"h1",30),d(154,"Principle"),f(),p(155,"p"),d(156,' You can use "ng-store" the way you want, however, you\'ll find in this section some advices to use it in an optimal way. '),f(),p(157,"p"),d(158,' Basically, the main principle consists in using "flat objects" as musch as possible. What I call "flat objects" are objects without any complex properties other than ones containing abstract data. For example, this is not a "flat object":'),f(),p(159,"pre")(160,"code",25),d(161),f()(),p(162,"p"),d(163,' The issue with this kind of objet is that it is an open door to data redundancy. Indeed, say that you fetch these data from a back end using REST API. It is very likely that the different users will have the same friends, meaning that a user data might be located in the "friends" array of multiple objects, causing the data to be bigger and duplicated. A better version of it would be: '),f(),p(164,"pre")(165,"code",25),d(166),f()(),p(167,"p"),d(168," In this approach, objects are treated as "),p(169,"strong"),d(170,"entities"),f(),d(171,' identified by a specific property that do not contain complex properties other than abstract data. "Abstract data" are data that does not represent entities in themselves, for example, some configuration for a specific entity. '),f(),p(172,"p"),d(173," Basically, you have to think about entities as rows in a relational database. In these, you have regular columns storing simple data and when you need more complex data, you store them in another table referenced by a foreign key in your primary one. In some circunstance, you'll also create a text column storing abstract data (in JSON). "),f(),p(174,"p"),d(175," Following this principle will help you a lot using \"ng-store\", but also for working on your back end. Indeed, when you have no real guidelines about the form of the object to return via a web service, it can be difficult to know what data to fetch from the database because you're not sure what data will be needed by the REST API call. With this approach, most of the time, you'll fetch data from your database in the most basic way. "),f(),p(176,"h1",31),d(177,"Models"),f(),p(178,"p"),d(179,' The core concept of the store is "entities". As explained above, an entity is a basic object with only simple properties. It must also contain an "id" property of the type you want. To ensure this last requirement, all your entities need to extend the '),p(180,"code",25),d(181,"BaseEntity<T>"),f(),d(182,' base class where "T" is the type of the "id" property. For example, here is an example of a "Pokemon" entity. '),f(),p(183,"pre")(184,"code",25),d(185),f()(),p(186,"p"),d(187,' It\'s important to highlight the fact that these entities are not stored as such in the store. In the example above, a value of type "Pokemon" will be stored as an '),p(188,"code",25),d(189,"Entity<Pokemon>"),f(),d(190," object. This type allows ng-store to store and find values in an efficient way. For now, the most important thing to remember is that an object of type "),p(191,"code",25),d(192,"Entity<T>"),f(),d(193," contains a "),p(194,"code",25),d(195,"value"),f(),d(196," property that holds the actual "),p(197,"code",25),d(198,"Pokemon"),f(),d(199," object. The type "),p(200,"code",25),d(201,"Entity<T>"),f(),d(202," also contains other properties that we'll review later in this document. "),f(),p(203,"p"),d(204," For the rest of this article, we'll use the following terms: "),f(),p(205,"ul")(206,"li")(207,"strong"),d(208,"value"),f(),d(209,': A value is the object you want to store, in this case, a "Pokemon" object.'),f(),p(210,"li")(211,"strong"),d(212,"entity"),f(),d(213,": An entity is a value wrapped in a "),p(214,"code",25),d(215,"Entity<T>"),f(),d(216," object."),f()(),p(217,"h1",32),d(218,"State"),f(),p(219,"p"),d(220,' Now that we have an entity, we can create our state. A state is composed by a type defined its shape and its initial value. Let\'s start by the shape of the state. In this example, it will simply contain a section called "pokemons". A section can be seen as a table in a database. It stores data of the same type. '),f(),p(221,"p"),d(222,' I usually create the state in a file called "app.state" located in a "states" directory. '),f(),p(223,"pre")(224,"code",25),d(225),f()(),p(226,"p"),d(227," Along with the shape of the state, we need to defined its initial value. In the same file, add the following lines: "),f(),p(228,"pre")(229,"code",25),d(230),f()(),p(231,"p"),d(232,' "createEntities" is a function that creates an empty section in your store. '),f(),p(233,"h1",33),d(234,"Configuration"),f(),p(235,"p"),d(236," The last step required to use the start is simply to inject it in your module and configure it to use the default value of your store. "),f(),p(237,"p",34),d(238,' As ng-store is not yet standalone compatible, you have to import "NgStoreModule" in the components using it. However, the standalone support is one of the next feature planned. '),f(),p(239,"pre")(240,"code",25),d(241),f()(),p(242,"p"),d(243," The configuration object accepts other properties but we'll cover them later in this documentation. "),f(),p(244,"p"),d(245," ng-store supports loading data asynchronously using HTTP requests. To use this feature, you can either not define the "),p(246,"code",25),d(247,"httpClientType"),f(),d(248," to use the default HTTP client of Angular or define it on a custom class (more on that later). "),f(),p(249,"h1",35),d(250,"Find functions"),f(),p(251,"p"),d(252," Find functions are used to find entities or values in the store. Let's start by updating the initial state of the store in order to insert some data. "),f(),p(253,"pre")(254,"code",25),d(255),f()(),p(256,"p"),d(257," Here's the ncessary code used to retrieve all the pokemons from the store: "),f(),p(258,"pre")(259,"code",25),d(260),f()(),p(261,"p"),d(262," We're using the "),p(263,"code",25),d(264,"getValues"),f(),d(265,' function to returns all the values stored in the "pokemons" section of the store. The '),p(266,"code",25),d(267,"trackByValue"),f(),d(268," variable is a function proposed by ng-store to tell "),p(269,"code",25),d(270,"ngFor"),f(),d(271,' to use the "id" property of array values. '),f(),p(272,"pre")(273,"code",36),d(274),f()(),p(275,"p"),d(276,"The result being:"),f(),p(277,"div",37),Ge(278,"img",38),f(),p(279,"p"),d(280," Now, to understand the difference between an entity and its value, let's use this variation of the code: "),f(),p(281,"pre")(282,"code",25),d(283),f()(),p(284,"pre")(285,"code",36),d(286),f()(),p(287,"p"),d(288," This time, the result is: "),f(),p(289,"div",37),Ge(290,"img",39),f(),p(291,"p"),d(292," As you can see, an entity is an object with a "),p(293,"code",25),d(294,"value"),f(),d(295,' property that contains the actual object you want to use. It also contains other properties used by "ng-store" to maintain the store in a correct state. Besides, we\'ll see later in this document that you can use some of these properties to update the UI of your component depending on the state of the entities in the store. '),f(),p(296,"p",34),d(297," In this case, we used "),p(298,"code",25),d(299,"trackByEntity"),f(),d(300," as we're dealing with entities. "),f(),p(301,"p"),d(302,' It is also possible to find a value or an entity in the store based on its "id" using the '),p(303,"code",25),d(304,"findValueByKey"),f(),d(305," or "),p(306,"code",25),d(307,"findEntityByKey"),f(),d(308,'. For example, here is how you would find the pokemon with the "id" 1. '),f(),p(309,"pre")(310,"code",25),d(311,"public firstValue: Pokemon | null = this._store.findValueByKey(s => s.pokemons, 1);\npublic firstEntity: Entity<Pokemon> | null = this._store.findEntityByKey(s => s.pokemons, 1);"),f()(),p(312,"p"),d(313," Note that these functions return "),p(314,"code",25),d(315,"null"),f(),d(316," if the entity cannot be found. "),f(),p(317,"p"),d(318," It is also possible to find values by any other criteria using the functions "),p(319,"code",25),d(320,"findValuesBy"),f(),d(321," or "),p(322,"code",25),d(323,"findEntitiesBy"),f(),d(324,'. In the following example, we\'ll find all "normal" pokemons. '),f(),p(325,"pre")(326,"code",25),d(327,"public normalValues: Pokemon[] = this._store.findValuesBy(s => s.pokemons, p => p.type === 'normal');\npublic normalEntities: Entity<Pokemon>[] = this._store.findEntitiesBy(s => s.pokemons, e => e.value.type === 'normal');"),f()(),p(328,"p",40),d(329," Even though the code above works, it's recommanded and more performant to use "),p(330,"a",13),d(331,"indexes"),f(),d(332,' as much as possible to find values based on another property than the "id". '),f(),p(333,"p"),d(334," You can also use the functions "),p(335,"code",25),d(336,"findEntityBy"),f(),d(337," and "),p(338,"code",25),d(339,"findValueBy"),f(),d(340," to find the first entity or value matching the condition. "),f(),p(341,"p",34),d(342," You can find the code of this section in "),p(343,"a",41),d(344,"this example"),f(),d(345," of the playground. "),f(),p(346,"h1",42),d(347,"Select functions"),f(),p(348,"p"),d(349," In the previous chapter, we saw how to retrieve values from the store. Even though it works, there is something you need be aware of: The store is "),p(350,"strong"),d(351,"immutable"),f(),d(352,". You can confirm this by trying to do something like this: "),f(),p(353,"pre")(354,"code",25),d(355),f()(),p(356,"p"),d(357," The code above would produce the following error in the console: "),f(),p(358,"div",37),Ge(359,"img",43),f(),p(360,"p"),d(361," Indeed, values in the store are "),p(362,"strong"),d(363,"immutable"),f(),d(364,", which means that you cannot directly update them like in the example above. If you never used immutability, it can seem weird but I strongly advice you to read on the subject to understand why it is a better idea to store the object like this. "),f(),p(365,"p"),d(366," There are multiple ways to ensure immutability in JavaScript and ng-store uses an awesome library called "),p(367,"a",44),d(368,"immer"),f(),d(369,". I won't talk about this library in here but I strongly advice you to have a look at it if you want to understand how ng-store works under the hood. "),f(),p(370,"p"),d(371," One important consequence of immutability is that objects that you retrieve from the store using "),p(372,"a",45),d(373,"find functions"),f(),d(374," might not always display the most up to date data. Indeed, say you get a value from the store using a find function. If this value changes in the store, your component will still hold a reference to the same object, so the one that hasn't been modified (as the modification triggers the creation of a new object), so you need to have a way to know when a value is modified in order to refresh your component accordingly, which is exactly what select functions are for. "),f(),p(375,"p"),d(376," Basically, select functions are the same than find functions but they return observables instead of values or entities. For example: "),f(),p(377,"pre")(378,"code",25),d(379,"public values$: Observable<Pokemon[]> = this._store.selectValues(s => s.pokemons);\npublic entities$: Observable<Entity<Pokemon>[]> = this._store.selectEntities(s => s.pokemons);"),f()(),p(380,"p"),d(381," As you can see, you use "),p(382,"code",25),d(383,"selectValues"),f(),d(384," and "),p(385,"code",25),d(386,"selectEntities"),f(),d(387," the same way you use "),p(388,"code",25),d(389,"getValues"),f(),d(390," and "),p(391,"code",25),d(392,"getEntities"),f(),d(393,". The only difference is that these functions return an observable instead of the values or entities. As for the templates, the code is almost the same. "),f(),p(394,"pre")(395,"code",36),d(396),f()(),p(397,"p"),d(398," The only difference here is that you have to use the "),p(399,"code",25),d(400,"async"),f(),d(401," pipe. "),f(),p(402,"p"),d(403," Using the select functions, you ensure that your component will be notified each time a values that you retrieved changes. Another big advantage is that you can use the "),p(404,"code",25),d(405,"async"),f(),d(406,' pipe to refresh the view of the component in a way supported by the "OnPush" change detection strategy. '),f(),p(407,"p",34),d(408," You can find the code of this section in "),p(409,"a",46),d(410,"this example"),f(),d(411," of the playground. "),f(),p(412,"h1",47),d(413,"Indexes"),f(),p(414,"p"),d(415," In the previous example, we saw how to select values based on another critera than their key. Even though it works, it's not optimal for performances. For example: "),f(),p(416,"pre")(417,"code",25),d(418,"public normal: Observable<Pokemon[]> = this._store.selectValuesBy(s => s.pokemons, p => p.type === 'normal');"),f()(),p(419,"p"),d(420," The issue here is that when the store gets updated, it will emit its new value, therefore, the predicate above will get executed for all pokemons once again.. If there are less than 10 000 items, it should be pretty fast, however, if your store contains a huge amount of pokemons, it can be pretty intensive to examine all of them to only return the normal ones. In this case, it is recommended to use indexes instead. Basically, an index is a property of the object that the store uses to organize its content in an efficient way. "),f(),p(421,"p"),d(422," The first thing to do in order to use indexes is to define them when using "),p(423,"code",25),d(424,"createEntities"),f(),d(425,": "),f(),p(426,"pre")(427,"code",25),d(428),f()(),p(429,"p"),d(430," Indexes are defined using the second parameter of "),p(431,"code",25),d(432,"createEntities"),f(),d(433," by passing an array of property names that will be used as indexes. It can be tempting to define every property in there but it is better to only defines the ones you'll really be using the most. Indeed, even though ng-store supports multiple indexes, maintaining them has a small cost, so it's better to avoid it if you don't need it. "),f(),p(434,"p"),d(435," Now that we defined our index, we can simply used it via the functions "),p(436,"code",25),d(437,"findValuesByIndex"),f(),d(438," or "),p(439,"code",25),d(440,"selectValuesByIndex"),f(),d(441,": "),f(),p(442,"pre")(443,"code",25),d(444,"public normal: Observable<Pokemon[]> = this._store.selectValuesByIndex(s => s.pokemons, 'type', 'normal');"),f()(),p(445,"p",34),d(446," You can find the code of this section in "),p(447,"a",48),d(448,"this example"),f(),d(449," of the playground. "),f(),p(450,"h1",49),d(451,"Upsert"),f(),p(452,"p"),d(453," Updating the store is pretty straightforward. In most scenario, data to add or update in the store are complete entities received by REST API, so you'll want to use the "),p(454,"code",25),d(455,"upsertValue"),f(),d(456," or "),p(457,"code",25),d(458,"upsertValues"),f(),d(459," functions. These functions add or update an object in the store based on its key. If an object with its key is already in the store, it will be merged with the one you pass to these functions. The only difference between these two functions is that "),p(460,"code",25),d(461,"upsertValues"),f(),d(462," expects an array and is used to upsert one or multiple values. "),f(),p(463,"p"),d(464," Say that you have the following component: "),f(),p(465,"pre")(466,"code",25),d(467),f()(),p(468,"p"),d(469," With the following template: "),f(),p(470,"pre")(471,"code",36),d(472),f()(),p(473,"p"),d(474," Nothing fancy, so far it simply selects all pokemons from the store, sort them in alphabetical order then display them. There are also three buttons. The first one upserts a new value in the store, the second one upserts a value that is already in the store (but with different data to show the effect) and the third one updates a property of a value. "),f(),p(475,"p"),d(476," Here is the code of the first button: "),f(),p(477,"pre")(478,"code",25),d(479),f()(),p(480,"p"),d(481," It does not get simpler than this. You just pass the new value to add in the store, and it gets added. Updating an existing value with another one is also very simple: "),f(),p(482,"pre")(483,"code",25),d(484),f()(),p(485,"p"),d(486," Here, we simply update the value with key 1 with a new value. However, it can happen that you don't have an object containing all the data of the entity you want to update, in this case, you can use the "),p(487,"code",25),d(488,"updateValueByKey"),f(),d(489," function to update an entity the way you want: "),f(),p(490,"pre")(491,"code",25),d(492),f()(),p(493,"p"),d(494," Let see what the component displays at first: "),f(),p(495,"div",37),Ge(496,"img",50),f(),p(497,"p"),d(498," Now, let's click on the first button: "),f(),p(499,"div",37),Ge(500,"img",51),f(),p(501,"p"),d(502," Vulpix got added to the list and as we're using an observable, the view got refreshed automatically even though we're using the \"OnPush\" change detection strategy. Now, push the second button. "),f(),p(503,"div",37),Ge(504,"img",52),f(),p(505,"p"),d(506," Pikachu disappeared and got replaced by Zubat. And finally, the third button: "),f(),p(507,"div",37),Ge(508,"img",53),f(),p(509,"p"),d(510," Zubat got updated and became Jigglypuff. "),f(),p(511,"p"),d(512,"Besides these functions, you can also use the following ones:"),f(),p(513,"ul")(514,"li")(515,"strong"),d(516,"updateEntitiesBy"),f(),d(517,": Update "),p(518,"strong"),d(519,"entities"),f(),d(520," based on a predicate."),f(),p(521,"li")(522,"strong"),d(523,"updateEntityByKey"),f(),d(524,": Update an "),p(525,"strong"),d(526,"entity"),f(),d(527," based on its key."),f(),p(528,"li")(529,"strong"),d(530,"updateValuesBy"),f(),d(531,": Update "),p(532,"strong"),d(533,"values"),f(),d(534," based on a predicate."),f()(),p(535,"p",34),d(536," You can find the code of this section in "),p(537,"a",54),d(538,"this example"),f(),d(539," of the playground. "),f(),p(540,"h1",55),d(541,"Remove"),f(),p(542,"p"),d(543," Removing values from the store can be done using these two functions: "),f(),p(544,"ul")(545,"li")(546,"strong"),d(547,"removeValuesBy"),f(),d(548,": Removes values based on a predicate."),f(),p(549,"li")(550,"strong"),d(551,"removeValuesByKeys"),f(),d(552,": Removes values based on their key."),f()(),p(553,"p"),d(554," For example, to remove the values with key 1 or 2: "),f(),p(555,"pre")(556,"code",25),d(557),f()(),p(558,"p"),d(559," Or to remove all normal pokemons: "),f(),p(560,"pre")(561,"code",25),d(562),f()(),p(563,"p",34),d(564," You can find the code of this section in "),p(565,"a",56),d(566,"this example"),f(),d(567," of the playground. "),f(),p(568,"h1",57),d(569,"Load"),f(),p(570,"p"),d(571," So far, we saw how to use the store in a synchronous way, however, in a real life scenario, data in the store get most of the time loaded using REST API in an asynchronous way. You could do it with what we saw above but ng-store comes with support for asynchronous loading of data. It also provides some components to simplify the UI. Let's start with a simple use case: "),f(),p(572,"ul")(573,"li"),d(574,"Pokemons are loaded using a call to a REST API."),f(),p(575,"li"),d(576,"We want to load all the pokemons but not all of their properties, to save bandwidth (partial load)."),f(),p(577,"li"),d(578,"We want a component to display a pokemon based on its id (all its properties)."),f()(),p(579,"p"),d(580,' For those who want to run the examples from the playground, I\'m using the "json-server" library to create a fake web service. You can start it by running the command '),p(581,"code",25),d(582,"yarn json"),f(),d(583," in the playground directory. All the call have a latency of one second in order to see what happens during the data loading. "),f(),p(584,"p"),d(585,' The first thing to do to be able to use HTTP calls is to configure "ng-store" in that way: '),f(),p(586,"pre")(587,"code",25),d(588),f()(),p(589,"p"),d(590,' We removed the "httpClientType" property to instruct Angular to use the default '),p(591,"code",25),d(592,"HttpClient"),f(),d(593," and we also imported the "),p(594,"code",25),d(595,"HttpClientModule"),f(),d(596,". "),f(),p(597,"p"),d(598," Now, we're going to create a "),p(599,"code",25),d(600,"PokemonService"),f(),d(601," to do the heavy lifting of loading data: "),f(),p(602,"pre")(603,"code",25),d(604),f()(),p(605,"p"),d(606,' As we saw earlier, you could make the HTTP call by yourself and handle the loading, error and success states, but "ng-store" provides a component called '),p(607,"code",25),d(608,"ngs-container"),f(),d(609," to help you with that. Here, we'll see the most basic usage of this component, but you can find more information about it "),p(610,"a",20),d(611,"later in this documentation"),f(),d(612,". "),f(),p(613,"p"),d(614," This component works by using two observables: "),f(),p(615,"ul")(616,"li")(617,"strong"),d(618,"query$"),f(),d(619,": Used to perform the HTTP call."),f(),p(620,"li")(621,"strong"),d(622,"data$"),f(),d(623,": Retrieves the data you want to use in your template from the store."),f()(),p(624,"p"),d(625," In our case, we'll start by implementing the function used to fetch data using a REST call in our service: "),f(),p(626,"pre")(627,"code",25),d(628),f()(),p(629,"p"),d(630," The "),p(631,"code",25),d(632,"loadAllEntities"),f(),d(633," function must be used to load all the entities from the server and put them in a store section. This function expects at most four parameters: "),f(),p(634,"ul")(635,"li")(636,"strong"),d(637,"url"),f(),d(638,": URL to call to retrieve the data. "),f(),p(639,"li")(640,"strong"),d(641,"root"),f(),d(642,": predicate used to select the section of the store that will store the fetched data. "),f(),p(643,"li")(644,"strong"),d(645,"entityLoaded"),f(),d(646,": Define whether the loaded entities are complete or not (more on that a bit later). "),f(),p(647,"li")(648,"strong"),d(649,"force"),f(),d(650,": When data are loaded and put in the store, subsequents call to "),p(651,"code",25),d(652,"loadAllEntities"),f(),d(653," for the same section will return them and not call the REST API again. However, you can force the store to refetch the data by setting this parameter to "),p(654,"code",25),d(655,"true"),f(),d(656,". "),f()(),p(657,"p"),d(658,' In this case, we use this function to call the web service at the specified URL and store the values returned by it in the "pokemons" section of the store. Moreover, as this route only returns '),p(659,"strong"),d(660,"some"),f(),d(661," properties of the pokemons, we set the third parameter to "),p(662,"strong"),d(663,"false"),f(),d(664," in order to indicate to the store that entities are loaded but not completely (we'll use that fact a bit later). "),f(),p(665,"p"),d(666," Now that we have this function, we can update the code of our component like so: "),f(),p(667,"pre")(668,"code",25),d(669),f()(),p(670,"p"),d(671," We simply set the "),p(672,"code",25),d(673,"query$"),f(),d(674," observable on the value returned by our service function and the "),p(675,"code",25),d(676,"data$"),f(),d(677," on a selection from the store. We also use the "),p(678,"code",25),d(679,"map"),f(),d(680," operator to sort the result based on the pokemons' name. Once we have these observables, we can use them in the template along with the "),p(681,"code",25),d(682,"ngs-container"),f(),d(683,". "),p(684,"code",25),d(685,"selectedId"),f(),d(686," variable will be used to display a pokemon in another component. "),f(),p(687,"pre")(688,"code",36),d(689),f()(),p(690,"p"),d(691," Basically, the "),p(692,"code",25),d(693,"ngs-container"),f(),d(694," expects the two observables we mentionned, instantiates a "),p(695,"code",25),d(696,"ng-template"),f(),d(697," and passes the values emitted by "),p(698,"code",25),d(699,"data$"),f(),d(700," observable in its implicit variable. Here, we store these data in the variable "),p(701,"code",25),d(702,"pokemons"),f(),d(703," then we use it to display all the pokemons. We also display a small icon that sets the value of "),p(704,"code",25),d(705,"selectedId"),f(),d(706," on the pokemon id. "),f(),p(707,"p"),d(708," One of the advantage of this component is that it handles loading and error states. Indeed, if the HTTP call fails, the container component catches it and can do something with the error. By default, it simply displays it. However, you can configure the container to display the error in a custom way. As for the loading indicator, the json server is configured to have a latency of one second and during this second, you can see that the "),p(709,"code",25),d(710,"ngs-container"),f(),d(711,' displays "'),p(712,"em"),d(713,"Loading..."),f(),d(714,'". There is different possibilities for the loading indicator format but here, we set the property '),p(715,"code",25),d(716,"loaderType"),f(),d(717," on "),p(718,"code",25),d(719,"text"),f(),d(720," to simply display a loading sentence. We'll see in the "),p(721,"a",20),d(722,"ngs-container"),f(),d(723," chapter how to customize this loading indicator. Let's confirm all of this by running our application with the JSON server turned off: "),f(),p(724,"div",37),Ge(725,"img",58),f(),p(726,"p"),d(727," The container correctly caught the error and displayed it. Now, let's start the JSON server and refresh our page. At first, we can see: "),f(),p(728,"div",37),Ge(729,"img",59),f(),p(730,"p"),d(731," Then after one second: "),f(),p(732,"div",37),Ge(733,"img",60),f(),p(734,"p"),d(735," So, as you can see, the "),p(736,"code",25),d(737,"ngs-container"),f(),d(738," really handles everything you need to fetch the data and display what needs to be displayed depending on the current state of the request. "),f(),p(739,"p"),d(740," We'll go a little further by creating a component that will receive the id of a pokemon in input and display all its data. As we said earlier, the call we used in the main component only loaded some of the properties. Now, we'll see how to load all the properties of the pokemon with the specified id. First, let's add a method to our service in order to load a pokemon based on its id. "),f(),p(741,"pre")(742,"code",25),d(743),f()(),p(744,"p",34),d(745," This route fetches a pokemon based on its id and returns "),p(746,"strong"),d(747,"all its properties"),f(),d(748,". "),f(),p(749,"p")(750,"code",25),d(751,"loadEntityByKey"),f(),d(752," calls a route in order to load an entity if it is not yet in the store or if it is in the store but is flagged as not completely loaded, which is the case here. Indeed, we called "),p(753,"code",25),d(754,"loadAllEntities"),f(),d(755," by passing "),p(756,"code",25),d(757,"false"),f(),d(758," as the third parameter, indicating this way that loaded entities were not complete. Note that "),p(759,"code",25),d(760,"loadEntityByKey"),f(),d(761," also set the entity it loads as completely loaded (except if you pass "),p(762,"code",25),d(763,"false"),f(),d(764,' in its fourth parameter), meaning that calling twice this function for the same entity will call the REST API only once. Moreover, and that\'s the case for all loading functions of "ng-store", if multiple components try to load an entity at the exact same time, only one call is made but the entity will be available for all components. '),f(),p(765,"p"),d(766," Now that we have this function, we can use it in a new component: "),f(),p(767,"pre")(768,"code",25),d(769),f()(),p(770,"p"),d(771," The idea here is the same than for the first component except that the "),p(772,"code",25),d(773,"query$"),f(),d(774," and "),p(775,"code",25),d(776,"data$"),f(),d(777," observables are defined in the setter of the id input. Now we can use them in the template: "),f(),p(778,"pre")(779,"code",36),d(780),f()(),p(781,"p"),d(782," The only thing left to do is adding the following line in the template of the main component: "),f(),p(783,"pre")(784,"code",36),d(785,'<app-pokemon *ngIf="selectedId !== null"\n             [id]="selectedId"></app-pokemon>\n'),f()(),p(786,"p"),d(787," And that's it. Let's have a look at the network tab of the console in order to see what happens in terms of HTTP calls. First, when the application starts: "),f(),p(788,"div",37),Ge(789,"img",61),f(),p(790,"p"),d(791," Now, click on the eye icon of the first pokemon: "),f(),p(792,"div",37),Ge(793,"img",62),f(),p(794,"p"),d(795," We see that the call to the route loading all the pokemon properties is correctly executed. Now, let's click on the eye of the second pokemon then click again on the eye of the first pokemon: "),f(),p(796,"div",37),Ge(797,"img",63),f(),p(798,"p"),d(799," As you can see, the call for the second pokemon is correctly done, however, the call for the first pokemon is not done another time. Indeed, as the entity is in the store and is completely loaded, it does not get loaded once again. Note that you can force the query (to refresh data maybe) by passing "),p(800,"code",25),d(801,"true"),f(),d(802," as the fifth parameter. "),f(),p(803,"p",34),d(804," You can find the code of this section in "),p(805,"a",64),d(806,"this example"),f(),d(807," of the playground. "),f(),p(808,"h1",65),d(809,"Post"),f(),p(810,"p"),d(811," Coming soon... "),f(),p(812,"h1",66),d(813,"Put"),f(),p(814,"p"),d(815," Coming soon... "),f(),p(816,"h1",67),d(817,"Delete"),f(),p(818,"p"),d(819," Coming soon... "),f(),p(820,"h1",68),d(821,"ngs-container"),f(),p(822,"p"),d(823," Coming soon... "),f(),p(824,"h1",69),d(825,"store-component"),f(),p(826,"p"),d(827," Coming soon... "),f(),p(828,"h1",70),d(829,"Roadmap"),f(),p(830,"p"),d(831," Here you'll find the next features I'd like to add to this library. Don't hesitate to post an issue to propose some ideas \u{1f609} "),f(),p(832,"ul")(833,"li"),d(834,"Support for standalone components"),f()()()),2&t&&(re(161),xt("","{",'\n    firstName: "Nicolas",\n    lastName: "Cage",\n    age: 50,\n    friends: [',"{",'\n        firstName: "Nicole",\n        lastName: "Kidman",\n        age: 56\n    }]\n}'),re(5),ke("","{",'\n    firstName: "Nicolas",\n    lastName: "Cage",\n    age: 50,\n    friends: [3, 19, 5]\n}'),re(19),xt("import ","{",' BaseEntity } from "@ssougnez/ng-store";\n\nexport type Pokemon = BaseEntity<number> & ',"{","\n    name: string;\n    type: 'water' | 'fire' | 'electric' | 'grass' | 'bug' | 'normal' | 'poison';\n}"),re(40),xt("import ","{",' Pokemon } from "../models/pokemon.model";\n\nexport type AppState = ',"{","\n    pokemons: Entities<Pokemon>;\n}"),re(5),xt("import ","{",' createEntities, Entities } from "@ssougnez/ng-store";\n    \n    export const initial: AppState = ',"{","\n        pokemons: createEntities()\n    }"),re(11),io("@NgModule(","{","\n    imports: [\n      NgStoreModule\n    ],\n    providers: [\n      ","{","\n        provide: NG_STORE_CONFIG,\n        useValue: ","{","\n          initialValue: initial,\n          httpClientType: null\n        } as StoreConfiguration\n      }\n    ]\n  })\n  export class AppModule ","{"," }\n"),re(14),qa(["export const initial: AppState = ","{","\n    pokemons: createEntities<Pokemon>([\n        ","{","\n            id: 1,\n            name: 'Pikachu',\n            type: 'electric'\n        },\n        ","{","\n            id: 2,\n            name: 'Bulbasaur',\n            type: 'grass'\n        },\n        ","{","\n            id: 3,\n            name: 'Charmander',\n            type: 'fire'\n        },\n        ","{","\n            id: 4,\n            name: 'Charmander',\n            type: 'fire'\n        },\n        ","{","\n            id: 5,\n            name: 'Squirtle',\n            type: 'water'\n        },\n        ","{","\n            id: 6,\n            name: 'Caterpie',\n            type: 'bug'\n        },\n        ","{","\n            id: 7,\n            name: 'Weedle',\n            type: 'bug'\n        },\n        ","{","\n            id: 8,\n            name: 'Pidgey',\n            type: 'normal'\n        },\n        ","{","\n            id: 9,\n            name: 'Nidoran',\n            type: 'normal'\n        },\n        ","{","\n            id: 10,\n            name: 'Rattata',\n            type: 'normal'\n        },\n        ","{","\n            id: 11,\n            name: 'Spearow ',\n            type: 'normal'\n        },\n        ","{","\n            id: 12,\n            name: 'Ekans ',\n            type: 'poison'\n        }\n    ])\n}"]),re(5),ke("export class AppComponent ","{","\n\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public pokemons: Pokemon[] = this._store.getValues(s => s.pokemons);\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n}"),re(14),ke('<h1>Pokemon</h1>\n\n<div *ngFor="let pokemon of pokemons; trackBy: trackByValue">',"{{"," pokemon.name }}</div>"),re(9),ke("export class AppComponent ","{","\n\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public pokemons: Entity<Pokemon>[] = this._store.getEntities(s => s.pokemons);\n  public trackByEntity: TrackByFunction<Entity<Pokemon>> = trackByEntity;\n\n}"),re(3),ke('<h1>Pokemon</h1>\n    \n<div *ngFor="let pokemon of pokemons; trackBy: trackByEntity">',"{{"," pokemon | json }}</div>"),re(69),ke("let pokemon: Pokemon | null = this._store.findValueByKey(s => s.pokemons, 1);\n\nif (pokemon !== null) ","{","\n  pokemon.name = 'Super pikachu';\n}"),re(41),xt('<h1>Values</h1>\n\n<div *ngFor="let pokemon of values$ | async; trackBy: trackByValue">',"{{",' pokemon | json }}</div>\n\n<h1>Entities</h1>\n\n<div *ngFor="let pokemon of entities$ | async; trackBy: trackByEntity">',"{{"," pokemon | json }}</div>"),re(32),ke("export const initial: AppState = ","{","\n    pokemons: createEntities<Pokemon>([ ... ], ['type'])\n}"),re(39),io("export class AppComponent ","{","\n\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public pokemons$: Observable<Pokemon[]> = this._store.selectValues<Pokemon>(s => s.pokemons).pipe(\n    map(pokemons => pokemons.sort((p1, p2) => p1.name.localeCompare(p2.name)))\n  );\n\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n  public upsertNonExisting(): void ","{","\n\n  }\n\n  public upsertExisting(): void ","{","\n\n  }\n\n  public updateExisting(): void ","{","\n    \n  }\n}"),re(5),ke('<div *ngFor="let p of pokemons$ | async; trackBy: trackByValue">\n    ',"{{",' p.name }}\n</div>\n\n<div>\n    <button (click)="upsertNonExisting()">Upsert non existing</button>\n</div>\n<div>\n    <button (click)="upsertExisting()">Upsert existing</button>\n</div>\n<div>\n    <button (click)="updateExisting()">Update existing</button>\n</div>'),re(7),xt("public upsertNonExisting(): void ","{","\n  const pokemon: Pokemon = ","{","\n    id: 13,\n    name: 'Vulpix',\n    type: 'fire'\n  };\n\n  this._store.upsertValue<Pokemon>(s => s.pokemons, pokemon);\n}"),re(5),xt("public upsertExisting(): void ","{","\n  const pokemon: Pokemon = ","{","\n    id: 1,\n    name: 'Zubat',\n    type: 'poison'\n  };\n\n  this._store.upsertValue<Pokemon>(s => s.pokemons, pokemon);\n}"),re(8),ke("public updateExisting(): void ","{","\n  this._store.updateValueByKey(s => s.pokemons, 1, p => p.name = 'Jigglypuff');\n}"),re(65),ke("public remove(): void ","{","\n    this._store.removeValuesByKeys<Pokemon>(s => s.pokemons, 1, 2);\n}"),re(5),ke("public removeNormal(): void ","{","\n    this._store.removeValuesBy(s => s.pokemons, p => p.type === 'normal');\n}"),re(26),io("@NgModule(","{","\n    imports: [\n        NgStoreModule,\n        HttpClientModule\n    ],\n    providers: [\n        ","{","\n            provide: NG_STORE_CONFIG,\n            useValue: ","{","\n                initialValue: initial\n            } as StoreConfiguration\n        }\n    ]\n})\nexport class AppModule ","{"," }\n"),re(16),xt("@Injectable(","{","\n    providedIn: 'root'\n})\nexport class PokemonService ","{","\n\n    private _store: NgStore<AppState> = inject(NgStore);\n\n}"),re(24),ke("public loadPokemons(): Observable<Pokemon[]> ","{","\n    return this._store.loadAllEntities('http://localhost:3000/pokemons', s => s.pokemons, false);\n}"),re(41),ke("export class AppComponent ","{","\n\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public selectedId: number | null = null;\n\n  public query$: Observable<Pokemon[]> = this._pokemonService.loadPokemons();\n  public pokemons$: Observable<Pokemon[]> = this._store.selectValues<Pokemon>(s => s.pokemons).pipe(\n    map(pokemons => pokemons.sort((p1, p2) => p1.name.localeCompare(p2.name)))\n  );\n\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n}\n"),re(20),ke('<ngs-container [query$]="query$"\n               [data$]="pokemons$"\n               loaderType="text">\n    <ng-template let-pokemons>\n        <div class="flex-row flex-aic gap1"\n             *ngFor="let p of pokemons; trackBy: trackByValue">\n            <div>',"{{",' p.name }}</div>\n            <i class="fa fa-solid fa-eye pointer"\n               (click)="selectedId = p.id"></i>\n        </div>\n    </ng-template>\n</ngs-container>\n'),re(54),xt("public loadPokemonById(id: number): Observable<Pokemon> ","{","\n    return this._store.loadEntityByKey(`http://localhost:3000/pokemons-full/$","{","id}`, s => s.pokemons, id);\n}\n"),re(26),Wa("@Component(","{","\n  selector: 'app-pokemon',\n  templateUrl: './pokemon.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports: [\n    JsonPipe,\n    NgStoreModule\n  ]\n})\nexport class PokemonComponent ","{","\n\n  @Input()\n  public set id(value: number) ","{","\n    this.query$ = this._pokemonService.loadPokemonById(value);\n    this.pokemon$ = this._store.selectValueByKey(s => s.pokemons, value);\n  }\n\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public query$!: Observable<Pokemon>;\n  public pokemon$!: Observable<Pokemon | null>;\n\n}\n"),re(11),ke('<ngs-container [query$]="query$"\n    [data$]="pokemon$"\n    loaderType="text">\n    <ng-template let-pokemon>\n        <pre>',"{{"," pokemon | json }}</pre>\n    </ng-template>\n</ngs-container>\n"))},styles:[".logo[_ngcontent-%COMP%]{margin-bottom:3rem;display:flex;flex-direction:row;justify-content:center;gap:.25rem}.logo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Secular One,Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:5rem}.logo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem;margin-bottom:-.75rem}@media (max-width: 500px){.logo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:3rem}.logo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}}"]}),function rS(e,t){wC({rootComponent:e,...Pg(t)})}(bo)},668:()=>{!function(Oe){Oe.languages.typescript=Oe.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),Oe.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete Oe.languages.typescript.parameter,delete Oe.languages.typescript["literal-property"];var an=Oe.languages.extend("typescript",{});delete an["class-name"],Oe.languages.typescript["class-name"].inside=an,Oe.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:an}}}}),Oe.languages.ts=Oe.languages.typescript}(Prism)},83:Oe=>{var N=function(V){var Ee=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,je=0,Xe={},A={manual:V.Prism&&V.Prism.manual,disableWorkerMessageHandler:V.Prism&&V.Prism.disableWorkerMessageHandler,util:{encode:function w(v){return v instanceof Re?new Re(v.type,w(v.content),v.alias):Array.isArray(v)?v.map(w):v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(w){return Object.prototype.toString.call(w).slice(8,-1)},objId:function(w){return w.__id||Object.defineProperty(w,"__id",{value:++je}),w.__id},clone:function w(v,I){var M,S;switch(I=I||{},A.util.type(v)){case"Object":if(S=A.util.objId(v),I[S])return I[S];for(var O in I[S]=M={},v)v.hasOwnProperty(O)&&(M[O]=w(v[O],I));return M;case"Array":return S=A.util.objId(v),I[S]?I[S]:(I[S]=M=[],v.forEach(function(K,k){M[k]=w(K,I)}),M);default:return v}},getLanguage:function(w){for(;w;){var v=Ee.exec(w.className);if(v)return v[1].toLowerCase();w=w.parentElement}return"none"},setLanguage:function(w,v){w.className=w.className.replace(RegExp(Ee,"gi"),""),w.classList.add("language-"+v)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(M){var w=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(M.stack)||[])[1];if(w){var v=document.getElementsByTagName("script");for(var I in v)if(v[I].src==w)return v[I]}return null}},isActive:function(w,v,I){for(var M="no-"+v;w;){var S=w.classList;if(S.contains(v))return!0;if(S.contains(M))return!1;w=w.parentElement}return!!I}},languages:{plain:Xe,plaintext:Xe,text:Xe,txt:Xe,extend:function(w,v){var I=A.util.clone(A.languages[w]);for(var M in v)I[M]=v[M];return I},insertBefore:function(w,v,I,M){var S=(M=M||A.languages)[w],O={};for(var K in S)if(S.hasOwnProperty(K)){if(K==v)for(var k in I)I.hasOwnProperty(k)&&(O[k]=I[k]);I.hasOwnProperty(K)||(O[K]=S[K])}var ie=M[w];return M[w]=O,A.languages.DFS(A.languages,function(De,kt){kt===ie&&De!=w&&(this[De]=O)}),O},DFS:function w(v,I,M,S){S=S||{};var O=A.util.objId;for(var K in v)if(v.hasOwnProperty(K)){I.call(v,K,v[K],M||K);var k=v[K],ie=A.util.type(k);"Object"!==ie||S[O(k)]?"Array"===ie&&!S[O(k)]&&(S[O(k)]=!0,w(k,I,K,S)):(S[O(k)]=!0,w(k,I,null,S))}}},plugins:{},highlightAll:function(w,v){A.highlightAllUnder(document,w,v)},highlightAllUnder:function(w,v,I){var M={callback:I,container:w,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};A.hooks.run("before-highlightall",M),M.elements=Array.prototype.slice.apply(M.container.querySelectorAll(M.selector)),A.hooks.run("before-all-elements-highlight",M);for(var O,S=0;O=M.elements[S++];)A.highlightElement(O,!0===v,M.callback)},highlightElement:function(w,v,I){var M=A.util.getLanguage(w),S=A.languages[M];A.util.setLanguage(w,M);var O=w.parentElement;O&&"pre"===O.nodeName.toLowerCase()&&A.util.setLanguage(O,M);var k={element:w,language:M,grammar:S,code:w.textContent};function ie(kt){k.highlightedCode=kt,A.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,A.hooks.run("after-highlight",k),A.hooks.run("complete",k),I&&I.call(k.element)}if(A.hooks.run("before-sanity-check",k),(O=k.element.parentElement)&&"pre"===O.nodeName.toLowerCase()&&!O.hasAttribute("tabindex")&&O.setAttribute("tabindex","0"),!k.code)return A.hooks.run("complete",k),void(I&&I.call(k.element));if(A.hooks.run("before-highlight",k),k.grammar)if(v&&V.Worker){var De=new Worker(A.filename);De.onmessage=function(kt){ie(kt.data)},De.postMessage(JSON.stringify({language:k.language,code:k.code,immediateClose:!0}))}else ie(A.highlight(k.code,k.grammar,k.language));else ie(A.util.encode(k.code))},highlight:function(w,v,I){var M={code:w,grammar:v,language:I};if(A.hooks.run("before-tokenize",M),!M.grammar)throw new Error('The language "'+M.language+'" has no grammar.');return M.tokens=A.tokenize(M.code,M.grammar),A.hooks.run("after-tokenize",M),Re.stringify(A.util.encode(M.tokens),M.language)},tokenize:function(w,v){var I=v.rest;if(I){for(var M in I)v[M]=I[M];delete v.rest}var S=new ot;return bt(S,S.head,w),wn(w,S,v,S.head,0),function _n(w){for(var v=[],I=w.head.next;I!==w.tail;)v.push(I.value),I=I.next;return v}(S)},hooks:{all:{},add:function(w,v){var I=A.hooks.all;I[w]=I[w]||[],I[w].push(v)},run:function(w,v){var I=A.hooks.all[w];if(I&&I.length)for(var S,M=0;S=I[M++];)S(v)}},Token:Re};function Re(w,v,I,M){this.type=w,this.content=v,this.alias=I,this.length=0|(M||"").length}function un(w,v,I,M){w.lastIndex=v;var S=w.exec(I);if(S&&M&&S[1]){var O=S[1].length;S.index+=O,S[0]=S[0].slice(O)}return S}function wn(w,v,I,M,S,O){for(var K in I)if(I.hasOwnProperty(K)&&I[K]){var k=I[K];k=Array.isArray(k)?k:[k];for(var ie=0;ie<k.length;++ie){if(O&&O.cause==K+","+ie)return;var De=k[ie],kt=De.inside,jn=!!De.lookbehind,Eo=!!De.greedy,Tr=De.alias;if(Eo&&!De.pattern.global){var Co=De.pattern.toString().match(/[imsuy]*$/)[0];De.pattern=RegExp(De.pattern.source,Co+"g")}for(var qi=De.pattern||De,Ae=M.next,fe=S;Ae!==v.tail&&!(O&&fe>=O.reach);fe+=Ae.value.length,Ae=Ae.next){var Gt=Ae.value;if(v.length>w.length)return;if(!(Gt instanceof Re)){var it,Vn=1;if(Eo){if(!(it=un(qi,fe,w,jn))||it.index>=w.length)break;var $n=it.index,Zi=it.index+it[0].length,ht=fe;for(ht+=Ae.value.length;$n>=ht;)ht+=(Ae=Ae.next).value.length;if(fe=ht-=Ae.value.length,Ae.value instanceof Re)continue;for(var ln=Ae;ln!==v.tail&&(ht<Zi||"string"==typeof ln.value);ln=ln.next)Vn++,ht+=ln.value.length;Vn--,Gt=w.slice(fe,ht),it.index-=fe}else if(!(it=un(qi,0,Gt,jn)))continue;var Ot=it[0],cn=Gt.slice(0,$n=it.index),Io=Gt.slice($n+Ot.length),Ar=fe+Gt.length;O&&Ar>O.reach&&(O.reach=Ar);var dn=Ae.prev;if(cn&&(dn=bt(v,dn,cn),fe+=cn.length),Bn(v,dn,Vn),Ae=bt(v,dn,new Re(K,kt?A.tokenize(Ot,kt):Ot,Tr,Ot)),Io&&bt(v,Ae,Io),Vn>1){var Hn={cause:K+","+ie,reach:Ar};wn(w,v,I,Ae.prev,fe,Hn),O&&Hn.reach>O.reach&&(O.reach=Hn.reach)}}}}}}function ot(){var w={value:null,prev:null,next:null},v={value:null,prev:w,next:null};w.next=v,this.head=w,this.tail=v,this.length=0}function bt(w,v,I){var M=v.next,S={value:I,prev:v,next:M};return v.next=S,M.prev=S,w.length++,S}function Bn(w,v,I){for(var M=v.next,S=0;S<I&&M!==w.tail;S++)M=M.next;v.next=M,M.prev=v,w.length-=S}if(V.Prism=A,Re.stringify=function w(v,I){if("string"==typeof v)return v;if(Array.isArray(v)){var M="";return v.forEach(function(ie){M+=w(ie,I)}),M}var S={type:v.type,content:w(v.content,I),tag:"span",classes:["token",v.type],attributes:{},language:I},O=v.alias;O&&(Array.isArray(O)?Array.prototype.push.apply(S.classes,O):S.classes.push(O)),A.hooks.run("wrap",S);var K="";for(var k in S.attributes)K+=" "+k+'="'+(S.attributes[k]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+K+">"+S.content+"</"+S.tag+">"},!V.document)return V.addEventListener&&(A.disableWorkerMessageHandler||V.addEventListener("message",function(w){var v=JSON.parse(w.data),I=v.language,S=v.immediateClose;V.postMessage(A.highlight(v.code,A.languages[I],I)),S&&V.close()},!1)),A;var Ce=A.util.currentScript();function se(){A.manual||A.highlightAll()}if(Ce&&(A.filename=Ce.src,Ce.hasAttribute("data-manual")&&(A.manual=!0)),!A.manual){var Ie=document.readyState;"loading"===Ie||"interactive"===Ie&&Ce&&Ce.defer?document.addEventListener("DOMContentLoaded",se):window.requestAnimationFrame?window.requestAnimationFrame(se):window.setTimeout(se,16)}return A}(typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{});Oe.exports&&(Oe.exports=N),typeof global<"u"&&(global.Prism=N),N.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},N.languages.markup.tag.inside["attr-value"].inside.entity=N.languages.markup.entity,N.languages.markup.doctype.inside["internal-subset"].inside=N.languages.markup,N.hooks.add("wrap",function(V){"entity"===V.type&&(V.attributes.title=V.content.replace(/&amp;/,"&"))}),Object.defineProperty(N.languages.markup.tag,"addInlined",{value:function(Ee,je){var Xe={};Xe["language-"+je]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:N.languages[je]},Xe.cdata=/^<!\[CDATA\[|\]\]>$/i;var A={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Xe}};A["language-"+je]={pattern:/[\s\S]+/,inside:N.languages[je]};var Re={};Re[Ee]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return Ee}),"i"),lookbehind:!0,greedy:!0,inside:A},N.languages.insertBefore("markup","cdata",Re)}}),Object.defineProperty(N.languages.markup.tag,"addAttribute",{value:function(V,Ee){N.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+V+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[Ee,"language-"+Ee],inside:N.languages[Ee]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),N.languages.html=N.languages.markup,N.languages.mathml=N.languages.markup,N.languages.svg=N.languages.markup,N.languages.xml=N.languages.extend("markup",{}),N.languages.ssml=N.languages.xml,N.languages.atom=N.languages.xml,N.languages.rss=N.languages.xml,function(V){var Ee=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;V.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+Ee.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+Ee.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Ee.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+Ee.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:Ee,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},V.languages.css.atrule.inside.rest=V.languages.css;var je=V.languages.markup;je&&(je.tag.addInlined("style","css"),je.tag.addAttribute("style","css"))}(N),N.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},N.languages.javascript=N.languages.extend("clike",{"class-name":[N.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),N.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,N.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:N.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:N.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:N.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:N.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:N.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),N.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:N.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),N.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),N.languages.markup&&(N.languages.markup.tag.addInlined("script","javascript"),N.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),N.languages.js=N.languages.javascript,function(){if(!(typeof N>"u"||typeof document>"u")){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var Xe={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},A="data-src-status",Re="loading",ot="pre[data-src]:not(["+A+'="loaded"]):not(['+A+'="'+Re+'"])';N.hooks.add("before-highlightall",function(Ce){Ce.selector+=", "+ot}),N.hooks.add("before-sanity-check",function(Ce){var se=Ce.element;if(se.matches(ot)){Ce.code="",se.setAttribute(A,Re);var Ie=se.appendChild(document.createElement("CODE"));Ie.textContent="Loading\u2026";var w=se.getAttribute("data-src"),v=Ce.language;if("none"===v){var I=(/\.(\w+)$/.exec(w)||[,"none"])[1];v=Xe[I]||I}N.util.setLanguage(Ie,v),N.util.setLanguage(se,v);var M=N.plugins.autoloader;M&&M.loadLanguages(v),function bt(Ce,se,Ie){var w=new XMLHttpRequest;w.open("GET",Ce,!0),w.onreadystatechange=function(){4==w.readyState&&(w.status<400&&w.responseText?se(w.responseText):Ie(w.status>=400?function(Ce,se){return"\u2716 Error "+Ce+" while fetching file: "+se}(w.status,w.statusText):"\u2716 Error: File does not exist or is empty"))},w.send(null)}(w,function(S){se.setAttribute(A,"loaded");var O=function Bn(Ce){var se=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(Ce||"");if(se){var Ie=Number(se[1]),v=se[3];return se[2]?v?[Ie,Number(v)]:[Ie,void 0]:[Ie,Ie]}}(se.getAttribute("data-range"));if(O){var K=S.split(/\r\n?|\n/g),k=O[0],ie=null==O[1]?K.length:O[1];k<0&&(k+=K.length),k=Math.max(0,Math.min(k-1,K.length)),ie<0&&(ie+=K.length),ie=Math.max(0,Math.min(ie,K.length)),S=K.slice(k,ie).join("\n"),se.hasAttribute("data-start")||se.setAttribute("data-start",String(k+1))}Ie.textContent=S,N.highlightElement(Ie)},function(S){se.setAttribute(A,"failed"),Ie.textContent=S})}}),N.plugins.fileHighlight={highlight:function(se){for(var v,Ie=(se||document).querySelectorAll(ot),w=0;v=Ie[w++];)N.highlightElement(v)}};var _n=!1;N.fileHighlight=function(){_n||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),_n=!0),N.plugins.fileHighlight.highlight.apply(this,arguments)}}}()}},Oe=>{Oe(Oe.s=610)}]);