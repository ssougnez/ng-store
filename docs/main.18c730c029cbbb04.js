(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[179],{661:(Le,un,F)=>{"use strict";function O(e){return"function"==typeof e}function Ce(e){const n=e(o=>{Error.call(o),o.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const $e=Ce(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((o,r)=>`${r+1}) ${o.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function et(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class k{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const i of n)i.remove(this);else n.remove(this);const{initialTeardown:o}=this;if(O(o))try{o()}catch(i){t=i instanceof $e?i.errors:[i]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const i of r)try{_n(i)}catch(s){t=t??[],s instanceof $e?t=[...t,...s.errors]:t.push(s)}}if(t)throw new $e(t)}}add(t){var n;if(t&&t!==this)if(this.closed)_n(t);else{if(t instanceof k){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&et(n,t)}remove(t){const{_finalizers:n}=this;n&&et(n,t),t instanceof k&&t._removeParent(this)}}k.EMPTY=(()=>{const e=new k;return e.closed=!0,e})();const Be=k.EMPTY;function cn(e){return e instanceof k||e&&"closed"in e&&O(e.remove)&&O(e.add)&&O(e.unsubscribe)}function _n(e){O(e)?e():e.unsubscribe()}const it={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Et={setTimeout(e,t,...n){const{delegate:o}=Et;return o?.setTimeout?o.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=Et;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Vn(e){Et.setTimeout(()=>{const{onUnhandledError:t}=it;if(!t)throw e;t(e)})}function En(){}const Ie=w("C",void 0,void 0);function w(e,t,n){return{kind:e,value:t,error:n}}let v=null;function I(e){if(it.useDeprecatedSynchronousErrorHandling){const t=!v;if(t&&(v={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:o}=v;if(v=null,n)throw o}}else e()}class S extends k{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,cn(t)&&t.add(this)):this.destination=Sr}static create(t,n,o){return new se(t,n,o)}next(t){this.isStopped?$n(function Se(e){return w("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?$n(function ae(e){return w("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?$n(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const L=Function.prototype.bind;function J(e,t){return L.call(e,t)}class R{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(o){we(o)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(o){we(o)}else we(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){we(n)}}}class se extends S{constructor(t,n,o){let r;if(super(),O(t)||!t)r={next:t??void 0,error:n??void 0,complete:o??void 0};else{let i;this&&it.useDeprecatedNextContext?(i=Object.create(t),i.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&J(t.next,i),error:t.error&&J(t.error,i),complete:t.complete&&J(t.complete,i)}):r=t}this.destination=new R(r)}}function we(e){it.useDeprecatedSynchronousErrorHandling?function T(e){it.useDeprecatedSynchronousErrorHandling&&v&&(v.errorThrown=!0,v.error=e)}(e):Vn(e)}function $n(e,t){const{onStoppedNotification:n}=it;n&&Et.setTimeout(()=>n(e,t))}const Sr={closed:!0,next:En,error:function Ot(e){throw e},complete:En},xo="function"==typeof Symbol&&Symbol.observable||"@@observable";function Po(e){return e}let de=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const o=new e;return o.source=this,o.operator=n,o}subscribe(n,o,r){const i=function st(e){return e&&e instanceof S||function Hn(e){return e&&O(e.next)&&O(e.error)&&O(e.complete)}(e)&&cn(e)}(n)?n:new se(n,o,r);return I(()=>{const{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(n){try{return this._subscribe(n)}catch(o){n.error(o)}}forEach(n,o){return new(o=qt(o))((r,i)=>{const s=new se({next:a=>{try{n(a)}catch(u){i(u),s.unsubscribe()}},error:i,complete:r});this.subscribe(s)})}_subscribe(n){var o;return null===(o=this.source)||void 0===o?void 0:o.subscribe(n)}[xo](){return this}pipe(...n){return function Pe(e){return 0===e.length?Po:1===e.length?e[0]:function(n){return e.reduce((o,r)=>r(o),n)}}(n)(this)}toPromise(n){return new(n=qt(n))((o,r)=>{let i;this.subscribe(s=>i=s,s=>r(s),()=>o(i))})}}return e.create=t=>new e(t),e})();function qt(e){var t;return null!==(t=e??it.Promise)&&void 0!==t?t:Promise}const Ji=Ce(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ht=(()=>{class e extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const o=new dn(this,this);return o.operator=n,o}_throwIfClosed(){if(this.closed)throw new Ji}next(n){I(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const o of this.currentObservers)o.next(n)}})}error(n){I(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:o}=this;for(;o.length;)o.shift().error(n)}})}complete(){I(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:o,isStopped:r,observers:i}=this;return o||r?Be:(this.currentObservers=null,i.push(n),new k(()=>{this.currentObservers=null,et(i,n)}))}_checkFinalizedStatuses(n){const{hasError:o,thrownError:r,isStopped:i}=this;o?n.error(r):i&&n.complete()}asObservable(){const n=new de;return n.source=this,n}}return e.create=(t,n)=>new dn(t,n),e})();class dn extends ht{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,o;null===(o=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===o||o.call(n,t)}error(t){var n,o;null===(o=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===o||o.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,o;return null!==(o=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==o?o:Be}}function Ct(e){return t=>{if(function Un(e){return O(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(o){this.error(o)}});throw new TypeError("Unable to lift unknown Observable type")}}function Wt(e,t,n,o,r){return new Tr(e,t,n,o,r)}class Tr extends S{constructor(t,n,o,r,i,s){super(t),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){t.error(u)}}:super._next,this._error=r?function(a){try{r(a)}catch(u){t.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=o?function(){try{o()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function Cn(e,t){return Ct((n,o)=>{let r=0;n.subscribe(Wt(o,i=>{o.next(e.call(t,i,r++))}))})}function In(e){return this instanceof In?(this.v=e,this):new In(e)}function Zg(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(g){o[g]&&(r[g]=function(m){return new Promise(function(y,D){i.push([g,m,y,D])>1||a(g,m)})})}function a(g,m){try{!function u(g){g.value instanceof In?Promise.resolve(g.value.v).then(f,p):h(i[0][2],g)}(o[g](m))}catch(y){h(i[0][3],y)}}function f(g){a("next",g)}function p(g){a("throw",g)}function h(g,m){g(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}function Qg(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function lu(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n);function o(i){n[i]=e[i]&&function(s){return new Promise(function(a,u){!function r(i,s,a,u){Promise.resolve(u).then(function(f){i({value:f,done:a})},s)}(a,u,(s=e[i](s)).done,s.value)})}}}const Xi=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function uu(e){return O(e?.then)}function cu(e){return O(e[xo])}function du(e){return Symbol.asyncIterator&&O(e?.[Symbol.asyncIterator])}function fu(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const pu=function Xg(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function hu(e){return O(e?.[pu])}function gu(e){return Zg(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:o,done:r}=yield In(n.read());if(r)return yield In(void 0);yield yield In(o)}}finally{n.releaseLock()}})}function mu(e){return O(e?.getReader)}function pn(e){if(e instanceof de)return e;if(null!=e){if(cu(e))return function em(e){return new de(t=>{const n=e[xo]();if(O(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Xi(e))return function tm(e){return new de(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(uu(e))return function nm(e){return new de(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Vn)})}(e);if(du(e))return yu(e);if(hu(e))return function om(e){return new de(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(mu(e))return function rm(e){return yu(gu(e))}(e)}throw fu(e)}function yu(e){return new de(t=>{(function im(e,t){var n,o,r,i;return function Yg(e,t,n,o){return new(n||(n=Promise))(function(i,s){function a(p){try{f(o.next(p))}catch(h){s(h)}}function u(p){try{f(o.throw(p))}catch(h){s(h)}}function f(p){p.done?i(p.value):function r(i){return i instanceof n?i:new n(function(s){s(i)})}(p.value).then(a,u)}f((o=o.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Qg(e);!(o=yield n.next()).done;)if(t.next(o.value),t.closed)return}catch(s){r={error:s}}finally{try{o&&!o.done&&(i=n.return)&&(yield i.call(n))}finally{if(r)throw r.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function hn(e,t,n,o=0,r=!1){const i=t.schedule(function(){n(),r?e.add(this.schedule(null,o)):this.unsubscribe()},o);if(e.add(i),!r)return i}function es(e,t,n=1/0){return O(t)?es((o,r)=>Cn((i,s)=>t(o,i,r,s))(pn(e(o,r))),n):("number"==typeof t&&(n=t),Ct((o,r)=>function sm(e,t,n,o,r,i,s,a){const u=[];let f=0,p=0,h=!1;const g=()=>{h&&!u.length&&!f&&t.complete()},m=D=>f<o?y(D):u.push(D),y=D=>{i&&t.next(D),f++;let E=!1;pn(n(D,p++)).subscribe(Wt(t,C=>{r?.(C),i?m(C):t.next(C)},()=>{E=!0},void 0,()=>{if(E)try{for(f--;u.length&&f<o;){const C=u.shift();s?hn(t,s,()=>y(C)):y(C)}g()}catch(C){t.error(C)}}))};return e.subscribe(Wt(t,m,()=>{h=!0,g()})),()=>{a?.()}}(o,r,e,n)))}const vu=new de(e=>e.complete());function ts(e){return e[e.length-1]}function Du(e,t=0){return Ct((n,o)=>{n.subscribe(Wt(o,r=>hn(o,e,()=>o.next(r),t),()=>hn(o,e,()=>o.complete(),t),r=>hn(o,e,()=>o.error(r),t)))})}function wu(e,t=0){return Ct((n,o)=>{o.add(e.schedule(()=>n.subscribe(o),t))})}function bu(e,t){if(!e)throw new Error("Iterable cannot be null");return new de(n=>{hn(n,t,()=>{const o=e[Symbol.asyncIterator]();hn(n,t,()=>{o.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function Dm(...e){const t=function cm(e){return function um(e){return e&&O(e.schedule)}(ts(e))?e.pop():void 0}(e),n=function dm(e,t){return"number"==typeof ts(e)?e.pop():t}(e,1/0),o=e;return o.length?1===o.length?pn(o[0]):function am(e=1/0){return es(Po,e)}(n)(function vm(e,t){return t?function ym(e,t){if(null!=e){if(cu(e))return function fm(e,t){return pn(e).pipe(wu(t),Du(t))}(e,t);if(Xi(e))return function hm(e,t){return new de(n=>{let o=0;return t.schedule(function(){o===e.length?n.complete():(n.next(e[o++]),n.closed||this.schedule())})})}(e,t);if(uu(e))return function pm(e,t){return pn(e).pipe(wu(t),Du(t))}(e,t);if(du(e))return bu(e,t);if(hu(e))return function gm(e,t){return new de(n=>{let o;return hn(n,t,()=>{o=e[pu](),hn(n,t,()=>{let r,i;try{({value:r,done:i}=o.next())}catch(s){return void n.error(s)}i?n.complete():n.next(r)},0,!0)}),()=>O(o?.return)&&o.return()})}(e,t);if(mu(e))return function mm(e,t){return bu(gu(e),t)}(e,t)}throw fu(e)}(e,t):pn(e)}(o,t)):vu}function ns(e,t,...n){if(!0===t)return void e();if(!1===t)return;const o=new se({next:()=>{o.unsubscribe(),e()}});return t(...n).subscribe(o)}function le(e){for(let t in e)if(e[t]===le)return t;throw Error("Could not find renamed property on target object.")}function ue(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ue).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function rs(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const bm=le({__forward_ref__:le});function is(e){return e.__forward_ref__=is,e.toString=function(){return ue(this())},e}function j(e){return function ss(e){return"function"==typeof e&&e.hasOwnProperty(bm)&&e.__forward_ref__===is}(e)?e():e}function as(e){return e&&!!e.\u0275providers}class N extends Error{constructor(t,n){super(function Mr(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function z(e){return"string"==typeof e?e:null==e?"":String(e)}function Ar(e,t){throw new N(-201,!1)}function gt(e,t){null==e&&function oe(e,t,n,o){throw new Error(`ASSERTION ERROR: ${e}`+(null==o?"":` [Expected=> ${n} ${o} ${t} <=Actual]`))}(t,e,null,"!=")}function ge(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function kr(e){return Eu(e,xr)||Eu(e,Iu)}function Eu(e,t){return e.hasOwnProperty(t)?e[t]:null}function Cu(e){return e&&(e.hasOwnProperty(us)||e.hasOwnProperty(Am))?e[us]:null}const xr=le({\u0275prov:le}),us=le({\u0275inj:le}),Iu=le({ngInjectableDef:le}),Am=le({ngInjectorDef:le});var H=(()=>((H=H||{})[H.Default=0]="Default",H[H.Host=1]="Host",H[H.Self=2]="Self",H[H.SkipSelf=4]="SkipSelf",H[H.Optional=8]="Optional",H))();let cs;function mt(e){const t=cs;return cs=e,t}function Su(e,t,n){const o=kr(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:n&H.Optional?null:void 0!==t?t:void Ar(ue(e))}const fe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Fo={},Pr="ngTempTokenPath",Pm=/\n/gm,Tu="__source";let No;function Gn(e){const t=No;return No=e,t}function Nm(e,t=H.Default){if(void 0===No)throw new N(-203,!1);return null===No?Su(e,void 0,t):No.get(e,t&H.Optional?null:void 0,t)}function ie(e,t=H.Default){return(function km(){return cs}()||Nm)(j(e),t)}function Fr(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function fs(e){const t=[];for(let n=0;n<e.length;n++){const o=j(e[n]);if(Array.isArray(o)){if(0===o.length)throw new N(900,!1);let r,i=H.Default;for(let s=0;s<o.length;s++){const a=o[s],u=Rm(a);"number"==typeof u?-1===u?r=a.token:i|=u:r=a}t.push(ie(r,i))}else t.push(ie(o))}return t}function Rm(e){return e.__NG_DI_FLAG__}var It=(()=>((It=It||{})[It.OnPush=0]="OnPush",It[It.Default=1]="Default",It))(),Rt=(()=>{return(e=Rt||(Rt={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Rt;var e})();const Yt={},te=[],Nr=le({\u0275cmp:le}),ps=le({\u0275dir:le}),hs=le({\u0275pipe:le}),Kt=le({\u0275fac:le}),Ro=le({__NG_ELEMENT_ID__:le});let jm=0;function Or(e){return function mn(e){return{toString:e}.toString()}(()=>{const n=!0===e.standalone,o={},r={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===It.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||te,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Rt.Emulated,id:"c"+jm++,styles:e.styles||te,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},i=e.dependencies,s=e.features;return r.inputs=Fu(e.inputs,o),r.outputs=Fu(e.outputs),s&&s.forEach(a=>a(r)),r.directiveDefs=i?()=>("function"==typeof i?i():i).map(ku).filter(xu):null,r.pipeDefs=i?()=>("function"==typeof i?i():i).map(Ye).filter(xu):null,r})}function ku(e){return re(e)||He(e)}function xu(e){return null!==e}function Fu(e,t){if(null==e)return Yt;const n={};for(const o in e)if(e.hasOwnProperty(o)){let r=e[o],i=r;Array.isArray(r)&&(i=r[1],r=r[0]),n[r]=o,t&&(t[r]=i)}return n}const yt=Or;function tt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function re(e){return e[Nr]||null}function He(e){return e[ps]||null}function Ye(e){return e[hs]||null}const K=11;function ut(e){return Array.isArray(e)&&"object"==typeof e[1]}function Tt(e){return Array.isArray(e)&&!0===e[1]}function ys(e){return 0!=(4&e.flags)}function $o(e){return e.componentOffset>-1}function Vr(e){return 1==(1&e.flags)}function Mt(e){return null!==e.template}function Hm(e){return 0!=(256&e[2])}function Tn(e,t){return e.hasOwnProperty(Kt)?e[Kt]:null}class Gm{constructor(t,n,o){this.previousValue=t,this.currentValue=n,this.firstChange=o}isFirstChange(){return this.firstChange}}function ju(e){return e.type.prototype.ngOnChanges&&(e.setInput=Wm),qm}function qm(){const e=$u(this),t=e?.current;if(t){const n=e.previous;if(n===Yt)e.previous=t;else for(let o in t)n[o]=t[o];e.current=null,this.ngOnChanges(t)}}function Wm(e,t,n,o){const r=this.declaredInputs[n],i=$u(e)||function Ym(e,t){return e[Vu]=t}(e,{previous:Yt,current:null}),s=i.current||(i.current={}),a=i.previous,u=a[r];s[r]=new Gm(u&&u.currentValue,t,a===Yt),e[o]=t}const Vu="__ngSimpleChanges__";function $u(e){return e[Vu]||null}function je(e){for(;Array.isArray(e);)e=e[0];return e}function ct(e,t){return je(t[e.index])}function zu(e,t){return e.data[t]}function dt(e,t){const n=t[e];return ut(n)?n:n[0]}function Ur(e){return 64==(64&e[2])}function yn(e,t){return null==t?null:e[t]}function Gu(e){e[18]=0}function Ds(e,t){e[5]+=t;let n=e,o=e[3];for(;null!==o&&(1===t&&1===n[5]||-1===t&&0===n[5]);)o[5]+=t,n=o,o=o[3]}const G={lFrame:oc(null),bindingsEnabled:!0};function Wu(){return G.bindingsEnabled}function _(){return G.lFrame.lView}function ee(){return G.lFrame.tView}function Ve(){let e=Zu();for(;null!==e&&64===e.type;)e=e.parent;return e}function Zu(){return G.lFrame.currentTNode}function Bt(e,t){const n=G.lFrame;n.currentTNode=e,n.isParent=t}function ws(){return G.lFrame.isParent}function Qt(){return G.lFrame.bindingIndex}function Ju(e){return G.lFrame.bindingIndex=e}function Qn(){return G.lFrame.bindingIndex++}function Jt(e){const t=G.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ay(e,t){const n=G.lFrame;n.bindingIndex=n.bindingRootIndex=e,_s(t)}function _s(e){G.lFrame.currentDirectiveIndex=e}function Cs(e){G.lFrame.currentQueryIndex=e}function uy(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function tc(e,t,n){if(n&H.SkipSelf){let r=t,i=e;for(;!(r=r.parent,null!==r||n&H.Host||(r=uy(i),null===r||(i=i[15],10&r.type))););if(null===r)return!1;t=r,e=i}const o=G.lFrame=nc();return o.currentTNode=t,o.lView=e,!0}function Is(e){const t=nc(),n=e[1];G.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function nc(){const e=G.lFrame,t=null===e?null:e.child;return null===t?oc(e):t}function oc(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function rc(){const e=G.lFrame;return G.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ic=rc;function Ss(){const e=rc();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Qe(){return G.lFrame.selectedIndex}function Mn(e){G.lFrame.selectedIndex=e}function zr(e,t){for(let n=t.directiveStart,o=t.directiveEnd;n<o;n++){const i=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:f,ngOnDestroy:p}=i;s&&(e.contentHooks||(e.contentHooks=[])).push(-n,s),a&&((e.contentHooks||(e.contentHooks=[])).push(n,a),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,a)),u&&(e.viewHooks||(e.viewHooks=[])).push(-n,u),f&&((e.viewHooks||(e.viewHooks=[])).push(n,f),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,f)),null!=p&&(e.destroyHooks||(e.destroyHooks=[])).push(n,p)}}function Gr(e,t,n){sc(e,t,3,n)}function qr(e,t,n,o){(3&e[2])===n&&sc(e,t,n,o)}function Ts(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function sc(e,t,n,o){const i=o??-1,s=t.length-1;let a=0;for(let u=void 0!==o?65535&e[18]:0;u<s;u++)if("number"==typeof t[u+1]){if(a=t[u],null!=o&&a>=o)break}else t[u]<0&&(e[18]+=65536),(a<i||-1==i)&&(vy(e,n,t,u),e[18]=(4294901760&e[18])+u+2),u++}function vy(e,t,n,o){const r=n[o]<0,i=n[o+1],a=e[r?-n[o]:n[o]];if(r){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{i.call(a)}finally{}}}else try{i.call(a)}finally{}}class Uo{constructor(t,n,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=o}}function As(e,t,n){let o=0;for(;o<n.length;){const r=n[o];if("number"==typeof r){if(0!==r)break;o++;const i=n[o++],s=n[o++],a=n[o++];e.setAttribute(t,s,a,i)}else{const i=r,s=n[++o];lc(i)?e.setProperty(t,i,s):e.setAttribute(t,i,s),o++}}return o}function ac(e){return 3===e||4===e||6===e}function lc(e){return 64===e.charCodeAt(0)}function zo(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let o=0;o<t.length;o++){const r=t[o];"number"==typeof r?n=r:0===n||uc(e,n,r,null,-1===n||2===n?t[++o]:null)}}return e}function uc(e,t,n,o,r){let i=0,s=e.length;if(-1===t)s=-1;else for(;i<e.length;){const a=e[i++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=i-1;break}}}for(;i<e.length;){const a=e[i];if("number"==typeof a)break;if(a===n){if(null===o)return void(null!==r&&(e[i+1]=r));if(o===e[i+1])return void(e[i+2]=r)}i++,null!==o&&i++,null!==r&&i++}-1!==s&&(e.splice(s,0,t),i=s+1),e.splice(i++,0,n),null!==o&&e.splice(i++,0,o),null!==r&&e.splice(i++,0,r)}function cc(e){return-1!==e}function Wr(e){return 32767&e}function Yr(e,t){let n=function _y(e){return e>>16}(e),o=t;for(;n>0;)o=o[15],n--;return o}let ks=!0;function Kr(e){const t=ks;return ks=e,t}let Ey=0;const jt={};function Zr(e,t){const n=pc(e,t);if(-1!==n)return n;const o=t[1];o.firstCreatePass&&(e.injectorIndex=t.length,xs(o.data,e),xs(t,null),xs(o.blueprint,null));const r=Ps(e,t),i=e.injectorIndex;if(cc(r)){const s=Wr(r),a=Yr(r,t),u=a[1].data;for(let f=0;f<8;f++)t[i+f]=a[s+f]|u[s+f]}return t[i+8]=r,i}function xs(e,t){e.push(0,0,0,0,0,0,0,0,t)}function pc(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ps(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,o=null,r=t;for(;null!==r;){if(o=wc(r),null===o)return-1;if(n++,r=r[15],-1!==o.injectorIndex)return o.injectorIndex|n<<16}return-1}function Fs(e,t,n){!function Cy(e,t,n){let o;"string"==typeof n?o=n.charCodeAt(0)||0:n.hasOwnProperty(Ro)&&(o=n[Ro]),null==o&&(o=n[Ro]=Ey++);const r=255&o;t.data[e+(r>>5)]|=1<<r}(e,t,n)}function hc(e,t,n){if(n&H.Optional||void 0!==e)return e;Ar()}function gc(e,t,n,o){if(n&H.Optional&&void 0===o&&(o=null),0==(n&(H.Self|H.Host))){const r=e[9],i=mt(void 0);try{return r?r.get(t,o,n&H.Optional):Su(t,o,n&H.Optional)}finally{mt(i)}}return hc(o,0,n)}function mc(e,t,n,o=H.Default,r){if(null!==e){if(1024&t[2]){const s=function ky(e,t,n,o,r){let i=e,s=t;for(;null!==i&&null!==s&&1024&s[2]&&!(256&s[2]);){const a=yc(i,s,n,o|H.Self,jt);if(a!==jt)return a;let u=i.parent;if(!u){const f=s[21];if(f){const p=f.get(n,jt,o);if(p!==jt)return p}u=wc(s),s=s[15]}i=u}return r}(e,t,n,o,jt);if(s!==jt)return s}const i=yc(e,t,n,o,jt);if(i!==jt)return i}return gc(t,n,o,r)}function yc(e,t,n,o,r){const i=function Ty(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Ro)?e[Ro]:void 0;return"number"==typeof t?t>=0?255&t:My:t}(n);if("function"==typeof i){if(!tc(t,e,o))return o&H.Host?hc(r,0,o):gc(t,n,o,r);try{const s=i(o);if(null!=s||o&H.Optional)return s;Ar()}finally{ic()}}else if("number"==typeof i){let s=null,a=pc(e,t),u=-1,f=o&H.Host?t[16][6]:null;for((-1===a||o&H.SkipSelf)&&(u=-1===a?Ps(e,t):t[a+8],-1!==u&&Dc(o,!1)?(s=t[1],a=Wr(u),t=Yr(u,t)):a=-1);-1!==a;){const p=t[1];if(vc(i,a,p.data)){const h=Sy(a,t,n,s,o,f);if(h!==jt)return h}u=t[a+8],-1!==u&&Dc(o,t[1].data[a+8]===f)&&vc(i,a,t)?(s=p,a=Wr(u),t=Yr(u,t)):a=-1}}return r}function Sy(e,t,n,o,r,i){const s=t[1],a=s.data[e+8],p=function Qr(e,t,n,o,r){const i=e.providerIndexes,s=t.data,a=1048575&i,u=e.directiveStart,p=i>>20,g=r?a+p:e.directiveEnd;for(let m=o?a:a+p;m<g;m++){const y=s[m];if(m<u&&n===y||m>=u&&y.type===n)return m}if(r){const m=s[u];if(m&&Mt(m)&&m.type===n)return u}return null}(a,s,n,null==o?$o(a)&&ks:o!=s&&0!=(3&a.type),r&H.Host&&i===a);return null!==p?An(t,s,p,a):jt}function An(e,t,n,o){let r=e[n];const i=t.data;if(function Dy(e){return e instanceof Uo}(r)){const s=r;s.resolving&&function _m(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new N(-200,`Circular dependency in DI detected for ${e}${n}`)}(function ne(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():z(e)}(i[n]));const a=Kr(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?mt(s.injectImpl):null;tc(e,o,H.Default);try{r=e[n]=s.factory(void 0,i,e,o),t.firstCreatePass&&n>=o.directiveStart&&function yy(e,t,n){const{ngOnChanges:o,ngOnInit:r,ngDoCheck:i}=t.type.prototype;if(o){const s=ju(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,s)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i))}(n,i[n],t)}finally{null!==u&&mt(u),Kr(a),s.resolving=!1,ic()}}return r}function vc(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Dc(e,t){return!(e&H.Self||e&H.Host&&t)}class Xn{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,o){return mc(this._tNode,this._lView,t,Fr(o),n)}}function My(){return new Xn(Ve(),_())}function wc(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}class Z{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=ge({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function kn(e,t){e.forEach(n=>Array.isArray(n)?kn(n,t):t(n))}function _c(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Jr(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var nt=(()=>((nt=nt||{})[nt.Important=1]="Important",nt[nt.DashCase=2]="DashCase",nt))();const zs=new Map;let nv=0;const qs="__ngContext__";function Ge(e,t){ut(t)?(e[qs]=t[20],function rv(e){zs.set(e[20],e)}(t)):e[qs]=t}function Ys(e,t){return undefined(e,t)}function Qo(e){const t=e[3];return Tt(t)?t[3]:t}function Ks(e){return Uc(e[13])}function Zs(e){return Uc(e[4])}function Uc(e){for(;null!==e&&!Tt(e);)e=e[4];return e}function so(e,t,n,o,r){if(null!=o){let i,s=!1;Tt(o)?i=o:ut(o)&&(s=!0,o=o[0]);const a=je(o);0===e&&null!==n?null==r?Kc(t,n,a):xn(t,n,a,r||null,!0):1===e&&null!==n?xn(t,n,a,r||null,!0):2===e?function oa(e,t,n){const o=ri(e,t);o&&function Cv(e,t,n,o){e.removeChild(t,n,o)}(e,o,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=i&&function Tv(e,t,n,o,r){const i=n[7];i!==je(n)&&so(t,e,o,i,r);for(let a=10;a<n.length;a++){const u=n[a];Jo(u[1],u,e,t,o,i)}}(t,e,i,n,r)}}function Js(e,t,n){return e.createElement(t,n)}function Gc(e,t){const n=e[9],o=n.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,Ds(r,-1)),n.splice(o,1)}function Xs(e,t){if(e.length<=10)return;const n=10+t,o=e[n];if(o){const r=o[17];null!==r&&r!==e&&Gc(r,o),t>0&&(e[n-1][4]=o[4]);const i=Jr(e,10+t);!function mv(e,t){Jo(e,t,t[K],2,null,null),t[0]=null,t[6]=null}(o[1],o);const s=i[19];null!==s&&s.detachView(i[1]),o[3]=null,o[4]=null,o[2]&=-65}return o}function qc(e,t){if(!(128&t[2])){const n=t[K];n.destroyNode&&Jo(e,t,n,3,null,null),function Dv(e){let t=e[13];if(!t)return ea(e[1],e);for(;t;){let n=null;if(ut(t))n=t[13];else{const o=t[10];o&&(n=o)}if(!n){for(;t&&!t[4]&&t!==e;)ut(t)&&ea(t[1],t),t=t[3];null===t&&(t=e),ut(t)&&ea(t[1],t),n=t&&t[4]}t=n}}(t)}}function ea(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function Ev(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let o=0;o<n.length;o+=2){const r=t[n[o]];if(!(r instanceof Uo)){const i=n[o+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){const a=r[i[s]],u=i[s+1];try{u.call(a)}finally{}}else try{i.call(r)}finally{}}}}(e,t),function _v(e,t){const n=e.cleanup,o=t[7];let r=-1;if(null!==n)for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const s=n[i+3];s>=0?o[r=s]():o[r=-s].unsubscribe(),i+=2}else{const s=o[r=n[i+1]];n[i].call(s)}if(null!==o){for(let i=r+1;i<o.length;i++)(0,o[i])();t[7]=null}}(e,t),1===t[1].type&&t[K].destroy();const n=t[17];if(null!==n&&Tt(t[3])){n!==t[3]&&Gc(n,t);const o=t[19];null!==o&&o.detachView(e)}!function iv(e){zs.delete(e[20])}(t)}}function Wc(e,t,n){return function Yc(e,t,n){let o=t;for(;null!==o&&40&o.type;)o=(t=o).parent;if(null===o)return n[0];{const{componentOffset:r}=o;if(r>-1){const{encapsulation:i}=e.data[o.directiveStart+r];if(i===Rt.None||i===Rt.Emulated)return null}return ct(o,n)}}(e,t.parent,n)}function xn(e,t,n,o,r){e.insertBefore(t,n,o,r)}function Kc(e,t,n){e.appendChild(t,n)}function Zc(e,t,n,o,r){null!==o?xn(e,t,n,o,r):Kc(e,t,n)}function ri(e,t){return e.parentNode(t)}let sa,Xc=function Jc(e,t,n){return 40&e.type?ct(e,n):null};function ii(e,t,n,o){const r=Wc(e,o,t),i=t[K],a=function Qc(e,t,n){return Xc(e,t,n)}(o.parent||t[6],o,t);if(null!=r)if(Array.isArray(n))for(let u=0;u<n.length;u++)Zc(i,r,n[u],a,!1);else Zc(i,r,n,a,!1)}function si(e,t){if(null!==t){const n=t.type;if(3&n)return ct(t,e);if(4&n)return na(-1,e[t.index]);if(8&n){const o=t.child;if(null!==o)return si(e,o);{const r=e[t.index];return Tt(r)?na(-1,r):je(r)}}if(32&n)return Ys(t,e)()||je(e[t.index]);{const o=td(e,t);return null!==o?Array.isArray(o)?o[0]:si(Qo(e[16]),o):si(e,t.next)}}return null}function td(e,t){return null!==t?e[16][6].projection[t.projection]:null}function na(e,t){const n=10+e+1;if(n<t.length){const o=t[n],r=o[1].firstChild;if(null!==r)return si(o,r)}return t[7]}function ra(e,t,n,o,r,i,s){for(;null!=n;){const a=o[n.index],u=n.type;if(s&&0===t&&(a&&Ge(je(a),o),n.flags|=2),32!=(32&n.flags))if(8&u)ra(e,t,n.child,o,r,i,!1),so(t,e,r,a,i);else if(32&u){const f=Ys(n,o);let p;for(;p=f();)so(t,e,r,p,i);so(t,e,r,a,i)}else 16&u?nd(e,t,o,n,r,i):so(t,e,r,a,i);n=s?n.projectionNext:n.next}}function Jo(e,t,n,o,r,i){ra(n,o,e.firstChild,t,r,i,!1)}function nd(e,t,n,o,r,i){const s=n[16],u=s[6].projection[o.projection];if(Array.isArray(u))for(let f=0;f<u.length;f++)so(t,e,r,u[f],i);else ra(e,t,u,s[3],r,i,!0)}function od(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function rd(e,t,n){const{mergedAttrs:o,classes:r,styles:i}=n;null!==o&&As(e,t,o),null!==r&&od(e,t,r),null!==i&&function Av(e,t,n){e.setAttribute(t,"style",n)}(e,t,i)}const vd=new Z("ENVIRONMENT_INITIALIZER"),Dd=new Z("INJECTOR",-1),wd=new Z("INJECTOR_DEF_TYPES");class bd{get(t,n=Fo){if(n===Fo){const o=new Error(`NullInjectorError: No provider for ${ue(t)}!`);throw o.name="NullInjectorError",o}return n}}function oD(...e){return{\u0275providers:_d(0,e),\u0275fromNgModule:!0}}function _d(e,...t){const n=[],o=new Set;let r;return kn(t,i=>{const s=i;fa(s,n,[],o)&&(r||(r=[]),r.push(s))}),void 0!==r&&Ed(r,n),n}function Ed(e,t){for(let n=0;n<e.length;n++){const{providers:r}=e[n];pa(r,i=>{t.push(i)})}}function fa(e,t,n,o){if(!(e=j(e)))return!1;let r=null,i=Cu(e);const s=!i&&re(e);if(i||s){if(s&&!s.standalone)return!1;r=e}else{const u=e.ngModule;if(i=Cu(u),!i)return!1;r=u}const a=o.has(r);if(s){if(a)return!1;if(o.add(r),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const f of u)fa(f,t,n,o)}}else{if(!i)return!1;{if(null!=i.imports&&!a){let f;o.add(r);try{kn(i.imports,p=>{fa(p,t,n,o)&&(f||(f=[]),f.push(p))})}finally{}void 0!==f&&Ed(f,t)}if(!a){const f=Tn(r)||(()=>new r);t.push({provide:r,useFactory:f,deps:te},{provide:wd,useValue:r,multi:!0},{provide:vd,useValue:()=>ie(r),multi:!0})}const u=i.providers;null==u||a||pa(u,p=>{t.push(p)})}}return r!==e&&void 0!==e.providers}function pa(e,t){for(let n of e)as(n)&&(n=n.\u0275providers),Array.isArray(n)?pa(n,t):t(n)}const rD=le({provide:String,useValue:le});function ha(e){return null!==e&&"object"==typeof e&&rD in e}function Fn(e){return"function"==typeof e}const ga=new Z("Set Injector scope."),ci={},sD={};let ma;function di(){return void 0===ma&&(ma=new bd),ma}class ao{}class Sd extends ao{constructor(t,n,o,r){super(),this.parent=n,this.source=o,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,va(t,s=>this.processProvider(s)),this.records.set(Dd,lo(void 0,this)),r.has("environment")&&this.records.set(ao,lo(void 0,this));const i=this.records.get(ga);null!=i&&"string"==typeof i.value&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(wd.multi,te,H.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Gn(this),o=mt(void 0);try{return t()}finally{Gn(n),mt(o)}}get(t,n=Fo,o=H.Default){this.assertNotDestroyed(),o=Fr(o);const r=Gn(this),i=mt(void 0);try{if(!(o&H.SkipSelf)){let a=this.records.get(t);if(void 0===a){const u=function dD(e){return"function"==typeof e||"object"==typeof e&&e instanceof Z}(t)&&kr(t);a=u&&this.injectableDefInScope(u)?lo(ya(t),ci):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(o&H.Self?di():this.parent).get(t,n=o&H.Optional&&n===Fo?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Pr]=s[Pr]||[]).unshift(ue(t)),r)throw s;return function Lm(e,t,n,o){const r=e[Pr];throw t[Tu]&&r.unshift(t[Tu]),e.message=function Bm(e,t,n,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let r=ue(t);if(Array.isArray(t))r=t.map(ue).join(" -> ");else if("object"==typeof t){let i=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];i.push(s+":"+("string"==typeof a?JSON.stringify(a):ue(a)))}r=`{${i.join(", ")}}`}return`${n}${o?"("+o+")":""}[${r}]: ${e.replace(Pm,"\n  ")}`}("\n"+e.message,r,n,o),e.ngTokenPath=r,e[Pr]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{mt(i),Gn(r)}}resolveInjectorInitializers(){const t=Gn(this),n=mt(void 0);try{const o=this.get(vd.multi,te,H.Self);for(const r of o)r()}finally{Gn(t),mt(n)}}toString(){const t=[],n=this.records;for(const o of n.keys())t.push(ue(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new N(205,!1)}processProvider(t){let n=Fn(t=j(t))?t:j(t&&t.provide);const o=function lD(e){return ha(e)?lo(void 0,e.useValue):lo(function Td(e,t,n){let o;if(Fn(e)){const r=j(e);return Tn(r)||ya(r)}if(ha(e))o=()=>j(e.useValue);else if(function Id(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...fs(e.deps||[]));else if(function Cd(e){return!(!e||!e.useExisting)}(e))o=()=>ie(j(e.useExisting));else{const r=j(e&&(e.useClass||e.provide));if(!function uD(e){return!!e.deps}(e))return Tn(r)||ya(r);o=()=>new r(...fs(e.deps))}return o}(e),ci)}(t);if(Fn(t)||!0!==t.multi)this.records.get(n);else{let r=this.records.get(n);r||(r=lo(void 0,ci,!0),r.factory=()=>fs(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,o)}hydrate(t,n){return n.value===ci&&(n.value=sD,n.value=n.factory()),"object"==typeof n.value&&n.value&&function cD(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=j(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function ya(e){const t=kr(e),n=null!==t?t.factory:Tn(e);if(null!==n)return n;if(e instanceof Z)throw new N(204,!1);if(e instanceof Function)return function aD(e){const t=e.length;if(t>0)throw function Wo(e,t){const n=[];for(let o=0;o<e;o++)n.push(t);return n}(t,"?"),new N(204,!1);const n=function Tm(e){const t=e&&(e[xr]||e[Iu]);if(t){const n=function Mm(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new N(204,!1)}function lo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function va(e,t){for(const n of e)Array.isArray(n)?va(n,t):n&&as(n)?va(n.\u0275providers,t):t(n)}class fD{}class Md{}class hD{resolveComponentFactory(t){throw function pD(e){const t=Error(`No component factory found for ${ue(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let fi=(()=>{class e{}return e.NULL=new hD,e})();function gD(){return uo(Ve(),_())}function uo(e,t){return new co(ct(e,t))}let co=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=gD,e})();class kd{}let vD=(()=>{class e{}return e.\u0275prov=ge({token:e,providedIn:"root",factory:()=>null}),e})();class Da{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const DD=new Da("15.0.4"),wa={};function _a(e){return e.ngOriginalError}class fo{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&_a(t);for(;n&&_a(n);)n=_a(n);return n||null}}function Fd(e,t,n){let o=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const i=t.length;if(r+i===o||e.charCodeAt(r+i)<=32)return r}n=r+1}}const Nd="ng-template";function kD(e,t,n){let o=0;for(;o<e.length;){let r=e[o++];if(n&&"class"===r){if(r=e[o],-1!==Fd(r.toLowerCase(),t,0))return!0}else if(1===r){for(;o<e.length&&"string"==typeof(r=e[o++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Od(e){return 4===e.type&&e.value!==Nd}function xD(e,t,n){return t===(4!==e.type||n?e.value:Nd)}function PD(e,t,n){let o=4;const r=e.attrs||[],i=function OD(e){for(let t=0;t<e.length;t++)if(ac(e[t]))return t;return e.length}(r);let s=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!s)if(4&o){if(o=2|1&o,""!==u&&!xD(e,u,n)||""===u&&1===t.length){if(At(o))return!1;s=!0}}else{const f=8&o?u:t[++a];if(8&o&&null!==e.attrs){if(!kD(e.attrs,f,n)){if(At(o))return!1;s=!0}continue}const h=FD(8&o?"class":u,r,Od(e),n);if(-1===h){if(At(o))return!1;s=!0;continue}if(""!==f){let g;g=h>i?"":r[h+1].toLowerCase();const m=8&o?g:null;if(m&&-1!==Fd(m,f,0)||2&o&&f!==g){if(At(o))return!1;s=!0}}}}else{if(!s&&!At(o)&&!At(u))return!1;if(s&&At(u))continue;s=!1,o=u|1&o}}return At(o)||s}function At(e){return 0==(1&e)}function FD(e,t,n,o){if(null===t)return-1;let r=0;if(o||!n){let i=!1;for(;r<t.length;){const s=t[r];if(s===e)return r;if(3===s||6===s)i=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=i?1:2}return-1}return function RD(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const o=e[n];if("number"==typeof o)return-1;if(o===t)return n;n++}return-1}(t,e)}function Rd(e,t,n=!1){for(let o=0;o<t.length;o++)if(PD(e,t[o],n))return!0;return!1}function Ld(e,t){return e?":not("+t.trim()+")":t}function BD(e){let t=e[0],n=1,o=2,r="",i=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&o){const a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&o?r+="."+s:4&o&&(r+=" "+s);else""!==r&&!At(s)&&(t+=Ld(i,r),r=""),o=s,i=i||!At(o);n++}return""!==r&&(t+=Ld(i,r)),t}const q={};function M(e){Bd(ee(),_(),Qe()+e,!1)}function Bd(e,t,n,o){if(!o)if(3==(3&t[2])){const i=e.preOrderCheckHooks;null!==i&&Gr(t,i,n)}else{const i=e.preOrderHooks;null!==i&&qr(t,i,0,n)}Mn(n)}function Hd(e,t=null,n=null,o){const r=function Ud(e,t=null,n=null,o,r=new Set){const i=[n||te,oD(e)];return o=o||("object"==typeof e?void 0:ue(e)),new Sd(i,t||di(),o||null,r)}(e,t,n,o);return r.resolveInjectorInitializers(),r}let Nn=(()=>{class e{static create(n,o){if(Array.isArray(n))return Hd({name:""},o,n,"");{const r=n.name??"";return Hd({name:r},n.parent,n.providers,r)}}}return e.THROW_IF_NOT_FOUND=Fo,e.NULL=new bd,e.\u0275prov=ge({token:e,providedIn:"any",factory:()=>ie(Dd)}),e.__NG_ELEMENT_ID__=-1,e})();function Q(e,t=H.Default){const n=_();return null===n?ie(e,t):mc(Ve(),n,j(e),t)}function Zd(e,t){const n=e.contentQueries;if(null!==n)for(let o=0;o<n.length;o+=2){const r=n[o],i=n[o+1];if(-1!==i){const s=e.data[i];Cs(r),s.contentQueries(2,t[i],i)}}}function hi(e,t,n,o,r,i,s,a,u,f,p){const h=t.blueprint.slice();return h[0]=r,h[2]=76|o,(null!==p||e&&1024&e[2])&&(h[2]|=1024),Gu(h),h[3]=h[15]=e,h[8]=n,h[10]=s||e&&e[10],h[K]=a||e&&e[K],h[12]=u||e&&e[12]||null,h[9]=f||e&&e[9]||null,h[6]=i,h[20]=function ov(){return nv++}(),h[21]=p,h[16]=2==t.type?e[16]:h,h}function go(e,t,n,o,r){let i=e.data[t];if(null===i)i=function Ta(e,t,n,o,r){const i=Zu(),s=ws(),u=e.data[t]=function dw(e,t,n,o,r,i){return{type:n,index:o,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?i:i&&i.parent,n,t,o,r);return null===e.firstChild&&(e.firstChild=u),null!==i&&(s?null==i.child&&null!==u.parent&&(i.child=u):null===i.next&&(i.next=u)),u}(e,t,n,o,r),function sy(){return G.lFrame.inI18n}()&&(i.flags|=32);else if(64&i.type){i.type=n,i.value=o,i.attrs=r;const s=function Ho(){const e=G.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();i.injectorIndex=null===s?-1:s.injectorIndex}return Bt(i,!0),i}function nr(e,t,n,o){if(0===n)return-1;const r=t.length;for(let i=0;i<n;i++)t.push(o),e.blueprint.push(o),e.data.push(null);return r}function Ma(e,t,n){Is(t);try{const o=e.viewQuery;null!==o&&Ba(1,o,n);const r=e.template;null!==r&&Qd(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Zd(e,t),e.staticViewQueries&&Ba(2,e.viewQuery,n);const i=e.components;null!==i&&function lw(e,t){for(let n=0;n<t.length;n++)kw(e,t[n])}(t,i)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{t[2]&=-5,Ss()}}function gi(e,t,n,o){const r=t[2];if(128!=(128&r)){Is(t);try{Gu(t),Ju(e.bindingStartIndex),null!==n&&Qd(e,t,n,2,o);const s=3==(3&r);if(s){const f=e.preOrderCheckHooks;null!==f&&Gr(t,f,null)}else{const f=e.preOrderHooks;null!==f&&qr(t,f,0,null),Ts(t,0)}if(function Mw(e){for(let t=Ks(e);null!==t;t=Zs(t)){if(!t[2])continue;const n=t[9];for(let o=0;o<n.length;o++){const r=n[o],i=r[3];0==(512&r[2])&&Ds(i,1),r[2]|=512}}}(t),function Tw(e){for(let t=Ks(e);null!==t;t=Zs(t))for(let n=10;n<t.length;n++){const o=t[n],r=o[1];Ur(o)&&gi(r,o,r.template,o[8])}}(t),null!==e.contentQueries&&Zd(e,t),s){const f=e.contentCheckHooks;null!==f&&Gr(t,f)}else{const f=e.contentHooks;null!==f&&qr(t,f,1),Ts(t,1)}!function sw(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let o=0;o<n.length;o++){const r=n[o];if(r<0)Mn(~r);else{const i=r,s=n[++o],a=n[++o];ay(s,i),a(2,t[i])}}}finally{Mn(-1)}}(e,t);const a=e.components;null!==a&&function aw(e,t){for(let n=0;n<t.length;n++)Aw(e,t[n])}(t,a);const u=e.viewQuery;if(null!==u&&Ba(2,u,o),s){const f=e.viewCheckHooks;null!==f&&Gr(t,f)}else{const f=e.viewHooks;null!==f&&qr(t,f,2),Ts(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Ds(t[3],-1))}finally{Ss()}}}function Qd(e,t,n,o,r){const i=Qe(),s=2&o;try{Mn(-1),s&&t.length>22&&Bd(e,t,22,!1),n(o,r)}finally{Mn(i)}}function Aa(e,t,n){if(ys(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const s=e.data[i];s.contentQueries&&s.contentQueries(1,n[i],i)}}}function ka(e,t,n){!Wu()||(function yw(e,t,n,o){const r=n.directiveStart,i=n.directiveEnd;$o(n)&&function Cw(e,t,n){const o=ct(t,e),r=Jd(n),i=e[10],s=mi(e,hi(e,r,null,n.onPush?32:16,o,t,i,i.createRenderer(o,n),null,null,null));e[t.index]=s}(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Zr(n,t),Ge(o,t);const s=n.initialInputs;for(let a=r;a<i;a++){const u=e.data[a],f=An(t,e,a,n);Ge(f,t),null!==s&&Iw(0,a-r,f,u,0,s),Mt(u)&&(dt(n.index,t)[8]=An(t,e,a,n))}}(e,t,n,ct(n,t)),64==(64&n.flags)&&rf(e,t,n))}function xa(e,t,n=ct){const o=t.localNames;if(null!==o){let r=t.index+1;for(let i=0;i<o.length;i+=2){const s=o[i+1],a=-1===s?n(t,e):e[s];e[r++]=a}}}function Jd(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Pa(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Pa(e,t,n,o,r,i,s,a,u,f){const p=22+o,h=p+r,g=function uw(e,t){const n=[];for(let o=0;o<t;o++)n.push(o<e?null:q);return n}(p,h),m="function"==typeof f?f():f;return g[1]={type:e,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:t,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof i?i():i,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:m,incompleteFirstPass:!1}}function ef(e,t,n,o){for(let r in e)if(e.hasOwnProperty(r)){n=null===n?{}:n;const i=e[r];null===o?tf(n,t,r,i):o.hasOwnProperty(r)&&tf(n,t,o[r],i)}return n}function tf(e,t,n,o){e.hasOwnProperty(n)?e[n].push(t,o):e[n]=[t,o]}function nf(e,t){const n=dt(t,e);16&n[2]||(n[2]|=32)}function Fa(e,t,n,o){let r=!1;if(Wu()){const i=null===o?null:{"":-1},s=function Dw(e,t){const n=e.directiveRegistry;let o=null,r=null;if(n)for(let i=0;i<n.length;i++){const s=n[i];if(Rd(t,s.selectors,!1))if(o||(o=[]),Mt(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),o.unshift(...a,s),Na(e,t,a.length)}else o.unshift(s),Na(e,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,o,r),o.push(s)}return null===o?null:[o,r]}(e,n);let a,u;null===s?a=u=null:[a,u]=s,null!==a&&(r=!0,of(e,t,n,a,i,u)),i&&function ww(e,t,n){if(t){const o=e.localNames=[];for(let r=0;r<t.length;r+=2){const i=n[t[r+1]];if(null==i)throw new N(-301,!1);o.push(t[r],i)}}}(n,o,i)}return n.mergedAttrs=zo(n.mergedAttrs,n.attrs),r}function of(e,t,n,o,r,i){for(let f=0;f<o.length;f++)Fs(Zr(n,t),e,o[f].type);!function _w(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,o.length);for(let f=0;f<o.length;f++){const p=o[f];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,u=nr(e,t,o.length,null);for(let f=0;f<o.length;f++){const p=o[f];n.mergedAttrs=zo(n.mergedAttrs,p.hostAttrs),Ew(e,n,t,u,p),bw(u,p,r),null!==p.contentQueries&&(n.flags|=4),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(n.flags|=64);const h=p.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function fw(e,t,n){const r=t.directiveEnd,i=e.data,s=t.attrs,a=[];let u=null,f=null;for(let p=t.directiveStart;p<r;p++){const h=i[p],g=n?n.get(h):null,y=g?g.outputs:null;u=ef(h.inputs,p,u,g?g.inputs:null),f=ef(h.outputs,p,f,y);const D=null===u||null===s||Od(t)?null:Sw(u,p,s);a.push(D)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=u,t.outputs=f}(e,n,i)}function rf(e,t,n){const o=n.directiveStart,r=n.directiveEnd,i=n.index,s=function ly(){return G.lFrame.currentDirectiveIndex}();try{Mn(i);for(let a=o;a<r;a++){const u=e.data[a],f=t[a];_s(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&vw(u,f)}}finally{Mn(-1),_s(s)}}function vw(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Na(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function bw(e,t,n){if(n){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)n[t.exportAs[o]]=e;Mt(t)&&(n[""]=e)}}function Ew(e,t,n,o,r){e.data[o]=r;const i=r.factory||(r.factory=Tn(r.type)),s=new Uo(i,Mt(r),Q);e.blueprint[o]=s,n[o]=s,function gw(e,t,n,o,r){const i=r.hostBindings;if(i){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function mw(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,o,i)}}(e,t,o,nr(e,n,r.hostVars,q),r)}function Iw(e,t,n,o,r,i){const s=i[t];if(null!==s){const a=o.setInput;for(let u=0;u<s.length;){const f=s[u++],p=s[u++],h=s[u++];null!==a?o.setInput(n,h,f,p):n[p]=h}}}function Sw(e,t,n){let o=null,r=0;for(;r<n.length;){const i=n[r];if(0!==i)if(5!==i){if("number"==typeof i)break;if(e.hasOwnProperty(i)){null===o&&(o=[]);const s=e[i];for(let a=0;a<s.length;a+=2)if(s[a]===t){o.push(i,s[a+1],n[r+1]);break}}r+=2}else r+=2;else r+=4}return o}function sf(e,t,n,o){return[e,!0,!1,t,null,0,o,n,null,null]}function Aw(e,t){const n=dt(t,e);if(Ur(n)){const o=n[1];48&n[2]?gi(o,n,o.template,n[8]):n[5]>0&&Ra(n)}}function Ra(e){for(let o=Ks(e);null!==o;o=Zs(o))for(let r=10;r<o.length;r++){const i=o[r];if(Ur(i))if(512&i[2]){const s=i[1];gi(s,i,s.template,i[8])}else i[5]>0&&Ra(i)}const n=e[1].components;if(null!==n)for(let o=0;o<n.length;o++){const r=dt(n[o],e);Ur(r)&&r[5]>0&&Ra(r)}}function kw(e,t){const n=dt(t,e),o=n[1];(function xw(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(o,n),Ma(o,n,n[8])}function mi(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function La(e){for(;e;){e[2]|=32;const t=Qo(e);if(Hm(e)&&!t)return e;e=t}return null}function yi(e,t,n,o=!0){const r=t[10];r.begin&&r.begin();try{gi(e,t,e.template,n)}catch(s){throw o&&cf(t,s),s}finally{r.end&&r.end()}}function Ba(e,t,n){Cs(0),t(e,n)}function af(e){return e[7]||(e[7]=[])}function lf(e){return e.cleanup||(e.cleanup=[])}function cf(e,t){const n=e[9],o=n?n.get(fo,null):null;o&&o.handleError(t)}function ja(e,t,n,o,r){for(let i=0;i<n.length;){const s=n[i++],a=n[i++],u=t[s],f=e.data[s];null!==f.setInput?f.setInput(u,r,o,a):u[a]=r}}function tn(e,t,n){const o=function Hr(e,t){return je(t[e])}(t,e);!function zc(e,t,n){e.setValue(t,n)}(e[K],o,n)}function vi(e,t,n){let o=n?e.styles:null,r=n?e.classes:null,i=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?i=a:1==i?r=rs(r,a):2==i&&(o=rs(o,a+": "+t[++s]+";"))}n?e.styles=o:e.stylesWithoutHost=o,n?e.classes=r:e.classesWithoutHost=r}function Di(e,t,n,o,r=!1){for(;null!==n;){const i=t[n.index];if(null!==i&&o.push(je(i)),Tt(i))for(let a=10;a<i.length;a++){const u=i[a],f=u[1].firstChild;null!==f&&Di(u[1],u,f,o)}const s=n.type;if(8&s)Di(e,t,n.child,o);else if(32&s){const a=Ys(n,t);let u;for(;u=a();)o.push(u)}else if(16&s){const a=td(t,n);if(Array.isArray(a))o.push(...a);else{const u=Qo(t[16]);Di(u[1],u,a,o,!0)}}n=r?n.projectionNext:n.next}return o}class or{constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,n=t[1];return Di(n,t,n.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Tt(t)){const n=t[8],o=n?n.indexOf(this):-1;o>-1&&(Xs(t,o),Jr(n,o))}this._attachedToViewContainer=!1}qc(this._lView[1],this._lView)}onDestroy(t){!function Xd(e,t,n,o){const r=af(t);null===n?r.push(o):(r.push(n),e.firstCreatePass&&lf(e).push(o,r.length-1))}(this._lView[1],this._lView,null,t)}markForCheck(){La(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){yi(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new N(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vv(e,t){Jo(e,t,t[K],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new N(902,!1);this._appRef=t}}class Pw extends or{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;yi(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class df extends fi{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=re(t);return new rr(n,this.ngModule)}}function ff(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class Nw{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,o){o=Fr(o);const r=this.injector.get(t,wa,o);return r!==wa||n===wa?r:this.parentInjector.get(t,n,o)}}class rr extends Md{constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function jD(e){return e.map(BD).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return ff(this.componentDef.inputs)}get outputs(){return ff(this.componentDef.outputs)}create(t,n,o,r){let i=(r=r||this.ngModule)instanceof ao?r:r?.injector;i&&null!==this.componentDef.getStandaloneInjector&&(i=this.componentDef.getStandaloneInjector(i)||i);const s=i?new Nw(t,i):t,a=s.get(kd,null);if(null===a)throw new N(407,!1);const u=s.get(vD,null),f=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",h=o?function cw(e,t,n){return e.selectRootElement(t,n===Rt.ShadowDom)}(f,o,this.componentDef.encapsulation):Js(f,p,function Fw(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(p)),g=this.componentDef.onPush?288:272,m=Pa(0,null,null,1,0,null,null,null,null,null),y=hi(null,m,null,g,null,null,a,f,u,s,null);let D,E;Is(y);try{const C=this.componentDef;let P,b=null;C.findHostDirectiveDefs?(P=[],b=new Map,C.findHostDirectiveDefs(C,P,b),P.push(C)):P=[C];const $=function Rw(e,t){const n=e[1];return e[22]=t,go(n,22,2,"#host",null)}(y,h),ce=function Lw(e,t,n,o,r,i,s,a){const u=r[1];!function Bw(e,t,n,o){for(const r of e)t.mergedAttrs=zo(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(vi(t,t.mergedAttrs,!0),null!==n&&rd(o,n,t))}(o,e,t,s);const f=i.createRenderer(t,n),p=hi(r,Jd(n),null,n.onPush?32:16,r[e.index],e,i,f,a||null,null,null);return u.firstCreatePass&&Na(u,e,o.length-1),mi(r,p),r[e.index]=p}($,h,C,P,y,a,f);E=zu(m,22),h&&function Vw(e,t,n,o){if(o)As(e,n,["ng-version",DD.full]);else{const{attrs:r,classes:i}=function VD(e){const t=[],n=[];let o=1,r=2;for(;o<e.length;){let i=e[o];if("string"==typeof i)2===r?""!==i&&t.push(i,e[++o]):8===r&&n.push(i);else{if(!At(r))break;r=i}o++}return{attrs:t,classes:n}}(t.selectors[0]);r&&As(e,n,r),i&&i.length>0&&od(e,n,i.join(" "))}}(f,C,h,o),void 0!==n&&function $w(e,t,n){const o=e.projection=[];for(let r=0;r<t.length;r++){const i=n[r];o.push(null!=i?Array.from(i):null)}}(E,this.ngContentSelectors,n),D=function jw(e,t,n,o,r,i){const s=Ve(),a=r[1],u=ct(s,r);of(a,r,s,n,null,o);for(let p=0;p<n.length;p++)Ge(An(r,a,s.directiveStart+p,s),r);rf(a,r,s),u&&Ge(u,r);const f=An(r,a,s.directiveStart+s.componentOffset,s);if(e[8]=r[8]=f,null!==i)for(const p of i)p(f,t);return Aa(a,s,e),f}(ce,C,P,b,y,[Hw]),Ma(m,y,null)}finally{Ss()}return new Ow(this.componentType,D,uo(E,y),y,E)}}class Ow extends fD{constructor(t,n,o,r,i){super(),this.location=o,this._rootLView=r,this._tNode=i,this.instance=n,this.hostView=this.changeDetectorRef=new Pw(r),this.componentType=t}setInput(t,n){const o=this._tNode.inputs;let r;if(null!==o&&(r=o[t])){const i=this._rootLView;ja(i[1],i,r,t,n),nf(i,this._tNode.index)}}get injector(){return new Xn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function Hw(){const e=Ve();zr(_()[1],e)}function qe(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Rn(e,t,n,o){const r=qe(e,t,n);return qe(e,t+1,o)||r}function wt(e,t,n,o,r,i){const s=Rn(e,t,n,o);return Rn(e,t+2,r,i)||s}function Do(e,t,n,o,r,i,s,a){const f=function bi(e,t,n,o,r){const i=Rn(e,t,n,o);return qe(e,t+2,r)||i}(e,Qt(),n,r,s);return Jt(3),f?t+z(n)+o+z(r)+i+z(s)+a:q}function Ha(e,t,n){const o=_();return qe(o,Qn(),t)&&function pt(e,t,n,o,r,i,s,a){const u=ct(t,n);let p,f=t.inputs;!a&&null!=f&&(p=f[o])?(ja(e,n,p,o,r),$o(t)&&nf(n,t.index)):3&t.type&&(o=function pw(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),r=null!=s?s(r,t.value||"",o):r,i.setProperty(u,o,r))}(ee(),function me(){const e=G.lFrame;return zu(e.tView,e.selectedIndex)}(),o,e,t,o[K],n,!1),Ha}function Ua(e,t,n,o,r){const s=r?"class":"style";ja(e,n,t.inputs[s],s,o)}function d(e,t,n,o){const r=_(),i=ee(),s=22+e,a=r[K],u=r[s]=Js(a,t,function my(){return G.lFrame.currentNamespace}()),f=i.firstCreatePass?function ib(e,t,n,o,r,i,s){const a=t.consts,f=go(t,e,2,r,yn(a,i));return Fa(t,n,f,yn(a,s)),null!==f.attrs&&vi(f,f.attrs,!1),null!==f.mergedAttrs&&vi(f,f.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,f),f}(s,i,r,0,t,n,o):i.data[s];return Bt(f,!0),rd(a,u,f),32!=(32&f.flags)&&ii(i,r,u,f),0===function ey(){return G.lFrame.elementDepthCount}()&&Ge(u,r),function ty(){G.lFrame.elementDepthCount++}(),Vr(f)&&(ka(i,r,f),Aa(i,f,r)),null!==o&&xa(r,f),d}function c(){let e=Ve();ws()?function bs(){G.lFrame.isParent=!1}():(e=e.parent,Bt(e,!1));const t=e;!function ny(){G.lFrame.elementDepthCount--}();const n=ee();return n.firstCreatePass&&(zr(n,e),ys(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function wy(e){return 0!=(8&e.flags)}(t)&&Ua(n,t,_(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function by(e){return 0!=(16&e.flags)}(t)&&Ua(n,t,_(),t.stylesWithoutHost,!1),c}function Me(e,t,n,o){return d(e,t,n,o),c(),Me}function qa(e){return!!e&&"function"==typeof e.then}function xf(e){return!!e&&"function"==typeof e.subscribe}const ab=xf;function Wa(e,t,n,o){const r=_(),i=ee(),s=Ve();return function Ff(e,t,n,o,r,i,s){const a=Vr(o),f=e.firstCreatePass&&lf(e),p=t[8],h=af(t);let g=!0;if(3&o.type||s){const D=ct(o,t),E=s?s(D):D,C=h.length,P=s?$=>s(je($[o.index])):o.index;let b=null;if(!s&&a&&(b=function lb(e,t,n,o){const r=e.cleanup;if(null!=r)for(let i=0;i<r.length-1;i+=2){const s=r[i];if(s===n&&r[i+1]===o){const a=t[7],u=r[i+2];return a.length>u?a[u]:null}"string"==typeof s&&(i+=2)}return null}(e,t,r,o.index)),null!==b)(b.__ngLastListenerFn__||b).__ngNextListenerFn__=i,b.__ngLastListenerFn__=i,g=!1;else{i=Of(o,t,p,i,!1);const $=n.listen(E,r,i);h.push(i,$),f&&f.push(r,P,C,C+1)}}else i=Of(o,t,p,i,!1);const m=o.outputs;let y;if(g&&null!==m&&(y=m[r])){const D=y.length;if(D)for(let E=0;E<D;E+=2){const ce=t[y[E]][y[E+1]].subscribe(i),Ee=h.length;h.push(i,ce),f&&f.push(r,o.index,Ee,-(Ee+1))}}}(i,r,r[K],s,e,t,o),Wa}function Nf(e,t,n,o){try{return!1!==n(o)}catch(r){return cf(e,r),!1}}function Of(e,t,n,o,r){return function i(s){if(s===Function)return o;La(e.componentOffset>-1?dt(e.index,t):t);let u=Nf(t,0,o,s),f=i.__ngNextListenerFn__;for(;f;)u=Nf(t,0,f,s)&&u,f=f.__ngNextListenerFn__;return r&&!1===u&&(s.preventDefault(),s.returnValue=!1),u}}function Rf(e=1){return function cy(e){return(G.lFrame.contextLView=function dy(e,t){for(;e>0;)t=t[15],e--;return t}(e,G.lFrame.contextLView))[8]}(e)}function l(e,t=""){const n=_(),o=ee(),r=e+22,i=o.firstCreatePass?go(o,r,1,t,null):o.data[r],s=n[r]=function Qs(e,t){return e.createText(t)}(n[K],t);ii(o,n,s,i),Bt(i,!1)}function U(e,t,n){const o=_(),r=function yo(e,t,n,o){return qe(e,Qn(),n)?t+z(n)+o:q}(o,e,t,n);return r!==q&&tn(o,Qe(),r),U}function Ae(e,t,n,o,r){const i=_(),s=function vo(e,t,n,o,r,i){const a=Rn(e,Qt(),n,r);return Jt(2),a?t+z(n)+o+z(r)+i:q}(i,e,t,n,o,r);return s!==q&&tn(i,Qe(),s),Ae}function lr(e,t,n,o,r,i,s){const a=_(),u=Do(a,e,t,n,o,r,i,s);return u!==q&&tn(a,Qe(),u),lr}function zt(e,t,n,o,r,i,s,a,u){const f=_(),p=function wo(e,t,n,o,r,i,s,a,u,f){const h=wt(e,Qt(),n,r,s,u);return Jt(4),h?t+z(n)+o+z(r)+i+z(s)+a+z(u)+f:q}(f,e,t,n,o,r,i,s,a,u);return p!==q&&tn(f,Qe(),p),zt}function Xa(e,t,n,o,r,i,s,a,u,f,p,h,g){const m=_(),y=function _o(e,t,n,o,r,i,s,a,u,f,p,h,g,m){const y=Qt();let D=wt(e,y,n,r,s,u);return D=Rn(e,y+4,p,g)||D,Jt(6),D?t+z(n)+o+z(r)+i+z(s)+a+z(u)+f+z(p)+h+z(g)+m:q}(m,e,t,n,o,r,i,s,a,u,f,p,h,g);return y!==q&&tn(m,Qe(),y),Xa}function Ci(e){const t=_(),n=function mo(e,t){let n=!1,o=Qt();for(let i=1;i<t.length;i+=2)n=qe(e,o++,t[i])||n;if(Ju(o),!n)return q;let r=t[0];for(let i=1;i<t.length;i+=2)r+=z(t[i])+t[i+1];return r}(t,e);return n!==q&&tn(t,Qe(),n),Ci}const To="en-US";let Cp=To;class Mo{}class e1 extends Mo{constructor(t,n,o){super(),this.componentFactoryResolver=new df(this),this.instance=null;const r=new Sd([...t,{provide:Mo,useValue:this},{provide:fi,useValue:this.componentFactoryResolver}],n||di(),o,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Qp(e,t,n=null){return new e1(e,t,n).injector}let t1=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const o=_d(0,n.type),r=o.length>0?Qp([o],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,r)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=ge({token:e,providedIn:"environment",factory:()=>new e(ie(ao))}),e})();function al(e){e.getStandaloneInjector=t=>t.get(t1).getOrCreateStandaloneInjector(e)}function rh(e,t,n,o,r,i){const s=t+n;return qe(e,s,r)?function $t(e,t,n){return e[t]=n}(e,s+1,i?o.call(i,r):o(r)):function hr(e,t){const n=e[t];return n===q?void 0:n}(e,s+1)}function ch(e,t,n){const o=e+22,r=_(),i=function Zn(e,t){return e[t]}(r,o);return function gr(e,t){return e[1].data[t].pure}(r,o)?rh(r,function Ze(){const e=G.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,i.transform,n,i):i.transform(n)}function ul(e){return t=>{setTimeout(e,void 0,t)}}const nn=class I1 extends ht{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,o){let r=t,i=n||(()=>null),s=o;if(t&&"object"==typeof t){const u=t;r=u.next?.bind(u),i=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(i=ul(i),r&&(r=ul(r)),s&&(s=ul(s)));const a=super.subscribe({next:r,error:i,complete:s});return t instanceof k&&t.add(a),a}};let on=(()=>{class e{}return e.__NG_ELEMENT_ID__=A1,e})();const T1=on,M1=class extends T1{constructor(t,n,o){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=o}createEmbeddedView(t,n){const o=this._declarationTContainer.tViews,r=hi(this._declarationLView,o,t,16,null,o.declTNode,null,null,null,null,n||null);r[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(r[19]=s.createEmbeddedView(o)),Ma(o,r,t),new or(r)}};function A1(){return function Ai(e,t){return 4&e.type?new M1(t,e,uo(e,t)):null}(Ve(),_())}let Gt=(()=>{class e{}return e.__NG_ELEMENT_ID__=k1,e})();function k1(){return function ph(e,t){let n;const o=t[e.index];if(Tt(o))n=o;else{let r;if(8&e.type)r=je(o);else{const i=t[K];r=i.createComment("");const s=ct(e,t);xn(i,ri(i,s),r,function Iv(e,t){return e.nextSibling(t)}(i,s),!1)}t[e.index]=n=sf(o,t,r,e),mi(t,n)}return new dh(n,e,t)}(Ve(),_())}const x1=Gt,dh=class extends x1{constructor(t,n,o){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=o}get element(){return uo(this._hostTNode,this._hostLView)}get injector(){return new Xn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ps(this._hostTNode,this._hostLView);if(cc(t)){const n=Yr(t,this._hostLView),o=Wr(t);return new Xn(n[1].data[o+8],n)}return new Xn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=fh(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,o){let r,i;"number"==typeof o?r=o:null!=o&&(r=o.index,i=o.injector);const s=t.createEmbeddedView(n||{},i);return this.insert(s,r),s}createComponent(t,n,o,r,i){const s=t&&!function qo(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const h=n||{};a=h.index,o=h.injector,r=h.projectableNodes,i=h.environmentInjector||h.ngModuleRef}const u=s?t:new rr(re(t)),f=o||this.parentInjector;if(!i&&null==u.ngModule){const g=(s?f:this.parentInjector).get(ao,null);g&&(i=g)}const p=u.create(f,r,void 0,i);return this.insert(p.hostView,a),p}insert(t,n){const o=t._lView,r=o[1];if(function Xm(e){return Tt(e[3])}(o)){const p=this.indexOf(t);if(-1!==p)this.detach(p);else{const h=o[3],g=new dh(h,h[6],h[3]);g.detach(g.indexOf(t))}}const i=this._adjustIndex(n),s=this._lContainer;!function wv(e,t,n,o){const r=10+o,i=n.length;o>0&&(n[r-1][4]=t),o<i-10?(t[4]=n[r],_c(n,10+o,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function bv(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=64}(r,o,s,i);const a=na(i,s),u=o[K],f=ri(u,s[7]);return null!==f&&function yv(e,t,n,o,r,i){o[0]=r,o[6]=t,Jo(e,o,n,1,r,i)}(r,s[6],u,o,f,a),t.attachToViewContainerRef(),_c(dl(s),i,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=fh(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),o=Xs(this._lContainer,n);o&&(Jr(dl(this._lContainer),n),qc(o[1],o))}detach(t){const n=this._adjustIndex(t,-1),o=Xs(this._lContainer,n);return o&&null!=Jr(dl(this._lContainer),n)?new or(o):null}_adjustIndex(t,n=0){return t??this.length+n}};function fh(e){return e[8]}function dl(e){return e[8]||(e[8]=[])}function xi(...e){}const Lh=new Z("Application Initializer");let Pi=(()=>{class e{constructor(n){this.appInits=n,this.resolve=xi,this.reject=xi,this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,r)=>{this.resolve=o,this.reject=r})}runInitializers(){if(this.initialized)return;const n=[],o=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const i=this.appInits[r]();if(qa(i))n.push(i);else if(ab(i)){const s=new Promise((a,u)=>{i.subscribe({complete:a,error:u})});n.push(s)}}Promise.all(n).then(()=>{o()}).catch(r=>{this.reject(r)}),0===n.length&&o(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(ie(Lh,8))},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const bl=new Z("AppId",{providedIn:"root",factory:function Bh(){return`${_l()}${_l()}${_l()}`}});function _l(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jh=new Z("Platform Initializer"),Vh=new Z("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),u0=new Z("appBootstrapListener"),rn=new Z("LocaleId",{providedIn:"root",factory:()=>function Om(e,t=H.Default){return ie(e,Fr(t))}(rn,H.Optional|H.SkipSelf)||function c0(){return typeof $localize<"u"&&$localize.locale||To}()}),g0=(()=>Promise.resolve(0))();class We{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:o=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nn(!1),this.onMicrotaskEmpty=new nn(!1),this.onStable=new nn(!1),this.onError=new nn(!1),typeof Zone>"u")throw new N(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!o&&n,r.shouldCoalesceRunChangeDetection=o,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function m0(){let e=fe.requestAnimationFrame,t=fe.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const o=t[Zone.__symbol__("OriginalDelegate")];o&&(t=o)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function D0(e){const t=()=>{!function v0(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(fe,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Il(e),e.isCheckStableRunning=!0,Cl(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Il(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,o,r,i,s,a)=>{try{return Uh(e),n.invokeTask(r,i,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===i.type||e.shouldCoalesceRunChangeDetection)&&t(),zh(e)}},onInvoke:(n,o,r,i,s,a,u)=>{try{return Uh(e),n.invoke(r,i,s,a,u)}finally{e.shouldCoalesceRunChangeDetection&&t(),zh(e)}},onHasTask:(n,o,r,i)=>{n.hasTask(r,i),o===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Il(e),Cl(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(n,o,r,i)=>(n.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!We.isInAngularZone())throw new N(909,!1)}static assertNotInAngularZone(){if(We.isInAngularZone())throw new N(909,!1)}run(t,n,o){return this._inner.run(t,n,o)}runTask(t,n,o,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,y0,xi,xi);try{return i.runTask(s,n,o)}finally{i.cancelTask(s)}}runGuarded(t,n,o){return this._inner.runGuarded(t,n,o)}runOutsideAngular(t){return this._outer.run(t)}}const y0={};function Cl(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Il(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Uh(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function zh(e){e._nesting--,Cl(e)}class w0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nn,this.onMicrotaskEmpty=new nn,this.onStable=new nn,this.onError=new nn}run(t,n,o){return t.apply(n,o)}runGuarded(t,n,o){return t.apply(n,o)}runOutsideAngular(t){return t()}runTask(t,n,o,r){return t.apply(n,o)}}const Gh=new Z("");let wn=null;const Al=new Z("PlatformDestroyListeners");function S0(e){const{rootComponent:t,appProviders:n,platformProviders:o}=e,r=function I0(e=[]){if(wn)return wn;const t=function Yh(e=[],t){return Nn.create({name:t,providers:[{provide:ga,useValue:"platform"},{provide:Al,useValue:new Set([()=>wn=null])},...e]})}(e);return wn=t,function Wh(e){const t=e.get(jh,null);t&&t.forEach(n=>n())}(t),t}(o),i=function Qh(e,t){let n;return n="noop"===e?new w0:("zone.js"===e?void 0:e)||new We(t),n}("zone.js",function Zh(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}());return i.run(()=>{const a=Qp([{provide:We,useValue:i},...n||[]],r,"Environment Injector"),u=a.get(fo,null);let f;i.runOutsideAngular(()=>{f=i.onError.subscribe({next:g=>{u.handleError(g)}})});const p=()=>a.destroy(),h=r.get(Al);return h.add(p),a.onDestroy(()=>{f.unsubscribe(),h.delete(p)}),function Jh(e,t,n){try{const o=n();return qa(o)?o.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(u,i,()=>{const g=a.get(Pi);return g.runInitializers(),g.donePromise.then(()=>{!function Ip(e){gt(e,"Expected localeId to be defined"),"string"==typeof e&&(Cp=e.toLowerCase().replace(/_/g,"-"))}(a.get(rn,To)||To);const y=a.get(xl);return void 0!==t&&y.bootstrap(t),y})})})}let xl=(()=>{class e{constructor(n,o,r){this._zone=n,this._injector=o,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const i=new de(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new de(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{We.assertNotInAngularZone(),function El(e){typeof Zone>"u"?g0.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const f=this._zone.onUnstable.subscribe(()=>{We.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),f.unsubscribe()}});this.isStable=Dm(i,s.pipe(function wm(e={}){const{connector:t=(()=>new ht),resetOnError:n=!0,resetOnComplete:o=!0,resetOnRefCountZero:r=!0}=e;return i=>{let s,a,u,f=0,p=!1,h=!1;const g=()=>{a?.unsubscribe(),a=void 0},m=()=>{g(),s=u=void 0,p=h=!1},y=()=>{const D=s;m(),D?.unsubscribe()};return Ct((D,E)=>{f++,!h&&!p&&g();const C=u=u??t();E.add(()=>{f--,0===f&&!h&&!p&&(a=ns(y,r))}),C.subscribe(E),!s&&f>0&&(s=new se({next:P=>C.next(P),error:P=>{h=!0,g(),a=ns(m,n,P),C.error(P)},complete:()=>{p=!0,g(),a=ns(m,o),C.complete()}}),pn(D).subscribe(s))})(i)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,o){const r=n instanceof Md;if(!this._injector.get(Pi).done)throw!r&&function Lo(e){const t=re(e)||He(e)||Ye(e);return null!==t&&t.standalone}(n),new N(405,false);let s;s=r?n:this._injector.get(fi).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function E0(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Mo),f=s.create(Nn.NULL,[],o||s.selector,a),p=f.location.nativeElement,h=f.injector.get(Gh,null);return h?.registerApplication(p),f.onDestroy(()=>{this.detachView(f.hostView),Ni(this.components,f),h?.unregisterApplication(p)}),this._loadComponent(f),f}tick(){if(this._runningTick)throw new N(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const o=n;this._views.push(o),o.attachToAppRef(this)}detachView(n){const o=n;Ni(this._views,o),o.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const o=this._injector.get(u0,[]);o.push(...this._bootstrapListeners),o.forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ni(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new N(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(ie(We),ie(ao),ie(fo))},e.\u0275prov=ge({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ni(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let A0=(()=>{class e{}return e.__NG_ELEMENT_ID__=k0,e})();function k0(e){return function x0(e,t,n){if($o(e)&&!n){const o=dt(e.index,t);return new or(o,o)}return 47&e.type?new or(t[16],t):null}(Ve(),_(),16==(16&e))}let Rl=null;function vr(){return Rl}class q0{}const an=new Z("DocumentToken");let _g=(()=>{class e{constructor(n,o){this._viewContainer=n,this._context=new LE,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){Eg("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){Eg("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,o){return!0}}return e.\u0275fac=function(n){return new(n||e)(Q(Gt),Q(on))},e.\u0275dir=yt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class LE{constructor(){this.$implicit=null,this.ngIf=null}}function Eg(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ue(t)}'.`)}class UE{createSubscription(t,n){return t.subscribe({next:n,error:o=>{throw o}})}dispose(t){t.unsubscribe()}}class zE{createSubscription(t,n){return t.then(n,o=>{throw o})}dispose(t){}}const GE=new zE,qE=new UE;let Ig=(()=>{class e{constructor(n){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){return this._obj?n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue:(n&&this._subscribe(n),this._latestValue)}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,o=>this._updateLatestValue(n,o))}_selectStrategy(n){if(qa(n))return GE;if(xf(n))return qE;throw function Nt(e,t){return new N(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,o){n===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return e.\u0275fac=function(n){return new(n||e)(Q(A0,16))},e.\u0275pipe=tt({name:"async",type:e,pure:!1,standalone:!0}),e})();class HC extends q0{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Jl extends HC{static makeCurrent(){!function G0(e){Rl||(Rl=e)}(new Jl)}onAndCancel(t,n,o){return t.addEventListener(n,o,!1),()=>{t.removeEventListener(n,o,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function UC(){return _r=_r||document.querySelector("base"),_r?_r.getAttribute("href"):null}();return null==n?null:function zC(e){Yi=Yi||document.createElement("a"),Yi.setAttribute("href",e);const t=Yi.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){_r=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function xE(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const o=n.indexOf("="),[r,i]=-1==o?[n,""]:[n.slice(0,o),n.slice(o+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Yi,_r=null,YC=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();const Ki=new Z("EventManagerPlugins");let Zi=(()=>{class e{constructor(n,o){this._zone=o,this._eventNameToPlugin=new Map,n.forEach(r=>r.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,o,r){return this._findPluginFor(o).addEventListener(n,o,r)}addGlobalEventListener(n,o,r){return this._findPluginFor(o).addGlobalEventListener(n,o,r)}getZone(){return this._zone}_findPluginFor(n){const o=this._eventNameToPlugin.get(n);if(o)return o;const r=this._plugins;for(let i=0;i<r.length;i++){const s=r[i];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(ie(Ki),ie(We))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();class Ng{constructor(t){this._doc=t}addGlobalEventListener(t,n,o){const r=vr().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${n}`);return this.addEventListener(r,n,o)}}let Og=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(n){const o=new Set;n.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),o.add(r))}),this.onStylesAdded(o)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})(),Er=(()=>{class e extends Og{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,o,r){n.forEach(i=>{const s=this._doc.createElement("style");s.textContent=i,r.push(o.appendChild(s))})}addHost(n){const o=[];this._addStylesToHost(this._stylesSet,n,o),this._hostNodes.set(n,o)}removeHost(n){const o=this._hostNodes.get(n);o&&o.forEach(Rg),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((o,r)=>{this._addStylesToHost(n,r,o)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Rg))}}return e.\u0275fac=function(n){return new(n||e)(ie(an))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();function Rg(e){vr().remove(e)}const Xl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},eu=/%COMP%/g;function tu(e,t){return t.flat(100).map(n=>n.replace(eu,e))}function jg(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let nu=(()=>{class e{constructor(n,o,r){this.eventManager=n,this.sharedStylesHost=o,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ou(n)}createRenderer(n,o){if(!n||!o)return this.defaultRenderer;switch(o.encapsulation){case Rt.Emulated:{let r=this.rendererByCompId.get(o.id);return r||(r=new eI(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,r)),r.applyToHost(n),r}case 1:case Rt.ShadowDom:return new tI(this.eventManager,this.sharedStylesHost,n,o);default:if(!this.rendererByCompId.has(o.id)){const r=tu(o.id,o.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(ie(Zi),ie(Er),ie(bl))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})();class ou{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Xl[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){($g(t)?t.content:t).appendChild(n)}insertBefore(t,n,o){t&&($g(t)?t.content:t).insertBefore(n,o)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return n||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,o,r){if(r){n=r+":"+n;const i=Xl[r];i?t.setAttributeNS(i,n,o):t.setAttribute(n,o)}else t.setAttribute(n,o)}removeAttribute(t,n,o){if(o){const r=Xl[o];r?t.removeAttributeNS(r,n):t.removeAttribute(`${o}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,o,r){r&(nt.DashCase|nt.Important)?t.style.setProperty(n,o,r&nt.Important?"important":""):t.style[n]=o}removeStyle(t,n,o){o&nt.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,o){t[n]=o}setValue(t,n){t.nodeValue=n}listen(t,n,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,jg(o)):this.eventManager.addEventListener(t,n,jg(o))}}function $g(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class eI extends ou{constructor(t,n,o,r){super(t),this.component=o;const i=tu(r+"-"+o.id,o.styles);n.addStyles(i),this.contentAttr=function QC(e){return"_ngcontent-%COMP%".replace(eu,e)}(r+"-"+o.id),this.hostAttr=function JC(e){return"_nghost-%COMP%".replace(eu,e)}(r+"-"+o.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,n){const o=super.createElement(t,n);return super.setAttribute(o,this.contentAttr,""),o}}class tI extends ou{constructor(t,n,o,r){super(t),this.sharedStylesHost=n,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=tu(r.id,r.styles);for(let s=0;s<i.length;s++){const a=document.createElement("style");a.textContent=i[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,o){return super.insertBefore(this.nodeOrShadowRoot(t),n,o)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const Hg=["alt","control","meta","shift"],oI={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rI={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};function zg(e){return{appProviders:[...pI,...e?.providers??[]],platformProviders:cI}}const cI=[{provide:Vh,useValue:"browser"},{provide:jh,useValue:function aI(){Jl.makeCurrent()},multi:!0},{provide:an,useFactory:function uI(){return function Fv(e){sa=e}(document),document},deps:[]}],pI=[{provide:ga,useValue:"root"},{provide:fo,useFactory:function lI(){return new fo},deps:[]},{provide:Ki,useClass:(()=>{class e extends Ng{constructor(n){super(n)}supports(n){return!0}addEventListener(n,o,r){return n.addEventListener(o,r,!1),()=>this.removeEventListener(n,o,r)}removeEventListener(n,o,r){return n.removeEventListener(o,r)}}return e.\u0275fac=function(n){return new(n||e)(ie(an))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})(),multi:!0,deps:[an,We,Vh]},{provide:Ki,useClass:(()=>{class e extends Ng{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,o,r){const i=e.parseEventName(o),s=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vr().onAndCancel(n,i.domEventName,s))}static parseEventName(n){const o=n.toLowerCase().split("."),r=o.shift();if(0===o.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(o.pop());let s="",a=o.indexOf("code");if(a>-1&&(o.splice(a,1),s="code."),Hg.forEach(f=>{const p=o.indexOf(f);p>-1&&(o.splice(p,1),s+=f+".")}),s+=i,0!=o.length||0===i.length)return null;const u={};return u.domEventName=r,u.fullKey=s,u}static matchEventFullKeyCode(n,o){let r=oI[n.key]||n.key,i="";return o.indexOf("code.")>-1&&(r=n.code,i="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Hg.forEach(s=>{s!==r&&(0,rI[s])(n)&&(i+=s+".")}),i+=r,i===o)}static eventCallback(n,o,r){return i=>{e.matchEventFullKeyCode(i,n)&&r.runGuarded(()=>o(i))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(ie(an))},e.\u0275prov=ge({token:e,factory:e.\u0275fac}),e})(),multi:!0,deps:[an]},{provide:nu,useClass:nu,deps:[Zi,Er,bl]},{provide:kd,useExisting:nu},{provide:Og,useExisting:Er},{provide:Er,useClass:Er,deps:[an]},{provide:Zi,useClass:Zi,deps:[Ki,We]},{provide:class gC{},useClass:YC,deps:[]},[]];typeof window<"u"&&window;var EI=F(83);F(668);const{isArray:CI}=Array;const TI=["addListener","removeListener"],MI=["addEventListener","removeEventListener"],AI=["on","off"];function iu(e,t,n,o){if(O(n)&&(o=n,n=void 0),o)return iu(e,t,n).pipe(function SI(e){return Cn(t=>function II(e,t){return CI(t)?e(...t):e(t)}(e,t))}(o));const[r,i]=function PI(e){return O(e.addEventListener)&&O(e.removeEventListener)}(e)?MI.map(s=>a=>e[s](t,a,n)):function kI(e){return O(e.addListener)&&O(e.removeListener)}(e)?TI.map(Wg(e,t)):function xI(e){return O(e.on)&&O(e.off)}(e)?AI.map(Wg(e,t)):[];if(!r&&Xi(e))return es(s=>iu(s,t,n))(pn(e));if(!r)throw new TypeError("Invalid event target");return new de(s=>{const a=(...u)=>s.next(1<u.length?u:u[0]);return r(a),()=>i(a)})}function Wg(e,t){return n=>o=>e[n](t,o)}function NI(e,t){return e===t}function OI(e,t){if(1&e){const n=function kf(){return _()}();d(0,"div",1),Wa("click",function(){return function Yu(e){return G.lFrame.contextLView=e,e[8]}(n),function Ku(e){return G.lFrame.contextLView=null,e}(Rf().top())}),Me(1,"i",2),c()}}class Cr{ngAfterViewInit(){this.visible$=iu(window,"scroll").pipe(Cn(()=>window.scrollY>50),function FI(e,t=Po){return e=e??NI,Ct((n,o)=>{let r,i=!0;n.subscribe(Wt(o,s=>{const a=t(s);(i||!e(r,a))&&(i=!1,r=a,o.next(s))}))})}())}top(){window.scrollTo(0,0)}}Cr.\u0275fac=function(t){return new(t||Cr)},Cr.\u0275cmp=Or({type:Cr,selectors:[["app-top-cta"]],standalone:!0,features:[al],decls:2,vars:3,consts:[["class","container",3,"click",4,"ngIf"],[1,"container",3,"click"],[1,"fa-solid","fa-arrow-up"]],template:function(t,n){1&t&&(function Mf(e,t,n,o,r,i,s,a){const u=_(),f=ee(),p=e+22,h=f.firstCreatePass?function nb(e,t,n,o,r,i,s,a,u){const f=t.consts,p=go(t,e,4,s||null,yn(f,a));Fa(t,n,p,yn(f,u)),zr(t,p);const h=p.tViews=Pa(2,p,o,r,i,t.directiveRegistry,t.pipeRegistry,null,t.schemas,f);return null!==t.queries&&(t.queries.template(t,p),h.queries=t.queries.embeddedTView(p)),p}(p,f,u,t,n,o,r,i,s):f.data[p];Bt(h,!1);const g=u[K].createComment("");ii(f,u,g,h),Ge(g,u),mi(u,u[p]=sf(g,u,g,h)),Vr(h)&&ka(f,u,h),null!=s&&xa(u,h,a)}(0,OI,2,0,"div",0),function uh(e,t){const n=ee();let o;const r=e+22;n.firstCreatePass?(o=function w1(e,t){if(t)for(let n=t.length-1;n>=0;n--){const o=t[n];if(e===o.name)return o}}(t,n.pipeRegistry),n.data[r]=o,o.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,o.onDestroy)):o=n.data[r];const i=o.factory||(o.factory=Tn(o.type)),s=mt(Q);try{const a=Kr(!1),u=i();return Kr(a),function ob(e,t,n,o){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=o}(n,_(),r,u),u}finally{mt(s)}}(1,"async")),2&t&&Ha("ngIf",!0===ch(1,1,n.visible$))},dependencies:[Ig,_g],styles:[".container[_ngcontent-%COMP%]{position:fixed;display:flex;align-items:center;justify-content:center;right:1rem;bottom:1rem;width:3rem;height:3rem;background-color:var(--primary);color:#fff;border-radius:50%;font-size:1.5rem;cursor:pointer}"]});class Ir{ngAfterViewInit(){(0,EI.highlightAll)()}}Ir.\u0275fac=function(t){return new(t||Ir)},Ir.\u0275cmp=Or({type:Ir,selectors:[["app-root"]],standalone:!0,features:[al],decls:1523,vars:149,consts:[[1,"logo"],[1,"title"],["src","assets/img/logo.svg","alt","Logo"],["href","#context"],["href","#introduction"],["href","#playground"],["href","#installation"],["href","#principle"],["href","#models"],["href","#state"],["href","#configuration"],["href","#find"],["href","#select"],["href","#indexes"],["href","#upsert"],["href","#remove"],["href","#load"],["href","#post"],["href","#put"],["href","#delete"],["href","#ngs-container"],["href","#store-component"],["href","#roadmap"],["id","context"],["id","introduction"],[1,"language-typescript"],["href","https://ngrx.io/","target","_blank"],["id","playground"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src","target","_blank"],["id","installation"],["id","principle"],["id","models"],["id","state"],["id","configuration"],["id","find"],[1,"language-xml"],[1,"img"],["src","assets/img/get-values.png"],["src","assets/img/get-entities.png"],[1,"message","information"],[1,"message","warning"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/01_Find","target","_blank"],["id","select"],["src","assets/img/immutable-error.png"],["href","https://github.com/immerjs/immer","target","_blank"],["href","find"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/02_Select","target","_blank"],["id","indexes"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/03_Indexes","target","_blank"],["id","upsert"],["src","assets/img/upsert-01.png"],["src","assets/img/upsert-02.png"],["src","assets/img/upsert-03.png"],["src","assets/img/upsert-04.png"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/04_Upsert","target","_blank"],["id","remove"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/05_Remove","target","_blank"],["id","load"],["src","assets/img/container-error.png"],["src","assets/img/container-loading-01.png"],["src","assets/img/container-loading-02.png"],["src","assets/img/load-console-01.png"],["src","assets/img/load-console-02.png"],["src","assets/img/load-console-03.png"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/06_Load","target","_blank"],[1,"language-html"],["src","assets/img/dependent-01.png"],["src","assets/img/dependent-02.png"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/07_Load_Dependent","target","_blank"],["id","post"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/08_Post","target","_blank"],["id","put"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/08_Post"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/09_Put","target","_blank"],["id","delete"],["href","https://github.com/ssougnez/ng-store/tree/main/ng-store-playground/src/examples/10_Delete","target","_blank"],["id","ngs-container"],["id","store-component"],["id","roadmap"]],template:function(t,n){1&t&&(d(0,"main")(1,"div",0)(2,"div",1)(3,"span"),l(4,"ng-st"),c(),Me(5,"img",2),d(6,"span"),l(7,"re"),c()()(),d(8,"h1"),l(9,"Table of content"),c(),d(10,"ul")(11,"li")(12,"a",3),l(13,"Context"),c()(),d(14,"li")(15,"a",4),l(16,"Introduction"),c()(),d(17,"li")(18,"a",5),l(19,"Playground"),c()(),d(20,"li")(21,"a",6),l(22,"Installation"),c()(),d(23,"li")(24,"a",7),l(25,"Principle"),c()(),d(26,"li")(27,"a",8),l(28,"Models"),c()(),d(29,"li")(30,"a",9),l(31,"State"),c()(),d(32,"li")(33,"a",10),l(34,"Configuration"),c()(),d(35,"li")(36,"a",11),l(37,"Find"),c()(),d(38,"li")(39,"a",12),l(40,"Select"),c()(),d(41,"li")(42,"a",13),l(43,"Indexes"),c()(),d(44,"li")(45,"a",14),l(46,"Update"),c()(),d(47,"li")(48,"a",15),l(49,"Remove"),c()(),d(50,"li")(51,"a",16),l(52,"Load"),c()(),d(53,"li")(54,"a",17),l(55,"Post"),c()(),d(56,"li")(57,"a",18),l(58,"Put"),c()(),d(59,"li")(60,"a",19),l(61,"Delete"),c()(),d(62,"li")(63,"a",20),l(64,"ngs-container"),c()(),d(65,"li")(66,"a",21),l(67,"StoreComponent"),c()(),d(68,"li")(69,"a",22),l(70,"Roadmap"),c()()(),d(71,"h1",23),l(72,"Context"),c(),d(73,"p"),l(74,' Effective data management is crucial for the success of an Angular application as it can significantly influence the development process. "ng-store" is a tool that helps to manage data in a store similar to a relational database, providing a simple and organized solution for data management within an Angular application. '),c(),d(75,"h1",24),l(76,"Introduction"),c(),d(77,"p"),l(78," As you embark on your journey to learn Angular, you will encounter numerous concepts and challenges that you must overcome. It is common for beginners to overlook the importance of effective data management amidst the abundance of information they are trying to absorb. However, data management is a crucial aspect of Angular development that should not be neglected. "),c(),d(79,"p"),l(80," When starting out with Angular, it may be tempting to create large, complex components to power your application. Initially, it may seem simpler to have all the necessary functionality in a single component. However, over time, it becomes clear that this approach can cause more problems than it solves, leading to a less maintainable and scalable application. "),c(),d(81,"p"),l(82," As you progress in your Angular learning journey, you will eventually face the challenge of managing data in the most effective manner. At first, it is common to store data within a component, using the "),d(83,"code",25),l(84,"HttpClient"),c(),l(85," service to fetch data and display it on the screen. However, as you gain more experience, you will discover more advanced techniques for managing data in a more organized and scalable way. "),c(),d(86,"p"),l(87,"While this method of data management can be effective, there are some drawbacks to consider."),c(),d(88,"ul")(89,"li"),l(90," In a well-designed application, components should have a single, specific purpose. Fetching data using a HTTP call and displaying it involves two separate functions, which would not be considered best practice in component design. "),c(),d(91,"li"),l(92," Data that is loaded within a component is only accessible within that specific component. "),c(),d(93,"li"),l(94," The number of class variables required to store the data may vary depending on the complexity of the component. "),c(),d(95,"li"),l(96," If multiple components require the same data, it will need to be retrieved multiple times, potentially leading to reduced performance. "),c()(),d(97,"p"),l(98,"One solution to these issues is to use services to store data. This approach has several advantages."),c(),d(99,"ul")(100,"li"),l(101," Centralized data: When data is loaded through a service, it can be accessed by multiple components. "),c(),d(102,"li"),l(103," Improved efficiency: The service handles the process of retrieving the data, allowing components to access it simply by injecting the service and using the stored data. "),c()(),d(104,"p"),l(105," While using services for data management can be a useful technique, it is not without its challenges. Some potential drawbacks include: "),c(),d(106,"ul")(107,"li"),l(108," Cyclic dependencies can occur when service A depends on data from service B, and vice versa. This can create a difficult-to-resolve circular dependency. "),c(),d(109,"li"),l(110," Maintaining consistent data management practices across services can be challenging. While a base class can help to enforce a standardized approach, it can also add complexity to the codebase. "),c(),d(111,"li"),l(112,' If you are using the "OnPush" change detection strategy (as is recommended for optimal performance), simply updating data in a service will not trigger a refresh of the views that depend on it. To propagate the data changes to the components, you will need to implement a system that explicitly communicates the value changes. While this is not overly complex, it does add unnecessary boilerplate code. '),c(),d(113,"li"),l(114," You will still need to consider and implement a consistent approach for fetching data from the back end. "),c()(),d(115,"p"),l(116," I encountered these issues and considerations regularly in my work, which motivated me to explore the various store/state management systems available. "),c(),d(117,"p"),l(118," To be honest, I only evaluated one store/state management system: "),d(119,"a",26),l(120,"ngrx"),c(),l(121,". This was primarily because it is the most widely used and well-known option. "),c(),d(122,"p"),l(123," Please note that my experience with ngrx is limited, and the following information may not be comprehensive or entirely accurate as I have not used it extensively. It is also possible that some of the details may have changed since my last usage. "),c(),d(124,"p"),l(125," Overall, my impression of this library is that it is excessively complex to use. You are required to create actions, effects, reducers, selectors, etc., and while everything ultimately fits together, it can be difficult to maintain a clear understanding of what is happening in your application or to debug it effectively. The sheer number of required components can make the codebase cumbersome to navigate. "),c(),d(126,"p"),l(127,' I also struggled with the way immutability is managed in ngrx. To create new objects based on existing ones, you must manually use the spread operator, which I found to be cumbersome and not very intuitive. "ng-store" handles this differently, making the process transparent to the user. '),c(),d(128,"p"),l(129," While ngrx may be a suitable solution for some, it did not meet my needs and expectations. It is worth noting that this is a personal opinion and that the library may be well-suited for others. "),c(),d(130,"p"),l(131," Despite my issues with ngrx, I appreciated the concept of having a central location to store all application data and the reactivity of the store. As a result, I decided to create my own store management library to address these needs. "),c(),d(132,"p"),l(133," As of 2023, I have been using and developing this library for two years, and it has now reached a stable state. I believe it may be useful for other developers, and that is why I am sharing it. "),c(),d(134,"p"),l(135," This documentation will cover the fundamental principles of ng-store, as well as how to set it up and use it. By the end of this guide, you should have a thorough understanding of the library and, if you find it appealing, be equipped to use it in your own application. \u{1f600} "),c(),d(136,"h1",27),l(137,"Playground"),c(),d(138,"p"),l(139," You can access the code for the examples discussed in this article on the "),d(140,"a",28),l(141,"GitHub playground"),c(),l(142,'. To switch between examples, simply update the line 6 of the "main.ts" file. All the necessary code is provided for you to build and run the examples. '),c(),d(143,"h1",29),l(144,"Installation"),c(),d(145,"p"),l(146,"Simply run:"),c(),d(147,"pre")(148,"code",25),l(149,"yarn add immer @ssougnez/ng-store"),c()(),d(150,"h1",30),l(151,"Principle"),c(),d(152,"p"),l(153,' While you are free to use "ng-store" in any way that suits your needs, this section provides some recommendations for optimal usage. '),c(),d(154,"p"),l(155,' The main principle of "ng-store" is to use "flat objects" as much as possible. By "flat objects," I refer to objects that do not have any complex properties aside from those containing abstract data. For example, the following is not a "flat object": '),c(),d(156,"pre")(157,"code",25),l(158),c()(),d(159,"p"),l(160,' Using this type of object can lead to data redundancy. For instance, if these data are retrieved from a back end using a REST API, it is likely that multiple users will have the same friends. This means that a user\'s data might be stored in the "friends" array of multiple objects, resulting in larger, duplicated data. A better approach would be: '),c(),d(161,"pre")(162,"code",25),l(163),c()(),d(164,"p"),l(165," This approach treats objects as "),d(166,"strong"),l(167,"entities"),c(),l(168,', identified by a specific property and containing only abstract data as complex properties. "Abstract data" refers to information that does not represent entities in and of themselves, such as configuration data for a specific entity. '),c(),d(169,"p"),l(170," Think of entities as rows in a relational database. These rows contain simple data in regular columns, and when more complex data is needed, it is stored in another table and referenced by a foreign key in the primary table. In some cases, it may also be useful to store abstract data as a JSON string in a text column. "),c(),d(171,"p"),l(172,' Adhering to this principle will greatly aid in your use of "ng-store" and also in designing your back end. When there are no clear guidelines for the structure of objects returned by a web service, it can be challenging to determine which data to fetch from the database, as it is not clear which data will be needed by the REST API call. With this approach, you will typically fetch data from the database in the most straightforward manner. '),c(),d(173,"h1",31),l(174,"Models"),c(),d(175,"p"),l(176,' The central concept of the store is "entities." As mentioned earlier, an entity is a basic object with only simple properties, and it must also have an "id" property of a specific type. To ensure that this requirement is met, all your entities must extend the '),d(177,"code",25),l(178,"BaseEntity<T>"),c(),l(179,' base class, where "T" is the type of the "id" property. For example, the following is a "Pok\xe9mon" entity: '),c(),d(180,"pre")(181,"code",25),l(182),c()(),d(183,"p"),l(184,' It is important to note that these entities are not stored as-is in the store. In the example above, a value of type "Pokemon" will be stored as an '),d(185,"code",25),l(186,"Entity<Pokemon>"),c(),l(187," object. This type allows ng-store to efficiently store and retrieve values. For now, the most important thing to remember is that an object of type "),d(188,"code",25),l(189,"Entity<T>"),c(),l(190," has a "),d(191,"code",25),l(192,"value"),c(),l(193," property that holds the actual "),d(194,"code",25),l(195,"Pokemon"),c(),l(196," object. The type "),d(197,"code",25),l(198,"Entity<T>"),c(),l(199," also has other properties that will be discussed later in this document. "),c(),d(200,"p"),l(201," For the remainder of this article, the following terms will be used: "),c(),d(202,"ul")(203,"li")(204,"strong"),l(205,"Value:"),c(),l(206,' A value is the object you want to store, such as a "Pokemon" object.'),c(),d(207,"li")(208,"strong"),l(209,"Entity:"),c(),l(210," An entity is a value wrapped in a "),d(211,"code",25),l(212,"Entity<T>"),c(),l(213," object."),c()(),d(214,"h1",32),l(215,"State"),c(),d(216,"p"),l(217,' Now that we have an entity, we can create our state. A state consists of a type that defines its shape and an initial value. First, let\'s define the shape of the state. In this example, it will contain a section called "pokemons." A section can be thought of as a table in a database, storing data of the same type. '),c(),d(218,"p"),l(219,' I usually create the state in a file called "app.state" located in a "states" directory. '),c(),d(220,"pre")(221,"code",25),l(222),c()(),d(223,"p"),l(224," In addition to defining the shape of the state, we also need to define its initial value. In the same file, add the following lines: "),c(),d(225,"pre")(226,"code",25),l(227),c()(),d(228,"p"),l(229," The "),d(230,"code",25),l(231,"createEntities"),c(),l(232," function creates an empty section in your store. "),c(),d(233,"h1",33),l(234,"Configuration"),c(),d(235,"p"),l(236," The final step is to configure your application to use the store with its initial value. Here is how to do this using the modules approach: "),c(),d(237,"pre")(238,"code",25),l(239),c()(),d(240,"p"),l(241," Alternatively, if you are using a standalone application: "),c(),d(242,"pre")(243,"code",25),l(244),c()(),d(245,"p"),l(246," The configuration object also accepts other properties, which will be covered later in this documentation. "),c(),d(247,"p"),l(248," ng-store supports loading data asynchronously using HTTP requests. To use this feature, you can either omit the "),d(249,"code",25),l(250,"httpClientType"),c(),l(251," to use the default HTTP client provided by Angular or specify a custom class for it (more on this later). "),c(),d(252,"h1",34),l(253,"Find functions"),c(),d(254,"p"),l(255," Find functions are used to locate entities or values in the store. Let's start by updating the initial state of the store to insert some data. "),c(),d(256,"pre")(257,"code",25),l(258),c()(),d(259,"p"),l(260," This is the code necessary to retrieve all the pokemons from the store: "),c(),d(261,"pre")(262,"code",25),l(263),c()(),d(264,"p"),l(265," We use the "),d(266,"code",25),l(267,"getValues"),c(),l(268,' function to return all the values stored in the "pokemons" section of the store. The '),d(269,"code",25),l(270,"trackByValue"),c(),l(271," variable is a function provided by ng-store that tells "),d(272,"code",25),l(273,"ngFor"),c(),l(274,' to use the "id" property of array values. '),c(),d(275,"pre")(276,"code",35),l(277),c()(),d(278,"p"),l(279,"The result being:"),c(),d(280,"div",36),Me(281,"img",37),c(),d(282,"p"),l(283," To understand the difference between an entity and its value, let's use this variation of the code: "),c(),d(284,"pre")(285,"code",25),l(286),c()(),d(287,"pre")(288,"code",35),l(289),c()(),d(290,"p"),l(291," This time, the result is: "),c(),d(292,"div",36),Me(293,"img",38),c(),d(294,"p"),l(295," As you can see, an entity is an object with a "),d(296,"code",25),l(297,"value"),c(),l(298,' property that contains the actual object you want to use. It also contains other properties used by "ng-store" to maintain the store in a consistent state. We will see later in this document that you can use some of these properties to update the UI of your component based on the state of the entities in the store. '),c(),d(299,"p",39),l(300," In this case, we use "),d(301,"code",25),l(302,"trackByEntity"),c(),l(303," as we are dealing with entities. "),c(),d(304,"p"),l(305,' It is also possible to find a value or an entity in the store based on its "id" using '),d(306,"code",25),l(307,"findValueByKey"),c(),l(308," or "),d(309,"code",25),l(310,"findEntityByKey"),c(),l(311,'. For example, here is how you would find the Pokemon with the "id" of 1 '),c(),d(312,"pre")(313,"code",25),l(314,"public firstValue: Pokemon | null = this._store.findValueByKey(s => s.pokemons, 1);\npublic firstEntity: Entity<Pokemon> | null = this._store.findEntityByKey(s => s.pokemons, 1);"),c()(),d(315,"p"),l(316," Note that these functions return "),d(317,"code",25),l(318,"null"),c(),l(319," if the entity is not found. "),c(),d(320,"p"),l(321," It is also possible to find values or entities in the store based on any other criteria using the functions "),d(322,"code",25),l(323,"findValuesBy"),c(),l(324," or "),d(325,"code",25),l(326,"findEntitiesBy"),c(),l(327,'. In the following example, we\'ll find all "normal" pokemons. '),c(),d(328,"pre")(329,"code",25),l(330,"public normalValues: Pokemon[] = this._store.findValuesBy(s => s.pokemons, p => p.type === 'normal');\npublic normalEntities: Entity<Pokemon>[] = this._store.findEntitiesBy(s => s.pokemons, e => e.value.type === 'normal');"),c()(),d(331,"p",40),l(332," Using "),d(333,"a",13),l(334,"indexes"),c(),l(335,' can greatly improve the performance of finding values in the store, especially when dealing with large amounts of data. It is highly recommended to use indexes whenever possible, especially when finding values based on properties other than the "id". '),c(),d(336,"p"),l(337," The functions "),d(338,"code",25),l(339,"findEntityBy"),c(),l(340," and "),d(341,"code",25),l(342,"findValueBy"),c(),l(343," can be used to locate the first entity or value that meets the specified condition. "),c(),d(344,"p",39),l(345," You can find the code of this section in "),d(346,"a",41),l(347,"this example"),c(),l(348," of the playground. "),c(),d(349,"h1",42),l(350,"Select functions"),c(),d(351,"p"),l(352," In the previous chapter, we learned how to retrieve values from the store. It's important to note that the store is "),d(353,"strong"),l(354,"immutable"),c(),l(355,". You can confirm this by attempting to modify a value retrieved from the store, like this: "),c(),d(356,"pre")(357,"code",25),l(358),c()(),d(359,"p"),l(360," This will produce the following error in the console: "),c(),d(361,"div",36),Me(362,"img",43),c(),d(363,"p"),l(364," Certainly, the values in the store are "),d(365,"strong"),l(366,"immutable"),c(),l(367,", which means that you cannot directly modify them as shown in the example. If you are not familiar with immutability, it may seem strange at first, but it is highly recommended to learn more about the concept to understand why it is generally considered a best practice to store objects in this manner. "),c(),d(368,"p"),l(369," There are several methods for implementing immutability in JavaScript, and ng-store uses a powerful library called "),d(370,"a",44),l(371,"immer"),c(),l(372," to achieve this. While we won't delve into the details of how immer works in this context, it is highly recommended to learn more about it if you wish to understand the inner workings of ng-store. "),c(),d(373,"p"),l(374," It is important to note that due to immutability, objects retrieved from the store using "),d(375,"a",45),l(376,"find functions"),c(),l(377," may not always reflect the most current data. For example, if you retrieve a value from the store using a find function and that value is subsequently modified in the store, the object that you have a reference to will not be modified. Instead, a new object will be created to reflect the changes. This means that you need a way to know when a value has been modified in order to update your component accordingly, and this is where select functions come in. They allow you to monitor for changes in the store and refresh your component as needed. "),c(),d(378,"p"),l(379," Basically, select functions are similar to find functions, but they return observables rather than values or entities. For example: "),c(),d(380,"pre")(381,"code",25),l(382,"public values$: Observable<Pokemon[]> = this._store.selectValues(s => s.pokemons);\npublic entities$: Observable<Entity<Pokemon>[]> = this._store.selectEntities(s => s.pokemons);"),c()(),d(383,"p"),l(384," As shown, you can use "),d(385,"code",25),l(386,"selectValues"),c(),l(387," and "),d(388,"code",25),l(389,"selectEntities"),c(),l(390," in the same way as "),d(391,"code",25),l(392,"getValues"),c(),l(393," and "),d(394,"code",25),l(395,"getEntities"),c(),l(396,". The only difference is that these functions return observables instead of the actual values or entities. In terms of templates, the code is largely the same. "),c(),d(397,"pre")(398,"code",35),l(399),c()(),d(400,"p"),l(401," The only difference here is that you must use the "),d(402,"code",25),l(403,"async"),c(),l(404," pipe. "),c(),d(405,"p"),l(406," By using the select functions, you can ensure that your component will be notified every time the values you retrieved are changed. Another significant advantage is that you can use the "),d(407,"code",25),l(408,"async"),c(),l(409,' pipe to refresh the component\'s view in a way that is compatible with the "OnPush" change detection strategy. '),c(),d(410,"p",39),l(411," You can find the code of this section in "),d(412,"a",46),l(413,"this example"),c(),l(414," of the playground. "),c(),d(415,"h1",47),l(416,"Indexes"),c(),d(417,"p"),l(418," In the previous example, we saw how to select values based on criteria other than their key. While this method works, it is not optimal in terms of performance. For example: "),c(),d(419,"pre")(420,"code",25),l(421,"public normal: Observable<Pokemon[]> = this._store.selectValuesBy(s => s.pokemons, p => p.type === 'normal');"),c()(),d(422,"p"),l(423," The issue with this approach is that when the store is updated, it will emit its new value and the predicate will be executed for all pokemons again. While this may not be a problem for stores with fewer than 10,000 items, it can be resource-intensive to examine a large number of pokemons just to return the normal ones. In these cases, it is recommended to use indexes instead. An index is a property of the object that the store uses to efficiently organize its content. "),c(),d(424,"p"),l(425," To use indexes, the first step is to define them when using "),d(426,"code",25),l(427,"createEntities"),c(),l(428,": "),c(),d(429,"pre")(430,"code",25),l(431),c()(),d(432,"p"),l(433," To define indexes in the second parameter of "),d(434,"code",25),l(435,"createEntities"),c(),l(436,", pass an array of property names that will be used as indexes. While ng-store supports multiple indexes, it is generally best to only include the ones that will be most frequently used, as maintaining multiple indexes can have a small performance cost. Keep in mind that it is usually unnecessary to define every property as an index. "),c(),d(437,"p"),l(438," To use the defined index, you can call either "),d(439,"code",25),l(440,"findValuesByIndex"),c(),l(441," or "),d(442,"code",25),l(443,"selectValuesByIndex"),c(),l(444,". These functions allow you to quickly retrieve values from the store using the defined index, which can improve the performance of your application by avoiding the need to search through all entities to find the desired values. "),c(),d(445,"pre")(446,"code",25),l(447,"public normal: Observable<Pokemon[]> = this._store.selectValuesByIndex(s => s.pokemons, 'type', 'normal');"),c()(),d(448,"p",39),l(449," You can find the code of this section in "),d(450,"a",48),l(451,"this example"),c(),l(452," of the playground. "),c(),d(453,"h1",49),l(454,"Upsert"),c(),d(455,"p"),l(456," To update the store, you can use either the "),d(457,"code",25),l(458,"upsertValue"),c(),l(459," or "),d(460,"code",25),l(461,"upsertValues"),c(),l(462," functions. These functions allow you to add or update an entity or multiple entities in the store based on their keys. If an entity with a matching key already exists in the store, it will be merged with the entity you pass to these functions. Note that "),d(463,"code",25),l(464,"upsertValues"),c(),l(465," expects an array and is used to upsert one or more entities at a time, while "),d(466,"code",25),l(467,"upsertValue"),c(),l(468," is used to upsert a single entity. "),c(),d(469,"p"),l(470," Say that you have the following component: "),c(),d(471,"pre")(472,"code",25),l(473),c()(),d(474,"p"),l(475," With the following template: "),c(),d(476,"pre")(477,"code",35),l(478),c()(),d(479,"p"),l(480," This component displays a list of all pokemons stored in the store, sorted in alphabetical order by the name property. It also has three buttons that allow you to manipulate the data in the store: "),c(),d(481,"ul")(482,"li"),l(483,"The first button upserts a new pokemon entity to the store."),c(),d(484,"li"),l(485," The second button upserts an existing pokemon entity with new data, to demonstrate the update behavior of the "),d(486,"code",25),l(487,"upsertValue"),c(),l(488," function. "),c(),d(489,"li"),l(490,"The third button updates a specific property of an existing pokemon entity in the store."),c()(),d(491,"p"),l(492," Here is the code of the first button: "),c(),d(493,"pre")(494,"code",25),l(495),c()(),d(496,"p"),l(497," This couldn't be easier. Simply pass the value you want to add to the store and it will be added. If you want to update an existing value, it's just as simple - pass the updated value to the store. "),c(),d(498,"pre")(499,"code",25),l(500),c()(),d(501,"p"),l(502," In this example, we're updating the value with key 1 with a new value. However, if you don't have an object containing all of the data for the entity you want to update, you can use the "),d(503,"code",25),l(504,"updateValueByKey"),c(),l(505," function to make custom updates to the entity. "),c(),d(506,"pre")(507,"code",25),l(508),c()(),d(509,"p"),l(510," Initially, let's see what the component displays: "),c(),d(511,"div",36),Me(512,"img",50),c(),d(513,"p"),l(514," Next, let's click on the first button: "),c(),d(515,"div",36),Me(516,"img",51),c(),d(517,"p"),l(518," Vulpix was added to the list and, because we're using an observable, the view was automatically refreshed even though we're using the \"OnPush\" change detection strategy. Now, go ahead and click the second button. "),c(),d(519,"div",36),Me(520,"img",52),c(),d(521,"p"),l(522," Pikachu was replaced by Zubat. And finally, click the third button: "),c(),d(523,"div",36),Me(524,"img",53),c(),d(525,"p"),l(526," Zubat was updated and changed into Jigglypuff. "),c(),d(527,"p"),l(528,"In addition to these functions, you can also use the following ones:"),c(),d(529,"ul")(530,"li")(531,"strong"),l(532,"updateEntitiesBy"),c(),l(533,": Update "),d(534,"strong"),l(535,"entities"),c(),l(536," based on a predicate."),c(),d(537,"li")(538,"strong"),l(539,"updateEntityByKey"),c(),l(540,": Update an "),d(541,"strong"),l(542,"entity"),c(),l(543," based on its key."),c(),d(544,"li")(545,"strong"),l(546,"updateValuesBy"),c(),l(547,": Update "),d(548,"strong"),l(549,"values"),c(),l(550," based on a predicate."),c()(),d(551,"p",39),l(552," You can find the code of this section in "),d(553,"a",54),l(554,"this example"),c(),l(555," of the playground. "),c(),d(556,"h1",55),l(557,"Remove"),c(),d(558,"p"),l(559," To remove values from the store, you can use these two functions: "),c(),d(560,"ul")(561,"li")(562,"strong"),l(563,"removeValuesBy"),c(),l(564,": Removes values based on a predicate."),c(),d(565,"li")(566,"strong"),l(567,"removeValuesByKeys"),c(),l(568,": Removes values based on their key."),c()(),d(569,"p"),l(570," For instance, to remove the values with key 1 or 2: "),c(),d(571,"pre")(572,"code",25),l(573),c()(),d(574,"p"),l(575," Or to remove all normal pokemons: "),c(),d(576,"pre")(577,"code",25),l(578),c()(),d(579,"p",39),l(580," You can find the code of this section in "),d(581,"a",56),l(582,"this example"),c(),l(583," of the playground. "),c(),d(584,"h1",57),l(585,"Load"),c(),d(586,"p"),l(587," So far, we've covered how to use the store in a synchronous manner. However, in a real-world scenario, data in the store is often loaded asynchronously from a REST API. While you can do this with what we've already learned, ng-store provides built-in support for asynchronous data loading, as well as components to make it easier to work with in the UI. Let's start with a simple example: "),c(),d(588,"ul")(589,"li"),l(590,"Pokemons are loaded from a REST API."),c(),d(591,"li"),l(592,"We want to load all the pokemons, but only some of their properties to save bandwidth (partial load)."),c(),d(593,"li"),l(594,"We want a component that displays a pokemon based on its key, including all of its properties."),c()(),d(595,"p"),l(596,' To run the examples in the playground, I\'m using the "json-server" library to create a fake web service. You can start it by running the command '),d(597,"code",25),l(598,"yarn json"),c(),l(599," in the playground directory. All of the calls have a latency of one second so you can observe what happens during the data loading process. "),c(),d(600,"p"),l(601," To use HTTP calls with ng-store when using the module approach, you'll need to configure it as follows:: "),c(),d(602,"pre")(603,"code",25),l(604),c()(),d(605,"p"),l(606," However, if you're using a standalone application, you'll need to configure it as follows: "),c(),d(607,"pre")(608,"code",25),l(609),c()(),d(610,"p"),l(611," Next, we'll create a "),d(612,"code",25),l(613,"PokemonService"),c(),l(614," to handle the process of loading data: "),c(),d(615,"pre")(616,"code",25),l(617),c()(),d(618,"p"),l(619,"Earlier, we discussed how you can make the HTTP call yourself and manage the loading, error, and success states manually. However, ng-store provides a component called "),d(620,"code",25),l(621,"ngs-container"),c(),l(622," to simplify this process. In this section, we'll cover the basic usage of "),d(623,"code",25),l(624,"ngs-container"),c(),l(625,", but you can find more information about it later in this documentation."),c(),d(626,"p"),l(627," The "),d(628,"code",25),l(629,"ngs-container"),c(),l(630," component operates using two observables: "),c(),d(631,"ul")(632,"li")(633,"strong"),l(634,"query$"),c(),l(635,": Performs the HTTP call."),c(),d(636,"li")(637,"strong"),l(638,"data$"),c(),l(639,": Retrieves data from the store to use in the template."),c()(),d(640,"p"),l(641," For this example, we'll begin by implementing the function used to fetch data from a REST API in our service: "),c(),d(642,"pre")(643,"code",25),l(644),c()(),d(645,"p"),l(646," The "),d(647,"code",25),l(648,"loadAllEntities"),c(),l(649," function is used to load all entities from the server and store them in a specific section. It can accept up to four parameters: "),c(),d(650,"ul")(651,"li")(652,"strong"),l(653,"url"),c(),l(654,": URL to call to retrieve the data. "),c(),d(655,"li")(656,"strong"),l(657,"root"),c(),l(658,": Predicate used to select the section of the store that will store the fetched data. "),c(),d(659,"li")(660,"strong"),l(661,"entityLoaded"),c(),l(662,": Indicates whether the loaded entities are complete or not (more on that later). "),c(),d(663,"li")(664,"strong"),l(665,"force"),c(),l(666,": When data are loaded and stored in the store, subsequent calls to "),d(667,"code",25),l(668,"loadAllEntities"),c(),l(669," for the same section will return the stored data instead of calling the REST API again. However, you can force the store to refetch the data by setting this parameter to "),d(670,"code",25),l(671,"true"),c(),l(672,". "),c()(),d(673,"p"),l(674,' In this case, we use this function to call the web service at the specified URL and store the values returned by it in the "pokemons" section of the store. Additionally, since this route only returns '),d(675,"strong"),l(676,"some"),c(),l(677," properties of the pokemons, we set the third parameter to "),d(678,"strong"),l(679,"false"),c(),l(680," to indicate to the store that the entities are partially loaded (we'll use this fact later). "),c(),d(681,"p"),l(682," Now that we have this function, we can update the code of our component like this: "),c(),d(683,"pre")(684,"code",25),l(685),c()(),d(686,"p"),l(687," We set the "),d(688,"code",25),l(689,"query$"),c(),l(690," observable to the value returned by our service function and the "),d(691,"code",25),l(692,"data$"),c(),l(693," observable to a selection from the store. We also use the "),d(694,"code",25),l(695,"map"),c(),l(696," operator to sort the result based on the pokemons' name. Once we have these observables, we can use them in the template along with the "),d(697,"code",25),l(698,"ngs-container"),c(),l(699," component. The "),d(700,"code",25),l(701,"selectedId"),c(),l(702," variable will be used to display a pokemon in another component. "),c(),d(703,"pre")(704,"code",35),l(705),c()(),d(706,"p",39),l(707," If you're using standalone components, you'll need to import "),d(708,"code",25),l(709,"NgStoreContainerComponent"),c(),l(710,". "),c(),d(711,"p"),l(712," The "),d(713,"code",25),l(714,"ngs-container"),c(),l(715," component expects the two observables we mentioned, instantiates an "),d(716,"code",25),l(717,"ng-template"),c(),l(718,", and passes the values emitted by the "),d(719,"code",25),l(720,"data$"),c(),l(721," observable to its implicit variable. In this case, we store these data in the "),d(722,"code",25),l(723,"pokemons"),c(),l(724," variable and use it to display all the pokemons. We also display a small icon that sets the value of "),d(725,"code",25),l(726,"selectedId"),c(),l(727," to the pokemon id. "),c(),d(728,"p"),l(729," One of the advantages of the ngs-container component is that it handles loading and error states. If the HTTP call fails, the container component catches it and can do something with the error. By default, it simply displays it. However, you can configure the container to display the error in a custom way. As for the loading indicator, the json server is configured to have a latency of one second and during this time, the "),d(730,"code",25),l(731,"ngs-container"),c(),l(732,' component displays "'),d(733,"em"),l(734,"Loading..."),c(),l(735,'". There are different possibilities for the loading indicator format, but in this case, we set the '),d(736,"code",25),l(737,"loaderType"),c(),l(738," property to "),d(739,"code",25),l(740,"text"),c(),l(741," to simply display a loading sentence. We'll see in the "),d(742,"a",20),l(743,"ngs-container"),c(),l(744," chapter how to customize this loading indicator. Let's confirm all of this by running our application with the JSON server turned off: "),c(),d(745,"div",36),Me(746,"img",58),c(),d(747,"p"),l(748," The "),d(749,"code",25),l(750,"ngs-container"),c(),l(751," component correctly caught the error and displayed it. Now, let's start the JSON server and refresh our page. Initially, we can see: "),c(),d(752,"div",36),Me(753,"img",59),c(),d(754,"p"),l(755," Then after one second: "),c(),d(756,"div",36),Me(757,"img",60),c(),d(758,"p"),l(759," As you can see, the "),d(760,"code",25),l(761,"ngs-container"),c(),l(762," component handles everything you need to fetch the data and display what needs to be displayed based on the current state of the request. "),c(),d(763,"p"),l(764," We'll go further by creating a component that will receive the id of a pokemon as input and display all its data. As we said earlier, the call we used in the main component only loaded some of the properties. Now, we'll see how to load all the properties of the pokemon with the specified id. First, let's add a method to our service to load a pokemon based on its id. "),c(),d(765,"pre")(766,"code",25),l(767),c()(),d(768,"p",39),l(769," This route fetches a pokemon based on its id and returns all of its properties. "),c(),d(770,"p"),l(771," The "),d(772,"code",25),l(773,"loadEntityByKey"),c(),l(774," function calls a route to load an entity if it is not yet in the store or if it is in the store but is flagged as not completely loaded, which is the case here. We called "),d(775,"code",25),l(776,"loadAllEntities"),c(),l(777," by passing "),d(778,"code",25),l(779,"false"),c(),l(780," as the third parameter, indicating that the loaded entities were not complete. Note that "),d(781,"code",25),l(782,"loadEntityByKey"),c(),l(783," also sets the entity it loads as completely loaded (unless you pass "),d(784,"code",25),l(785,"false"),c(),l(786,' in its fourth parameter). This means that calling this function twice for the same entity will only call the REST API once. Additionally, for all loading functions in "ng-store," if multiple components try to load an entity at the same time, only one call is made but the entity will be available for all components. '),c(),d(787,"p"),l(788," Now that we have this function, we can use it in a new component to fetch and display the full data for a pokemon based on its id: "),c(),d(789,"pre")(790,"code",25),l(791),c()(),d(792,"p"),l(793," The idea for this component is similar to the first one, but the "),d(794,"code",25),l(795,"query$"),c(),l(796," and "),d(797,"code",25),l(798,"data$"),c(),l(799," observables are defined in the setter of the id input. These observables can then be used in the template to display the full data for a pokemon based on its id: "),c(),d(800,"pre")(801,"code",35),l(802),c()(),d(803,"p"),l(804," The only step remaining is to add the following line in the template of the main component: "),c(),d(805,"pre")(806,"code",35),l(807,'<app-pokemon *ngIf="selectedId !== null"\n             [id]="selectedId"></app-pokemon>\n'),c()(),d(808,"p"),l(809," And that's it! Let's take a look at the network tab in the console to see what happens in terms of HTTP calls when the application starts: "),c(),d(810,"div",36),Me(811,"img",61),c(),d(812,"p"),l(813," Now, click on the eye icon of the first pokemon: "),c(),d(814,"div",36),Me(815,"img",62),c(),d(816,"p"),l(817," We see that the call to the route loading all the pokemon properties is correctly executed. Now, let's click on the eye of the second pokemon then click again on the eye of the first pokemon: "),c(),d(818,"div",36),Me(819,"img",63),c(),d(820,"p"),l(821," As you can see, the call for the second Pok\xe9mon is correctly made, but the call for the first Pok\xe9mon is not made again. This is because the entity is already in the store and is fully loaded, so it does not need to be loaded again. Note that you can force the query to refresh the data by passing "),d(822,"code",25),l(823,"true"),c(),l(824," as the fifth parameter. "),c(),d(825,"p",39),l(826," You can find the code of this section in "),d(827,"a",64),l(828,"this example"),c(),l(829," of the playground. "),c(),d(830,"p"),l(831," Let's add some complexity to our example by simulating a REST API that uses a relational database. Instead of storing the type of each pokemon as a string property, we will have a separate route that returns all available types. In this case, the "),d(832,"code",25),l(833,"type"),c(),l(834," property will be replaced by the "),d(835,"code",25),l(836,"typeId"),c(),l(837," property, which contains the ID of the type for each pokemon. "),c(),d(838,"p"),l(839," Furthermore, we want to update our main component to display a list of all the pokemon types and, in a separate component, a list of all the pokemons for the selected type. First, let's create our models. "),c(),d(840,"p"),l(841," The pokemon model: "),c(),d(842,"pre")(843,"code",25),l(844),c()(),d(845,"p"),l(846," And the type one: "),c(),d(847,"pre")(848,"code",25),l(849),c()(),d(850,"p"),l(851," Now let's update our state: "),c(),d(852,"pre")(853,"code",25),l(854),c()(),d(855,"p"),l(856," Now, it's time to update our service. The first function we will implement is responsible for loading all the types into the store. "),c(),d(857,"pre")(858,"code",25),l(859),c()(),d(860,"p"),l(861," Next, let's make the necessary changes in our main component to display all these types: "),c(),d(862,"pre")(863,"code",25),l(864),c()(),d(865,"pre")(866,"code",35),l(867),c()(),d(868,"p"),l(869," The only difference so far is that the component displaying all the pokemons of the selected type is called "),d(870,"code",25),l(871,"app-pokemon-by-type"),c(),l(872,', and it is in this component that we will learn how to load dependent data. By "dependent data," I mean data that depends on another entity. In this case, we will load the pokemons based on their type. To make it easier to load the pokemons with the store, we should first add a property to our "type" model: '),c(),d(873,"pre")(874,"code",25),l(875),c()(),d(876,"p"),l(877," The "),d(878,"code",25),l(879,"pokemonsLoaded"),c(),l(880," property will be used by the store to determine whether the pokemons of that type have already been loaded. If the property is not defined, the store will assume that the pokemons have not been loaded and will load them accordingly. Currently, this property is not optional and must be defined. If you need to manually insert data into the store, you should set this property to "),d(881,"code",25),l(882,"false"),c(),l(883," to indicate that the pokemons have not been loaded. "),c(),d(884,"p"),l(885," Now, it's time to update our service to implement a function that will load pokemons for a specific type if they have not been loaded yet. "),c(),d(886,"pre")(887,"code",25),l(888),c()(),d(889,"p"),l(890," We can use the "),d(891,"code",25),l(892,"loadEntities"),c(),l(893," function to load entities based on the property of another entity. The first two parameters are the same as in the other functions. The third and fourth parameters are what make this function unique. The third parameter allows you to find the dependent entity. In most cases, you will use the "),d(894,"code",25),l(895,"findStoreValueByKey"),c(),l(896," utility function to do so. Simply pass it the section of the store where you want to find the dependent entity and its ID. The fourth parameter is the name of the property that will be used to determine whether the entities have been loaded or not. This must be passed as a string to allow the store to update this property as needed (which means you should never update the value of this property yourself). The last parameter is the same as in the other functions and determines whether the entities are fully or partially loaded (in that case, they are only partially loaded). "),c(),d(897,"p"),l(898," Now that we have this function, we can implement the component that displays the pokemons for a specific type: "),c(),d(899,"pre")(900,"code",25),l(901),c()(),d(902,"pre")(903,"code",65),l(904),c()(),d(905,"p"),l(906," And that's it! If you run your application, you will have: "),c(),d(907,"div",36),Me(908,"img",66),c(),d(909,"p"),l(910," And when you click on the eye icon next to a type: "),c(),d(911,"div",36),Me(912,"img",67),c(),d(913,"p"),l(914," As with the other functions, it's important to note that: "),c(),d(915,"ul")(916,"li"),l(917," Entities are only loaded if they have not yet been loaded. You can override this behavior by using the "),d(918,"code",25),l(919,"force"),c(),l(920," parameter. "),c(),d(921,"li"),l(922," If multiple components try to load the same dependent data at the same time, only one call is made. "),c()(),d(923,"p",39),l(924," You can find the code of this section in "),d(925,"a",68),l(926,"this example"),c(),l(927," of the playground. "),c(),d(928,"p"),l(929," There is one more function that you can use to load data into the store: "),d(930,"code",25),l(931,"loadEntitiesOnce"),c(),l(932,". This function loads entities only once. The store uses the URL of the REST API to determine whether the entities have already been loaded or not. This function is fairly straightforward, so I won't provide an example here. However, if you need to use it, you can create an issue and I'll update the documentation. "),c(),d(933,"h1",69),l(934,"Post"),c(),d(935,"p"),l(936," Now that we've seen how to load data with the store, let's move on to creating data. We'll start by creating the following models: "),c(),d(937,"pre")(938,"code",25),l(939),c()(),d(940,"p"),l(941," We defined two types: "),c(),d(942,"ul")(943,"li")(944,"strong"),l(945,"Pokemon"),c(),l(946,": The type of our entities."),c(),d(947,"li")(948,"strong"),l(949,"PokemonCreationData"),c(),l(950,": The type of the data sent to the server to create a new pokemon."),c()(),d(951,"p"),l(952," In the service, we'll have one function for retrieving all the pokemons: "),c(),d(953,"pre")(954,"code",25),l(955),c()(),d(956,"p"),l(957," Finally, the component simply displays all the pokemons: "),c(),d(958,"pre")(959,"code",25),l(960),c()(),d(961,"pre")(962,"code",35),l(963),c()(),d(964,"p"),l(965," So far, there is nothing new. However, we have added a component called "),d(966,"code",35),l(967,"app-pokemon-add-form"),c(),l(968," that we will use to create new pokemons. Note that the goal is to automatically refresh the list of pokemons after a new one is created. Here is the initial version of the code for this component: "),c(),d(969,"pre")(970,"code",25),l(971),c()(),d(972,"pre")(973,"code",35),l(974,'<form [formGroup]="form"\n      (ngSubmit)="add()">\n    <div>\n        <label>\n            Name: <input type="text"\n                   formControlName="name">\n        </label>\n    </div>\n    <div>\n        <label>\n            Type: <select formControlName="type">\n                <option value="water">Water</option>\n                <option value="fire">Fire</option>\n                <option value="electric">Electric</option>\n                <option value="grass">Grass</option>\n                <option value="bug">Bug</option>\n                <option value="normal">Normal</option>\n                <option value="poison">Poison</option>\n            </select>\n        </label>\n    </div>\n    <button type="submit"\n            [disabled]="form.valid === false">Create</button>\n</form>\n'),c()(),d(975,"p"),l(976," We have created a simple form using reactive forms and bound the submit event of the form to the "),d(977,"code",25),l(978,"add"),c(),l(979," function. Before implementing this function, we will create the "),d(980,"code",35),l(981,"addPokemon"),c(),l(982," function in the service that will use the store to perform the creation. "),c(),d(983,"pre")(984,"code",25),l(985),c()(),d(986,"p"),l(987," Creating a new entity with the store is very easy. You just need to call the "),d(988,"code",25),l(989,"postEntity"),c(),l(990," function with the following parameters: "),c(),d(991,"ul")(992,"li")(993,"strong"),l(994,"url"),c(),l(995,": The POST URL to call to create the entity."),c(),d(996,"li")(997,"strong"),l(998,"root"),c(),l(999,": A selector used to update the adding state of the entity list (more on that later). "),c(),d(1e3,"li")(1001,"strong"),l(1002,"data"),c(),l(1003,": The payload sent to the server to create the entity."),c()(),d(1004,"p"),l(1005," Now, we just need to call this function in our component: "),c(),d(1006,"pre")(1007,"code",25),l(1008),c()(),d(1009,"p"),l(1010," If you test the component, you will notice that it works... sort of. There are two annoying details here: "),c(),d(1011,"ul")(1012,"li"),l(1013," The pokemon gets created, but the page needs to be refreshed to see it. "),c(),d(1014,"li"),l(1015," The button is enabled during the REST call, which means that a user could potentially click the button multiple times and create the same pokemon more than once. "),c()(),d(1016,"p"),l(1017," The first point is easy to solve with the store. You just need to update the function in the service as follows: "),c(),d(1018,"pre")(1019,"code",25),l(1020),c()(),d(1021,"p"),l(1022,' Basically, we just piped the observable returned by the function to add the value emitted to the "pokemons" section of the store. This will only work if your REST API returns the created entity, like JSON server does. If your REST API does not return the created entity, you\'ll need to find another way to refresh your store. Here are a few ideas: '),c(),d(1023,"ul")(1024,"li"),l(1025," If your web service does not return any useful value (which it shouldn't), you can pipe the call to "),d(1026,"code",25),l(1027,"postEntity"),c(),l(1028," with a "),d(1029,"code",25),l(1030,"switchMap"),c(),l(1031," to "),d(1032,"code",25),l(1033,"loadAllEntities"),c(),l(1034," with the "),d(1035,"code",25),l(1036,"force"),c(),l(1037," flag to "),d(1038,"code",25),l(1039,"true"),c(),l(1040,". "),c(),d(1041,"li"),l(1042," If your web service only returns the id of the created entity, pipe the call to "),d(1043,"code",25),l(1044,"postEntity"),c(),l(1045," with a "),d(1046,"code",25),l(1047,"switchMap"),c(),l(1048," to "),d(1049,"code",25),l(1050,"loadEntityByKey"),c(),l(1051," with this id. "),c(),d(1052,"li"),l(1053," If you prefer to use web socket connections, you can call "),d(1054,"code",25),l(1055,"upsertValue"),c(),l(1056," in the callback function that handles the creation of a pokemon. "),c()(),d(1057,"p"),l(1058," If you try your component now, you will notice that the list of pokemons is automatically refreshed. However, the button is still enabled during the call. One way to fix this is to do the following: "),c(),d(1059,"pre")(1060,"code",25),l(1061),c()(),d(1062,"pre")(1063,"code",35),l(1064,'<button type="submit"\n        [disabled]="form.valid === false || adding === true">Create</button>\n'),c()(),d(1065,"p"),l(1066," This method would work, but it can be verbose, especially if you have to do this every time you create a component that creates data. A better option is to use the store. When you use "),d(1067,"code",25),l(1068,"postEntity"),c(),l(1069,', the store automatically maintains the "adding" state of the relevant store section. This allows you to achieve the same result with less code: '),c(),d(1070,"pre")(1071,"code",25),l(1072),c()(),d(1073,"p"),l(1074," You can now use this observable in the template: "),c(),d(1075,"pre")(1076,"code",35),l(1077,'<button type="submit"\n        [disabled]="form.valid === false || (adding$ | async) === true">Create</button>\n'),c()(),d(1078,"p"),l(1079," While this may only save a couple lines of code in the short term, this feature becomes very useful in the long run. "),c(),d(1080,"p",39),l(1081," You can find the code of this section in "),d(1082,"a",70),l(1083,"this example"),c(),l(1084," of the playground. "),c(),d(1085,"h1",71),l(1086,"Put"),c(),d(1087,"p"),l(1088," To show how to update data using the store, we will start with the code from "),d(1089,"a",72),l(1090,"the previous example"),c(),l(1091,". First, we need to modify the model that contains the updated data: "),c(),d(1092,"pre")(1093,"code",25),l(1094),c()(),d(1095,"p"),l(1096," The "),d(1097,"code",25),l(1098,"id"),c(),l(1099," property can be either a number or "),d(1100,"code",25),l(1101,"null"),c(),l(1102,", because it can contain either an existing entity ID for updates or "),d(1103,"code",25),l(1104,"null"),c(),l(1105," for new entities. As for the service: "),c(),d(1106,"pre")(1107,"code",25),l(1108),c()(),d(1109,"p"),l(1110," Now, let's modify the main component to display an edit icon next to the names of the pokemons: "),c(),d(1111,"pre")(1112,"code",25),l(1113),c()(),d(1114,"pre")(1115,"code",35),l(1116),c()(),d(1117,"p"),l(1118," The only subtlety here is in the click event of the icon. It changes the "),d(1119,"code",25),l(1120,"selectedId"),c(),l(1121," variable to the ID of the pokemon to edit, or to "),d(1122,"code",25),l(1123,"null"),c(),l(1124," if "),d(1125,"code",25),l(1126,"selectedId"),c(),l(1127," already contains it. This allows you to select the pokemon if it was not already selected, or unselect it if it was. "),c(),d(1128,"p"),l(1129," The most important code is in the upsert component: "),c(),d(1130,"pre")(1131,"code",25),l(1132),c()(),d(1133,"p"),l(1134," The idea here is that we shouldn't assume that the entity you want to update is already in the store. In a real-world scenario, it is more likely that entities will be loaded before they can be updated, but let's imagine that's not the case. "),c(),d(1135,"p"),l(1136," The "),d(1137,"code",25),l(1138,"id"),c(),l(1139," input can receive two different values: "),c(),d(1140,"ul")(1141,"li")(1142,"strong"),l(1143,"null"),c(),l(1144,": Indicates that we want to create a new pokemon."),c(),d(1145,"li")(1146,"strong"),l(1147,"A number"),c(),l(1148,": Indicates that we want to update the pokemon with that key."),c()(),d(1149,"p"),l(1150," Depending on the value of this input, we will either set the "),d(1151,"code",25),l(1152,"query$"),c(),l(1153," and "),d(1154,"code",25),l(1155,"data$"),c(),l(1156," observables to observables that emit the value "),d(1157,"code",25),l(1158,"null"),c(),l(1159," (in the case of creation) or to observables used to load and select the entity. Note that we use the "),d(1160,"code",25),l(1161,"filter"),c(),l(1162," and "),d(1163,"code",25),l(1164,"take"),c(),l(1165," operators to only use the first non-null emitted value. We do this for a specific reason. We want to set the value of the form based on the current data of the entity. However, if we didn't stop after the first non-null emitted value, we would risk losing our changes during the edit process. For example, say you fetch pokemon 1 and set the value of the form based on it. While you are typing the new name of the pokemon, the state of the entity changes (perhaps in response to a web socket message). As a new value is emitted, the form resets with the new values and you lose all your changes. This is why we use "),d(1166,"code",25),l(1167,"take"),c(),l(1168,": to avoid losing the current changes. "),c(),d(1169,"p"),l(1170," Next is the "),d(1171,"code",25),l(1172,"busy$"),c(),l(1173,' observable. To disable the button, we could check the "adding" state of the entity list or the "updating" state of the entity, but there is an easier solution. Whenever an entity is being added, deleted, or updated, the "busy" state of the entity list is set to '),d(1174,"code",25),l(1175,"true"),c(),l(1176,". So in this case, we can simply use this state to know if an entity is being updated or added. "),c(),d(1177,"p"),l(1178," In the "),d(1179,"code",25),l(1180,"ngOnInit"),c(),l(1181," method, we simply create our form with default values. "),c(),d(1182,"p"),l(1183," In the "),d(1184,"code",25),l(1185,"upsert"),c(),l(1186," function, we create the payload and send it to the "),d(1187,"code",25),l(1188,"upsertPokemon"),c(),l(1189," function. Note that we only reset the form value in the case of creation. In the case of update, we want to keep the data synchronized with the "),d(1190,"code",25),l(1191,"id"),c(),l(1192," property. "),c(),d(1193,"p"),l(1194," The "),d(1195,"code",25),l(1196,"reset"),c(),l(1197," function resets the form based on the object received as a parameter. "),c(),d(1198,"p"),l(1199," Now let's look at the template: "),c(),d(1200,"pre")(1201,"code",35),l(1202),c()(),d(1203,"p"),l(1204," We use the "),d(1205,"code",25),l(1206,"changed"),c(),l(1207," event of the container to execute a function when the data emitted by "),d(1208,"code",25),l(1209,"data$"),c(),l(1210," changes. In this case, we want to reset the form with the emitted value. Remember, in the case of id being "),d(1211,"code",25),l(1212,"null"),c(),l(1213,", we emit the value "),d(1214,"code",25),l(1215,"null"),c(),l(1216,", but if id is defined, we emit the first non-null value from the store. "),c(),d(1217,"p"),l(1218," The last thing to note is the button: it is disabled if the form is invalid or if the "),d(1219,"code",25),l(1220,"busy$"),c(),l(1221," observable emits "),d(1222,"code",25),l(1223,"true"),c(),l(1224,". Additionally, the label of the button changes depending on the "),d(1225,"code",25),l(1226,"id"),c(),l(1227," field of the form. "),c(),d(1228,"p"),l(1229," It's important to note that we could have done this in a different way, but using an observable for the busy state of the form is important. Since we are using the "),d(1230,"code",25),l(1231,"OnPush"),c(),l(1232," change detection strategy, it's important to refresh the view when the state of the form changes. Without this, we would need to call "),d(1233,"code",25),l(1234,"markForCheck"),c(),l(1235," on the component to reflect the form reset after the update was completed. "),c(),d(1236,"p"),l(1237," The final piece of the puzzle is the "),d(1238,"code",25),l(1239,"upsertPokemon"),c(),l(1240," function in the service: "),c(),d(1241,"pre")(1242,"code",25),l(1243),c()(),d(1244,"p"),l(1245," This function is a bit more complicated than it needs to be because of the JSON server. In a real-world scenario, you would probably have implemented an upsert function that creates or updates the entity. However, the JSON server does not provide a route for both operations. You either have to use a POST request to create the entity or a PUT request to update it. "),c(),d(1246,"p"),l(1247," However, it's not very complicated. If "),d(1248,"code",25),l(1249,"data.id"),c(),l(1250," is "),d(1251,"code",25),l(1252,"null"),c(),l(1253,", we call the "),d(1254,"code",25),l(1255,"postEntity"),c(),l(1256," function like we did in the previous example. Otherwise, we call "),d(1257,"code",25),l(1258,"putEntityByKey"),c(),l(1259,", which behaves the same as "),d(1260,"code",25),l(1261,"postEntity"),c(),l(1262," but requires the key of the entity as the third parameter. Because both functions return the same type of object, you can store it in a single variable and pipe it to update the store once the call is completed. "),c(),d(1263,"p"),l(1264," And that's it! You now have a component that can easily add or update an entity. "),c(),d(1265,"p",39),l(1266," You can find the code of this section in "),d(1267,"a",73),l(1268,"this example"),c(),l(1269," of the playground. "),c(),d(1270,"h1",74),l(1271,"Delete"),c(),d(1272,"p"),l(1273," The final operation we need to support is deleting values from the store. Here are the relevant parts of the example: "),c(),d(1274,"p"),l(1275," First, the model: "),c(),d(1276,"pre")(1277,"code",25),l(1278),c()(),d(1279,"p"),l(1280," Then, the service: "),c(),d(1281,"pre")(1282,"code",25),l(1283),c()(),d(1284,"p"),l(1285," To delete an item from the store using a REST call, you can use the "),d(1286,"code",25),l(1287,"deleteEntityByKey"),c(),l(1288," function. This function takes in three parameters: the route to the REST API, the section of the store where the entity is located, and the key of the entity. It's important to note that this function only sets the "),d(1289,"code",25),l(1290,"deleting"),c(),l(1291," property of the entity to "),d(1292,"code",25),l(1293,"true"),c(),l(1294,", but does not actually remove the entity from the store. To actually remove the entity from the store, you can pipe the observable to a call to the "),d(1295,"code",25),l(1296,"removeValuesByKeys"),c(),l(1297," function. You can also pass multiple keys to the "),d(1298,"code",25),l(1299,"removeValuesByKeys"),c(),l(1300," function if you want to delete multiple entities at once. "),c(),d(1301,"p"),l(1302," In addition to the "),d(1303,"code",25),l(1304,"removeValuesByKeys"),c(),l(1305," function, there is another function called "),d(1306,"code",25),l(1307,"removeValuesBy"),c(),l(1308," that allows you to remove entities based on a predicate. You can pass a predicate function to the "),d(1309,"code",25),l(1310,"removeValuesBy"),c(),l(1311," function and it will remove any entities that match the criteria specified by the predicate. "),c(),d(1312,"p"),l(1313," Now, the code of the main component: "),c(),d(1314,"pre")(1315,"code",25),l(1316),c()(),d(1317,"p"),l(1318," The code should be fairly self-explanatory, but there is one important detail to note. In previous examples, we have only selected values from the store because we didn't need to access their state (adding, updating, or deleting). However, in this case we want to display a deleting indicator while the entity is being deleted. To do this, we'll need to select the entities themselves instead of just their values. This means that we'll need to use the "),d(1319,"code",25),l(1320,"trackByEntity"),c(),l(1321," function instead of "),d(1322,"code",25),l(1323,"trackByValue"),c(),l(1324,". This allows us to access the state of the entities as well as their values. "),c(),d(1325,"p"),l(1326," And finally the template: "),c(),d(1327,"pre")(1328,"code",35),l(1329),c()(),d(1330,"p"),l(1331," It's worth noting that in this example, we use the "),d(1332,"code",25),l(1333,"value"),c(),l(1334," property of the entities to access the actual "),d(1335,"code",25),l(1336,"Pokemon"),c(),l(1337," objects. However, we use the "),d(1338,"code",25),l(1339,"deleting"),c(),l(1340," property to determine whether to display the trash icon or the spinner. This is possible because the "),d(1341,"code",25),l(1342,"deleteEntityByKey"),c(),l(1343," function updates the deleting property of the entity during the deletion process, so you don't have to handle this yourself. You can simply use the "),d(1344,"code",25),l(1345,"deleting"),c(),l(1346," property to determine whether to display the loading indicator or the completed action. "),c(),d(1347,"p",39),l(1348," You can find the code of this section in "),d(1349,"a",75),l(1350,"this example"),c(),l(1351," of the playground. "),c(),d(1352,"h1",76),l(1353,"ngs-container"),c(),d(1354,"p"),l(1355,"The "),d(1356,"code",35),l(1357,"ngs-container"),c(),l(1358," component can be customized to meet your desired design. One aspect you can modify is the loading indicator, which can be configured in four different ways using the loaderType property:"),c(),d(1359,"ul")(1360,"li")(1361,"strong"),l(1362,"text"),c(),l(1363,": Display a sentence during the loading process."),c(),d(1364,"li")(1365,"strong"),l(1366,"template"),c(),l(1367,": Display a custom template during the loading process."),c(),d(1368,"li")(1369,"strong"),l(1370,"component"),c(),l(1371,": Display a custom component during the loading process."),c(),d(1372,"li")(1373,"strong"),l(1374,"none"),c(),l(1375,": Do not display anything during the loading process."),c()(),d(1376,"p"),l(1377," If you choose to use the text option for the loading indicator, you have the ability to customize the displayed text in two ways: "),c(),d(1378,"ul")(1379,"li"),l(1380,"Set the loaderText attribute to the desired text."),c(),d(1381,"li"),l(1382,"Use the loaderText property in the loaderType object to specify the text."),c()(),d(1383,"pre")(1384,"code",35),l(1385,'<ngs-container [query$]="query$"\n               [data$]="pokemons$"\n               loaderType="text"\n               loaderText="Wait a minute...">\n    <ng-template let-pokemons>\n        \n    </ng-template>\n</ngs-container>\n'),c()(),d(1386,"p"),l(1387," However, you can also define the sentence to display globally. Here is how to do so when using modules: "),c(),d(1388,"pre")(1389,"code",25),l(1390),c()(),d(1391,"p"),l(1392," And here is how to do so in a standalone application: "),c(),d(1393,"pre")(1394,"code",25),l(1395),c()(),d(1396,"p"),l(1397," The "),d(1398,"code",25),l(1399,"loaderText"),c(),l(1400," property expects a function, so you can use the "),d(1401,"code",25),l(1402,"inject"),c(),l(1403," function to inject a translation service that will return the sentence in the desired language. Keep in mind that the value of the attribute will take precedence over the value of the injection token. "),c(),d(1404,"p"),l(1405," You can also choose to display a template instead of a text: "),c(),d(1406,"pre")(1407,"code",35),l(1408),c()(),d(1409,"p"),l(1410," You can create a custom component that will be displayed each time the loading indicator is activated. To do this, your custom component must implement the "),d(1411,"code",25),l(1412,"IBaseLoaderComponent"),c(),l(1413," interface. This allows you to create a completely unique loading experience for your users. "),c(),d(1414,"pre")(1415,"code",25),l(1416),c()(),d(1417,"pre")(1418,"code",35),l(1419,'<div [style.fontSize]="size">Please wait a minute during the loading...</div>'),c()(),d(1420,"p"),l(1421," The "),d(1422,"code",25),l(1423,"IBaseLoaderComponent"),c(),l(1424," interface requires you to implement a "),d(1425,"code",25),l(1426,"size"),c(),l(1427," property that defines the size of the loader. This is useful because you may want to adjust the size of the loading indicator depending on the design of your application. You can also specify the size directly using the attribute of the container, which will take precedence over the global configuration. To use a custom loading component, you will need to update the store configuration to specify the component to use. Here's an example of how to do this using modules: "),c(),d(1428,"pre")(1429,"code",25),l(1430),c()(),d(1431,"p"),l(1432,"And how to do it using a standalone application:"),c(),d(1433,"pre")(1434,"code",25),l(1435),c()(),d(1436,"p"),l(1437," You can customize the appearance of errors in the same way you do for loading indicators. By default, the JSON representation of the error is displayed in a "),d(1438,"code",35),l(1439,"pre"),c(),l(1440," tag. However, you can choose to display it in a template instead by using the "),d(1441,"code",35),l(1442,"errorTemplate"),c(),l(1443," property of the "),d(1444,"code",35),l(1445,"ngs-container"),c(),l(1446," component. Here's an example of how to do this: "),c(),d(1447,"pre")(1448,"code",35),l(1449),c()(),d(1450,"p"),l(1451," You can also implement a custom error component with the requirement that it has to implement "),d(1452,"code",25),l(1453,"IBaseErrorComponent"),c(),l(1454,": "),c(),d(1455,"pre")(1456,"code",25),l(1457),c()(),d(1458,"pre")(1459,"code",35),l(1460),c()(),d(1461,"p"),l(1462," To create a custom error component, you need to implement an "),d(1463,"code",25),l(1464,"error"),c(),l(1465," input that will receive the error. Then, update the store configuration to include the custom error component. Here is how to do so when using modules: "),c(),d(1466,"pre")(1467,"code",25),l(1468),c()(),d(1469,"p"),l(1470,"And here is how to do so when using a standalone application:"),c(),d(1471,"pre")(1472,"code",25),l(1473),c()(),d(1474,"p"),l(1475," The container component supports the "),d(1476,"code",25),l(1477,"changed"),c(),l(1478," event that forwards values emitted by the "),d(1479,"code",25),l(1480,"data$"),c(),l(1481," observable. "),c(),d(1482,"h1",77),l(1483,"StoreComponent"),c(),d(1484,"p"),l(1485," When using the store, you'll often encounter components that only display one or several values and don't do anything else. For example: "),c(),d(1486,"pre")(1487,"code",25),l(1488),c()(),d(1489,"p"),l(1490," There are certain elements that are common to all components of this type: injecting the store, creating the "),d(1491,"code",25),l(1492,"query$"),c(),l(1493," observable, and creating the "),d(1494,"code",25),l(1495,"data$"),c(),l(1496," observable. To avoid repeating this in all components of this type, the store provides a base class that can help reduce some of the boilerplate: "),c(),d(1497,"pre")(1498,"code",25),l(1499),c()(),d(1500,"p"),l(1501," Note that in this case, you have to use the "),d(1502,"code",25),l(1503,"data$"),c(),l(1504," observable instead of "),d(1505,"code",25),l(1506,"pokemon$"),c(),l(1507,". The benefit might not be immediately apparent, but it becomes clearer when you have an input that defines the observables. In that case, you can directly assign them as we did in the "),d(1508,"code",25),l(1509,"ngOnInit"),c(),l(1510," method. "),c(),d(1511,"p"),l(1512," This component might not reduce the size of your bundle by half, but it can be useful in certain situations. "),c(),d(1513,"h1",78),l(1514,"Roadmap"),c(),d(1515,"p"),l(1516," Here you'll find the next features I'd like to add to this library. Don't hesitate to post an issue to propose some ideas \u{1f609} "),c(),d(1517,"ul")(1518,"li"),l(1519,"Unit testing."),c(),d(1520,"li"),l(1521,"Consider the possibility of switching to mutative rather than using Immer."),c()()(),Me(1522,"app-top-cta")),2&t&&(M(158),Ae("","{",'\n    firstName: "Nicolas",\n    lastName: "Cage",\n    age: 50,\n    friends: [',"{",'\n        firstName: "Nicole",\n        lastName: "Kidman",\n        age: 56\n    }]\n}'),M(5),U("","{",'\n    firstName: "Nicolas",\n    lastName: "Cage",\n    age: 50,\n    friends: [3, 19, 5]\n}'),M(19),Ae("import ","{",' BaseEntity } from "@ssougnez/ng-store";\n\nexport type Pokemon = BaseEntity<number> & ',"{","\n    name: string;\n    type: 'water' | 'fire' | 'electric' | 'grass' | 'bug' | 'normal' | 'poison';\n}"),M(40),Ae("import ","{",' Pokemon } from "../models/pokemon.model";\n\nexport type AppState = ',"{","\n    pokemons: Entities<Pokemon>;\n}"),M(5),Ae("import ","{",' createEntities, Entities } from "@ssougnez/ng-store";\n    \n    export const initial: AppState = ',"{","\n        pokemons: createEntities()\n    }"),M(12),zt("@NgModule(","{","\n    imports: [\n      NgStoreModule\n    ],\n    providers: [\n      ","{","\n        provide: NG_STORE_CONFIG,\n        useValue: ","{","\n          initialValue: initial,\n          httpClientType: null\n        } as StoreConfiguration\n      }\n    ]\n  })\n  export class AppModule ","{"," }\n"),M(5),U("provideStore(","{","\n    initialValue: initial,\n    httpClientType: null\n})\n"),M(14),Ci(["export const initial: AppState = ","{","\n    pokemons: createEntities<Pokemon>([\n        ","{","\n            id: 1,\n            name: 'Pikachu',\n            type: 'electric'\n        },\n        ","{","\n            id: 2,\n            name: 'Bulbasaur',\n            type: 'grass'\n        },\n        ","{","\n            id: 3,\n            name: 'Charmander',\n            type: 'fire'\n        },\n        ","{","\n            id: 4,\n            name: 'Charmander',\n            type: 'fire'\n        },\n        ","{","\n            id: 5,\n            name: 'Squirtle',\n            type: 'water'\n        },\n        ","{","\n            id: 6,\n            name: 'Caterpie',\n            type: 'bug'\n        },\n        ","{","\n            id: 7,\n            name: 'Weedle',\n            type: 'bug'\n        },\n        ","{","\n            id: 8,\n            name: 'Pidgey',\n            type: 'normal'\n        },\n        ","{","\n            id: 9,\n            name: 'Nidoran',\n            type: 'normal'\n        },\n        ","{","\n            id: 10,\n            name: 'Rattata',\n            type: 'normal'\n        },\n        ","{","\n            id: 11,\n            name: 'Spearow ',\n            type: 'normal'\n        },\n        ","{","\n            id: 12,\n            name: 'Ekans ',\n            type: 'poison'\n        }\n    ])\n}"]),M(5),U("export class AppComponent ","{","\n\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public pokemons: Pokemon[] = this._store.getValues(s => s.pokemons);\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n}"),M(14),U('<h1>Pokemon</h1>\n\n<div *ngFor="let pokemon of pokemons; trackBy: trackByValue">',"{{"," pokemon.name }}</div>"),M(9),U("export class AppComponent ","{","\n\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public pokemons: Entity<Pokemon>[] = this._store.getEntities(s => s.pokemons);\n  public trackByEntity: TrackByFunction<Entity<Pokemon>> = trackByEntity;\n\n}"),M(3),U('<h1>Pokemon</h1>\n    \n<div *ngFor="let pokemon of pokemons; trackBy: trackByEntity">',"{{"," pokemon | json }}</div>"),M(69),U("let pokemon: Pokemon | null = this._store.findValueByKey(s => s.pokemons, 1);\n\nif (pokemon !== null) ","{","\n  pokemon.name = 'Super pikachu';\n}"),M(41),Ae('<h1>Values</h1>\n\n<div *ngFor="let pokemon of values$ | async; trackBy: trackByValue">',"{{",' pokemon | json }}</div>\n\n<h1>Entities</h1>\n\n<div *ngFor="let pokemon of entities$ | async; trackBy: trackByEntity">',"{{"," pokemon | json }}</div>"),M(32),U("export const initial: AppState = ","{","\n    pokemons: createEntities<Pokemon>([ ... ], ['type'])\n}"),M(42),zt("export class AppComponent ","{","\n\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public pokemons$: Observable<Pokemon[]> = this._store.selectValues<Pokemon>(s => s.pokemons).pipe(\n    map(pokemons => pokemons.sort((p1, p2) => p1.name.localeCompare(p2.name)))\n  );\n\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n  public upsertNonExisting(): void ","{","\n\n  }\n\n  public upsertExisting(): void ","{","\n\n  }\n\n  public updateExisting(): void ","{","\n    \n  }\n}"),M(5),U('<div *ngFor="let p of pokemons$ | async; trackBy: trackByValue">\n    ',"{{",' p.name }}\n</div>\n\n<div>\n    <button (click)="upsertNonExisting()">Upsert non existing</button>\n</div>\n<div>\n    <button (click)="upsertExisting()">Upsert existing</button>\n</div>\n<div>\n    <button (click)="updateExisting()">Update existing</button>\n</div>'),M(17),Ae("public upsertNonExisting(): void ","{","\n  const pokemon: Pokemon = ","{","\n    id: 13,\n    name: 'Vulpix',\n    type: 'fire'\n  };\n\n  this._store.upsertValue<Pokemon>(s => s.pokemons, pokemon);\n}"),M(5),Ae("public upsertExisting(): void ","{","\n  const pokemon: Pokemon = ","{","\n    id: 1,\n    name: 'Zubat',\n    type: 'poison'\n  };\n\n  this._store.upsertValue<Pokemon>(s => s.pokemons, pokemon);\n}"),M(8),U("public updateExisting(): void ","{","\n  this._store.updateValueByKey(s => s.pokemons, 1, p => p.name = 'Jigglypuff');\n}"),M(65),U("public remove(): void ","{","\n    this._store.removeValuesByKeys<Pokemon>(s => s.pokemons, 1, 2);\n}"),M(5),U("public removeNormal(): void ","{","\n    this._store.removeValuesBy(s => s.pokemons, p => p.type === 'normal');\n}"),M(26),zt("@NgModule(","{","\n    imports: [\n        NgStoreModule,\n        HttpClientModule\n    ],\n    providers: [\n        ","{","\n            provide: NG_STORE_CONFIG,\n            useValue: ","{","\n                initialValue: initial\n            } as StoreConfiguration\n        }\n    ]\n})\nexport class AppModule ","{"," }\n"),M(5),U("provideStore(","{","\n  initialValue: initialLoadExample\n}),\nprovideHttpClient()\n"),M(8),Ae("@Injectable(","{","\n    providedIn: 'root'\n})\nexport class PokemonService ","{","\n\n    private _store: NgStore<AppState> = inject(NgStore);\n\n}"),M(27),U("public loadPokemons(): Observable<Pokemon[]> ","{","\n    return this._store.loadAllEntities('http://localhost:3000/pokemons', s => s.pokemons, false);\n}"),M(41),U("export class AppComponent ","{","\n\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public selectedId: number | null = null;\n\n  public query$: Observable<Pokemon[]> = this._pokemonService.loadPokemons();\n  public pokemons$: Observable<Pokemon[]> = this._store.selectValues<Pokemon>(s => s.pokemons).pipe(\n    map(pokemons => pokemons.sort((p1, p2) => p1.name.localeCompare(p2.name)))\n  );\n\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n}\n"),M(20),U('<ngs-container [query$]="query$"\n               [data$]="pokemons$"\n               loaderType="text">\n    <ng-template let-pokemons>\n        <div class="flex-row flex-aic gap1"\n             *ngFor="let p of pokemons; trackBy: trackByValue">\n            <div>',"{{",' p.name }}</div>\n            <i class="fa fa-solid fa-eye pointer"\n               (click)="selectedId = p.id"></i>\n        </div>\n    </ng-template>\n</ngs-container>\n'),M(62),Ae("public loadPokemonById(id: number): Observable<Pokemon> ","{","\n    return this._store.loadEntityByKey(`http://localhost:3000/pokemons-full/$","{","id}`, s => s.pokemons, id);\n}\n"),M(24),lr("@Component(","{","\n  selector: 'app-pokemon',\n  templateUrl: './pokemon.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports: [\n    JsonPipe,\n    NgStoreContainerComponent\n  ]\n})\nexport class PokemonComponent ","{","\n\n  @Input()\n  public set id(value: number) ","{","\n    this.query$ = this._pokemonService.loadPokemonById(value);\n    this.pokemon$ = this._store.selectValueByKey(s => s.pokemons, value);\n  }\n\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public query$!: Observable<Pokemon>;\n  public pokemon$!: Observable<Pokemon | null>;\n\n}\n"),M(11),U('<ngs-container [query$]="query$"\n    [data$]="pokemon$"\n    loaderType="text">\n    <ng-template let-pokemon>\n        <pre>',"{{"," pokemon | json }}</pre>\n    </ng-template>\n</ngs-container>\n"),M(42),U("export type Pokemon = BaseEntity<number> & ","{","\n    name: string;\n    typeId: number;\n}\n"),M(5),U("export type Type = BaseEntity<number> & ","{","\n    name: string;\n}\n"),M(5),Ae("export type AppState = ","{","\n    pokemons: Entities<Pokemon>;\n    types: Entities<Type>;\n}\n\nexport const initial: AppState = ","{","\n    pokemons: createEntities<Pokemon>([], ['typeId']),\n    types: createEntities<Type>()\n}\n"),M(5),U("public loadTypes(): Observable<Type[]> ","{","\n    return this._store.loadAllEntities('http://localhost:3000/types', s => s.types);\n}\n"),M(5),U("export class AppComponent ","{","\n\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore&ltAppState> = inject(NgStore);\n\n  public selectedId: number | null = null;\n\n  public query$: Observable<Type[]> = this._pokemonService.loadTypes();\n  public types$: Observable<Type[]> = this._store.selectValues<Type>(s => s.types).pipe(\n    map(types => types.sort((t1, t2) => t1.name.localeCompare(t2.name)))\n  );\n\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n}\n"),M(3),U('<ngs-container [query$]="query$"\n               [data$]="types$"\n               loaderType="text">\n    <ng-template let-types>\n        <div class="flex-row flex-aic gap1"\n             *ngFor="let t of types; trackBy: trackByValue">\n            <div>',"{{",' t.name }}</div>\n            <i class="fa fa-solid fa-eye pointer"\n               (click)="selectedId = t.id"></i>\n        </div>\n    </ng-template>\n</ngs-container>\n\n<app-pokemon-by-type *ngIf="selectedId !== null"\n                     [id]="selectedId"></app-pokemon-by-type>\n'),M(8),U("export type Type = BaseEntity<number> & ","{","\n    name: string;\n\n    pokemonsLoaded: boolean;\n}\n"),M(13),lr("import ","{",' findStoreValueByKey, NgStore } from "@ssougnez/ng-store";\n    \npublic loadPokemonByType(id: number): Observable<Pokemon[]> ',"{","\n    return this._store.loadEntities<Pokemon, Type>(\n        `http://localhost:3000/pokemons-with-type?typeId=$","{","id}`, \n        s => s.pokemons,\n        findStoreValueByKey(s => s.types, id),\n        'pokemonsLoaded',\n        false\n    );\n}\n"),M(13),Ae("export class PokemonByTypeComponent ","{","\n\n  @Input()\n  public set id(value: number) ","{","\n    this.query$ = this._pokemonService.loadPokemonByType(value);\n    this.pokemons$ = this._store.selectValuesByIndex<Pokemon>(s => s.pokemons, 'typeId', value);\n  }\n\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n  public query$!: Observable<Pokemon[]>;\n  public pokemons$!: Observable<Pokemon[]>;\n\n}\n"),M(3),U('<ngs-container [query$]="query$"\n               [data$]="pokemons$"\n               loaderType="text">\n    <ng-template let-pokemons>\n        <div *ngFor="let p of pokemons; trackBy: trackByValue">',"{{"," p.name }}</div>\n    </ng-template>\n</ngs-container>\n"),M(35),Ae("export type PokemonType = 'water' | 'fire' | 'electric' | 'grass' | 'bug' | 'normal' | 'poison';\n\nexport type Pokemon = BaseEntity<number> & ","{","\n    name: string;\n    type: PokemonType;\n}\n\nexport type PokemonCreationData = ","{","\n    name: string;\n    type: PokemonType;\n}\n"),M(16),Ae("export class PokemonService ","{","\n\n    private _store: NgStore&ltAppState> = inject(NgStore);\n\n    public loadPokemons(): Observable&ltPokemon[]> ","{","\n        return this._store.loadAllEntities('http://localhost:3000/pokemons-full', s => s.pokemons);\n    }\n\n}\n"),M(5),U("export class AppComponent ","{","\n\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n  public query$: Observable<Pokemon[]> = this._pokemonService.loadPokemons();\n  public data$: Observable<Pokemon[]> = this._store.selectValues<Pokemon>(s => s.pokemons).pipe(\n    map(pokemons => pokemons.sort((p1, p2) => p1.name.localeCompare(p2.name)))\n  );\n\n}\n"),M(3),U('<ngs-container [query$]="query$"\n               [data$]="data$"\n               loaderType="text">\n    <ng-template let-pokemons>\n        <div class="flex-row gap1">\n            <div class="flex-1">\n                <div *ngFor="let p of pokemons; trackBy: trackByValue">\n                    ',"{{",' p.name }}\n                </div>\n            </div>\n            <div class="flex-1">\n                <app-pokemon-add-form></app-pokemon-add-form>\n            </div>\n        </div>\n    </ng-template>\n</ngs-container>\n'),M(8),Xa("type FormData = ","{","\n  name: FormControl<string | null>;\n  type: FormControl<PokemonType | null>;\n}\n\n@Component(","{","\n  selector: 'app-pokemon-add-form',\n  templateUrl: './pokemon-add-form.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  standalone: true,\n  imports: [\n    AsyncPipe,\n    ReactiveFormsModule\n  ]\n})\nexport class PokemonAddFormComponent implements OnInit ","{","\n\n  private readonly _fb = inject(FormBuilder);\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public form!: FormGroup<FormData>;\n\n  public ngOnInit(): void ","{","\n    this.form = this._fb.group(","{","\n      'name': new FormControl<string | null>(null, Validators.required),\n      'type': new FormControl<PokemonType | null>(null, Validators.required),\n    });\n  }\n\n  public add() ","{","\n\n  }\n}\n"),M(14),U("public addPokemon(data: PokemonCreationData): Observable<Pokemon> ","{","\n    return this._store.postEntity<Pokemon>('http://localhost:3000/pokemons-full', s => s.pokemons, data);\n}\n"),M(23),zt("public add() ","{","\n  const data: PokemonCreationData = ","{","\n    name: this.form.value.name!,\n    type: this.form.value.type!\n  };\n\n  this._pokemonService\n    .addPokemon(data)\n    .subscribe(","{","\n      next: () => this.form.reset(","{"," name: null, type: null }),\n      error: err => console.log(err)\n    })\n}\n"),M(12),U("public addPokemon(data: PokemonCreationData): Observable<Pokemon> ","{","\n    return this._store\n        .postEntity<Pokemon>('http://localhost:3000/pokemons-full', s => s.pokemons, data)\n        .pipe(\n            tap(pokemon => this._store.upsertValue(s => s.pokemons, pokemon))\n        );\n}\n"),M(41),zt("public adding = false;\n\npublic add() ","{","\n  this.adding = true;\n\n  const data: PokemonCreationData = ","{","\n    name: this.form.value.name!,\n    type: this.form.value.type!\n  };\n\n  this._pokemonService\n    .addPokemon(data)\n    .pipe(finalize(() => this.adding = false))\n    .subscribe(","{","\n      next: () => this.form.reset(","{"," name: null, type: null }),\n      error: err => console.log(err)\n    })\n}\n"),M(11),zt("public adding$: Observable<boolean> = this._store.select(s => s.pokemons).pipe(map(e => e.adding));\n\npublic add() ","{","\n  const data: PokemonCreationData = ","{","\n    name: this.form.value.name!,\n    type: this.form.value.type!\n  };\n\n  this._pokemonService\n    .addPokemon(data)\n    .subscribe(","{","\n      next: () => this.form.reset(","{"," name: null, type: null }),\n      error: err => console.log(err)\n    })\n}\n"),M(22),U("export type PokemonUpsertData = ","{","\n    id: number | null;\n    name: string;\n    type: PokemonType;\n}\n"),M(14),zt("export class PokemonService ","{","\n\n    private _store: NgStore<AppState> = inject(NgStore);\n\n    public loadPokemons(): Observable<Pokemon[]> ","{","\n        return this._store.loadAllEntities('http://localhost:3000/pokemons-full', s => s.pokemons);\n    }\n\n    public loadPokemonById(id: number): Observable<Pokemon> ","{","\n        return this._store.loadEntityByKey(`http://localhost:3000/pokemons-full/$","{","id}`, s => s.pokemons, id);\n    }\n\n}\n"),M(5),U("export class AppComponent ","{","\n\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public selectedId: number | null = null;\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n  public query$: Observable<Pokemon[]> = this._pokemonService.loadPokemons();\n  public data$: Observable<Pokemon[]> = this._store.selectValues<Pokemon>(s => s.pokemons).pipe(\n    map(pokemons => pokemons.sort((p1, p2) => p1.name.localeCompare(p2.name)))\n  );\n\n}\n"),M(3),U('<ngs-container [query$]="query$"\n               [data$]="data$"\n               loaderType="text">\n    <ng-template let-pokemons>\n        <div class="flex-row gap1">\n            <div class="flex-1">\n                <div class="flex-row flex-aic gap1"\n                     *ngFor="let p of pokemons; trackBy: trackByValue">\n                    <div>',"{{",' p.name }}</div>\n                    <i class="fa fa-solid fa-edit pointer"\n                       (click)="selectedId = selectedId === p.id ? null : p.id"></i>\n                </div>\n            </div>\n            <div class="flex-1">\n                <app-pokemon-upsert-form [id]="selectedId"></app-pokemon-upsert-form>\n            </div>\n        </div>\n    </ng-template>\n</ngs-container>\n'),M(16),Ci(["type FormData = ","{","\n  id: FormControl<number | null>;\n  name: FormControl<string | null>;\n  type: FormControl<PokemonType | null>;\n}\n\nexport class PokemonUpsertFormComponent implements OnInit ","{","\n\n  @Input()\n  public set id(value: number | null) ","{","\n    this.query$ = value === null ? of(null) : this._pokemonService.loadPokemonById(value);\n    this.data$ = value === null ? of(null) : this._store.selectValueByKey(s => s.pokemons, value).pipe(filter(e => e !== null), take(1));\n  }\n\n  private readonly _fb = inject(FormBuilder);\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public form!: FormGroup<FormData>;\n\n  public busy$: Observable<boolean> = this._store.select(s => s.pokemons).pipe(map(e => e.busy));\n  public data$!: Observable<Pokemon | null>;\n  public query$!: Observable<Pokemon | null>;\n\n  public ngOnInit(): void ","{","\n    this.form = this._fb.group(","{","\n      'id': new FormControl<number | null>(null),\n      'name': new FormControl<string | null>(null, Validators.required),\n      'type': new FormControl<PokemonType | null>(null, Validators.required),\n    });\n  }\n\n  public upsert() ","{","\n    const data: PokemonUpsertData = ","{","\n      id: this.form.value.id!,\n      name: this.form.value.name!,\n      type: this.form.value.type!\n    };\n\n    this._pokemonService\n      .upsertPokemon(data)\n      .subscribe(","{","\n        next: () => this.form.value.id === null && this.reset(null),\n        error: err => console.log(err)\n      })\n  }\n\n  public reset(pokemon: Pokemon | null) ","{","\n    this.form.reset(","{","\n      id: pokemon?.id || null,\n      name: pokemon?.name || null,\n      type: pokemon?.type || null\n    })\n  }\n\n}\n"]),M(70),U('<ngs-container [query$]="query$"\n               [data$]="data$"\n               (changed)="reset($event)">\n    <ng-template let-pokemon>\n        <form [formGroup]="form"\n              (ngSubmit)="upsert()">\n            <div>\n                <label>\n                    Name: <input type="text"\n                           formControlName="name">\n                </label>\n            </div>\n            <div>\n                <label>\n                    Type: <select formControlName="type">\n                        <option value="water">Water</option>\n                        <option value="fire">Fire</option>\n                        <option value="electric">Electric</option>\n                        <option value="grass">Grass</option>\n                        <option value="bug">Bug</option>\n                        <option value="normal">Normal</option>\n                        <option value="poison">Poison</option>\n                    </select>\n                </label>\n            </div>\n            <button type="submit"\n                    [disabled]="form.valid === false || (busy$ | async) === true">\n                ',"{{"," form.value.id === null ? 'Create' : 'Update' }}\n            </button>\n        </form>\n    </ng-template>\n</ngs-container>\n"),M(41),Ae("public upsertPokemon(data: PokemonUpsertData): Observable<Pokemon> ","{","\n    const action$ = data.id === null\n        ? this._store.postEntity(`http://localhost:3000/pokemons-full`, s => s.pokemons, data)\n        : this._store.putEntityByKey<Pokemon>(`http://localhost:3000/pokemons-full/$","{","data.id}`, s => s.pokemons, data.id, data);\n\n    return action$.pipe(\n        tap(pokemon => this._store.upsertValue(s => s.pokemons, pokemon))\n    );\n}\n"),M(35),U("export type Pokemon = BaseEntity<number> & ","{","\n    name: string;\n    type: 'water' | 'fire' | 'electric' | 'grass' | 'bug' | 'normal' | 'poison';\n}\n"),M(5),zt("export class PokemonService ","{","\n\n    private _store: NgStore<AppState> = inject(NgStore);\n\n    public deletePokemon(id: number): Observable<Pokemon> ","{","\n        return this._store.deleteEntityByKey(`http://localhost:3000/pokemons-full/$","{","id}`, s => s.pokemons, id).pipe(\n            tap(pokemon => this._store.removeValuesByKeys(s => s.pokemons, id))\n        );\n    }\n\n    public loadPokemons(): Observable<Pokemon[]> ","{","\n        return this._store.loadAllEntities('http://localhost:3000/pokemons-full', s => s.pokemons);\n    }\n\n}\n"),M(33),lr("export class AppComponent ","{","\n\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public query$: Observable<Pokemon[]> = this._pokemonService.loadPokemons();\n  public pokemons$: Observable<Entity<Pokemon>[]> = this._store.selectEntities<Pokemon>(s => s.pokemons).pipe(\n    map(pokemons => pokemons.sort((p1, p2) => p1.value.name.localeCompare(p2.value.name)))\n  );\n\n  public trackByEntity: TrackByFunction<Entity<Pokemon>> = trackByEntity;\n\n  public deletePokemon(id: number) ","{","\n    this._pokemonService\n      .deletePokemon(id)\n      .subscribe(","{","\n        error: err => console.log(err)\n      })\n  }\n}\n"),M(13),U('<ngs-container [query$]="query$"\n               [data$]="pokemons$"\n               loaderType="text">\n    <ng-template let-pokemons>\n        <div class="flex-row flex-aic gap1"\n             *ngFor="let p of pokemons; trackBy: trackByEntity">\n            <div>',"{{",' p.value.name }}</div>\n            <i class="fa fa-solid fa-trash pointer"\n               (click)="deletePokemon(p.value.id)"\n               *ngIf="p.deleting === false"></i>\n            <i class="fa fa-spin fa-spinner"\n               *ngIf="p.deleting === true"></i>\n        </div>\n    </ng-template>\n</ngs-container>\n'),M(61),Ae("","{","\n  provide: NG_STORE_CONFIG,\n  useValue: ","{","\n    initialValue: initial,\n    defaultLoaderText: () => 'This might take a while...'\n  } as StoreConfiguration\n}\n"),M(5),U("provideStore(","{","\n    initialValue: initial,\n    defaultLoaderText: () => 'This might take a while...'\n})\n"),M(13),U('<ngs-container [query$]="query$"\n               [data$]="pokemons$"\n               [loaderTemplate]="loader"\n               loaderType="template">\n    <ng-template let-pokemons>\n        <div *ngFor="let p of pokemons; trackBy: trackByValue">',"{{"," p.name }}</div>\n    </ng-template>\n</ngs-container>\n\n<ng-template #loader>\n    The data are currently being fetched...\n</ng-template>\n"),M(8),U("export class LoaderComponent implements IBaseLoaderComponent ","{","\n\n  @Input()\n  public size: string = '1rem';\n\n}\n"),M(14),Ae("","{","\n  provide: NG_STORE_CONFIG,\n  useValue: ","{","\n    initialValue: initial,\n    loaderComponent: LoaderComponent\n  } as StoreConfiguration\n}\n"),M(5),U("provideStore(","{","\n    initialValue: initial,\n    loaderComponent: LoaderComponent\n})\n"),M(14),U('<ngs-container [query$]="query$"\n               [data$]="pokemons$"\n               [errorTemplate]="error">\n    <ng-template let-pokemons>\n        \n    </ng-template>\n</ngs-container>\n\n<ng-template #error let-err>\n    <div style="color:red">',"{{"," err.message }}</div>\n</ng-template>\n"),M(8),U("export class ErrorComponent implements IBaseErrorComponent ","{","}\n\n  @Input()\n  public error: any;\n\n}\n"),M(3),U('<div style="color:red">',"{{"," error.message }}</div>"),M(8),Ae("","{","\n  provide: NG_STORE_CONFIG,\n  useValue: ","{","\n    initialValue: initial,\n    errorComponent: ErrorComponent\n  } as StoreConfiguration\n},\n"),M(5),U("provideStore(","{","\n    initialValue: initial,\n    errorComponent: ErrorComponent\n})\n"),M(15),U("export class AppComponent ","{","\n\n  private readonly _pokemonService = inject(PokemonService);\n  private readonly _store: NgStore<AppState> = inject(NgStore);\n\n  public query$: Observable<Pokemon[]> = this._pokemonService.loadPokemons();\n  public pokemons$: Observable<Pokemon[]> = this._store.selectValues<Pokemon>(s => s.pokemons).pipe(\n    map(pokemons => pokemons.sort((p1, p2) => p1.name.localeCompare(p2.name)))\n  );\n\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n}\n"),M(11),Ae("export class AppComponent extends StoreComponent<AppState, Pokemon[]> implements OnInit ","{","\n\n  private readonly _pokemonService = inject(PokemonService);\n\n  public trackByValue: TrackByFunction<Pokemon> = trackByValue;\n\n  public ngOnInit() ","{","\n    this.query$ = this._pokemonService.loadPokemons();\n    this.data$ = this._store.selectValues<Pokemon>(s => s.pokemons).pipe(\n      map(pokemons => pokemons.sort((p1, p2) => p1.name.localeCompare(p2.name)))\n    );\n  }\n\n}\n"))},dependencies:[Cr],styles:[".logo[_ngcontent-%COMP%]{margin-bottom:3rem;display:flex;flex-direction:row;justify-content:center;gap:.25rem}.logo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Secular One,Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-size:5rem}.logo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5rem;height:5rem;margin-bottom:-.75rem}@media (max-width: 500px){.logo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:3rem}.logo[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3rem;height:3rem}}"]}),function sI(e,t){S0({rootComponent:e,...zg(t)})}(Ir)},668:()=>{!function(Le){Le.languages.typescript=Le.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),Le.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete Le.languages.typescript.parameter,delete Le.languages.typescript["literal-property"];var un=Le.languages.extend("typescript",{});delete un["class-name"],Le.languages.typescript["class-name"].inside=un,Le.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:un}}}}),Le.languages.ts=Le.languages.typescript}(Prism)},83:Le=>{var F=function(O){var Ce=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,$e=0,et={},k={manual:O.Prism&&O.Prism.manual,disableWorkerMessageHandler:O.Prism&&O.Prism.disableWorkerMessageHandler,util:{encode:function w(v){return v instanceof Be?new Be(v.type,w(v.content),v.alias):Array.isArray(v)?v.map(w):v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(w){return Object.prototype.toString.call(w).slice(8,-1)},objId:function(w){return w.__id||Object.defineProperty(w,"__id",{value:++$e}),w.__id},clone:function w(v,I){var T,S;switch(I=I||{},k.util.type(v)){case"Object":if(S=k.util.objId(v),I[S])return I[S];for(var L in I[S]=T={},v)v.hasOwnProperty(L)&&(T[L]=w(v[L],I));return T;case"Array":return S=k.util.objId(v),I[S]?I[S]:(I[S]=T=[],v.forEach(function(J,R){T[R]=w(J,I)}),T);default:return v}},getLanguage:function(w){for(;w;){var v=Ce.exec(w.className);if(v)return v[1].toLowerCase();w=w.parentElement}return"none"},setLanguage:function(w,v){w.className=w.className.replace(RegExp(Ce,"gi"),""),w.classList.add("language-"+v)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(T){var w=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(T.stack)||[])[1];if(w){var v=document.getElementsByTagName("script");for(var I in v)if(v[I].src==w)return v[I]}return null}},isActive:function(w,v,I){for(var T="no-"+v;w;){var S=w.classList;if(S.contains(v))return!0;if(S.contains(T))return!1;w=w.parentElement}return!!I}},languages:{plain:et,plaintext:et,text:et,txt:et,extend:function(w,v){var I=k.util.clone(k.languages[w]);for(var T in v)I[T]=v[T];return I},insertBefore:function(w,v,I,T){var S=(T=T||k.languages)[w],L={};for(var J in S)if(S.hasOwnProperty(J)){if(J==v)for(var R in I)I.hasOwnProperty(R)&&(L[R]=I[R]);I.hasOwnProperty(J)||(L[J]=S[J])}var se=T[w];return T[w]=L,k.languages.DFS(k.languages,function(we,Ot){Ot===se&&we!=w&&(this[we]=L)}),L},DFS:function w(v,I,T,S){S=S||{};var L=k.util.objId;for(var J in v)if(v.hasOwnProperty(J)){I.call(v,J,v[J],T||J);var R=v[J],se=k.util.type(R);"Object"!==se||S[L(R)]?"Array"===se&&!S[L(R)]&&(S[L(R)]=!0,w(R,I,J,S)):(S[L(R)]=!0,w(R,I,null,S))}}},plugins:{},highlightAll:function(w,v){k.highlightAllUnder(document,w,v)},highlightAllUnder:function(w,v,I){var T={callback:I,container:w,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};k.hooks.run("before-highlightall",T),T.elements=Array.prototype.slice.apply(T.container.querySelectorAll(T.selector)),k.hooks.run("before-all-elements-highlight",T);for(var L,S=0;L=T.elements[S++];)k.highlightElement(L,!0===v,T.callback)},highlightElement:function(w,v,I){var T=k.util.getLanguage(w),S=k.languages[T];k.util.setLanguage(w,T);var L=w.parentElement;L&&"pre"===L.nodeName.toLowerCase()&&k.util.setLanguage(L,T);var R={element:w,language:T,grammar:S,code:w.textContent};function se(Ot){R.highlightedCode=Ot,k.hooks.run("before-insert",R),R.element.innerHTML=R.highlightedCode,k.hooks.run("after-highlight",R),k.hooks.run("complete",R),I&&I.call(R.element)}if(k.hooks.run("before-sanity-check",R),(L=R.element.parentElement)&&"pre"===L.nodeName.toLowerCase()&&!L.hasAttribute("tabindex")&&L.setAttribute("tabindex","0"),!R.code)return k.hooks.run("complete",R),void(I&&I.call(R.element));if(k.hooks.run("before-highlight",R),R.grammar)if(v&&O.Worker){var we=new Worker(k.filename);we.onmessage=function(Ot){se(Ot.data)},we.postMessage(JSON.stringify({language:R.language,code:R.code,immediateClose:!0}))}else se(k.highlight(R.code,R.grammar,R.language));else se(k.util.encode(R.code))},highlight:function(w,v,I){var T={code:w,grammar:v,language:I};if(k.hooks.run("before-tokenize",T),!T.grammar)throw new Error('The language "'+T.language+'" has no grammar.');return T.tokens=k.tokenize(T.code,T.grammar),k.hooks.run("after-tokenize",T),Be.stringify(k.util.encode(T.tokens),T.language)},tokenize:function(w,v){var I=v.rest;if(I){for(var T in I)v[T]=I[T];delete v.rest}var S=new it;return Et(S,S.head,w),_n(w,S,v,S.head,0),function En(w){for(var v=[],I=w.head.next;I!==w.tail;)v.push(I.value),I=I.next;return v}(S)},hooks:{all:{},add:function(w,v){var I=k.hooks.all;I[w]=I[w]||[],I[w].push(v)},run:function(w,v){var I=k.hooks.all[w];if(I&&I.length)for(var S,T=0;S=I[T++];)S(v)}},Token:Be};function Be(w,v,I,T){this.type=w,this.content=v,this.alias=I,this.length=0|(T||"").length}function cn(w,v,I,T){w.lastIndex=v;var S=w.exec(I);if(S&&T&&S[1]){var L=S[1].length;S.index+=L,S[0]=S[0].slice(L)}return S}function _n(w,v,I,T,S,L){for(var J in I)if(I.hasOwnProperty(J)&&I[J]){var R=I[J];R=Array.isArray(R)?R:[R];for(var se=0;se<R.length;++se){if(L&&L.cause==J+","+se)return;var we=R[se],Ot=we.inside,$n=!!we.lookbehind,Sr=!!we.greedy,xo=we.alias;if(Sr&&!we.pattern.global){var Po=we.pattern.toString().match(/[imsuy]*$/)[0];we.pattern=RegExp(we.pattern.source,Po+"g")}for(var Qi=we.pattern||we,Pe=T.next,de=S;Pe!==v.tail&&!(L&&de>=L.reach);de+=Pe.value.length,Pe=Pe.next){var qt=Pe.value;if(v.length>w.length)return;if(!(qt instanceof Be)){var st,Hn=1;if(Sr){if(!(st=cn(Qi,de,w,$n))||st.index>=w.length)break;var Un=st.index,Ji=st.index+st[0].length,ht=de;for(ht+=Pe.value.length;Un>=ht;)ht+=(Pe=Pe.next).value.length;if(de=ht-=Pe.value.length,Pe.value instanceof Be)continue;for(var dn=Pe;dn!==v.tail&&(ht<Ji||"string"==typeof dn.value);dn=dn.next)Hn++,ht+=dn.value.length;Hn--,qt=w.slice(de,ht),st.index-=de}else if(!(st=cn(Qi,0,qt,$n)))continue;var Ct=st[0],Wt=qt.slice(0,Un=st.index),Tr=qt.slice(Un+Ct.length),Cn=de+qt.length;L&&Cn>L.reach&&(L.reach=Cn);var fn=Pe.prev;if(Wt&&(fn=Et(v,fn,Wt),de+=Wt.length),Vn(v,fn,Hn),Pe=Et(v,fn,new Be(J,Ot?k.tokenize(Ct,Ot):Ct,xo,Ct)),Tr&&Et(v,Pe,Tr),Hn>1){var zn={cause:J+","+se,reach:Cn};_n(w,v,I,Pe.prev,de,zn),L&&zn.reach>L.reach&&(L.reach=zn.reach)}}}}}}function it(){var w={value:null,prev:null,next:null},v={value:null,prev:w,next:null};w.next=v,this.head=w,this.tail=v,this.length=0}function Et(w,v,I){var T=v.next,S={value:I,prev:v,next:T};return v.next=S,T.prev=S,w.length++,S}function Vn(w,v,I){for(var T=v.next,S=0;S<I&&T!==w.tail;S++)T=T.next;v.next=T,T.prev=v,w.length-=S}if(O.Prism=k,Be.stringify=function w(v,I){if("string"==typeof v)return v;if(Array.isArray(v)){var T="";return v.forEach(function(se){T+=w(se,I)}),T}var S={type:v.type,content:w(v.content,I),tag:"span",classes:["token",v.type],attributes:{},language:I},L=v.alias;L&&(Array.isArray(L)?Array.prototype.push.apply(S.classes,L):S.classes.push(L)),k.hooks.run("wrap",S);var J="";for(var R in S.attributes)J+=" "+R+'="'+(S.attributes[R]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+J+">"+S.content+"</"+S.tag+">"},!O.document)return O.addEventListener&&(k.disableWorkerMessageHandler||O.addEventListener("message",function(w){var v=JSON.parse(w.data),I=v.language,S=v.immediateClose;O.postMessage(k.highlight(v.code,k.languages[I],I)),S&&O.close()},!1)),k;var Ie=k.util.currentScript();function ae(){k.manual||k.highlightAll()}if(Ie&&(k.filename=Ie.src,Ie.hasAttribute("data-manual")&&(k.manual=!0)),!k.manual){var Se=document.readyState;"loading"===Se||"interactive"===Se&&Ie&&Ie.defer?document.addEventListener("DOMContentLoaded",ae):window.requestAnimationFrame?window.requestAnimationFrame(ae):window.setTimeout(ae,16)}return k}(typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{});Le.exports&&(Le.exports=F),typeof global<"u"&&(global.Prism=F),F.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},F.languages.markup.tag.inside["attr-value"].inside.entity=F.languages.markup.entity,F.languages.markup.doctype.inside["internal-subset"].inside=F.languages.markup,F.hooks.add("wrap",function(O){"entity"===O.type&&(O.attributes.title=O.content.replace(/&amp;/,"&"))}),Object.defineProperty(F.languages.markup.tag,"addInlined",{value:function(Ce,$e){var et={};et["language-"+$e]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:F.languages[$e]},et.cdata=/^<!\[CDATA\[|\]\]>$/i;var k={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:et}};k["language-"+$e]={pattern:/[\s\S]+/,inside:F.languages[$e]};var Be={};Be[Ce]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return Ce}),"i"),lookbehind:!0,greedy:!0,inside:k},F.languages.insertBefore("markup","cdata",Be)}}),Object.defineProperty(F.languages.markup.tag,"addAttribute",{value:function(O,Ce){F.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+O+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[Ce,"language-"+Ce],inside:F.languages[Ce]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),F.languages.html=F.languages.markup,F.languages.mathml=F.languages.markup,F.languages.svg=F.languages.markup,F.languages.xml=F.languages.extend("markup",{}),F.languages.ssml=F.languages.xml,F.languages.atom=F.languages.xml,F.languages.rss=F.languages.xml,function(O){var Ce=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;O.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+Ce.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+Ce.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+Ce.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+Ce.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:Ce,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},O.languages.css.atrule.inside.rest=O.languages.css;var $e=O.languages.markup;$e&&($e.tag.addInlined("style","css"),$e.tag.addAttribute("style","css"))}(F),F.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},F.languages.javascript=F.languages.extend("clike",{"class-name":[F.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),F.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,F.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:F.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:F.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:F.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:F.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:F.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),F.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:F.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),F.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),F.languages.markup&&(F.languages.markup.tag.addInlined("script","javascript"),F.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),F.languages.js=F.languages.javascript,function(){if(!(typeof F>"u"||typeof document>"u")){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var et={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},k="data-src-status",Be="loading",it="pre[data-src]:not(["+k+'="loaded"]):not(['+k+'="'+Be+'"])';F.hooks.add("before-highlightall",function(Ie){Ie.selector+=", "+it}),F.hooks.add("before-sanity-check",function(Ie){var ae=Ie.element;if(ae.matches(it)){Ie.code="",ae.setAttribute(k,Be);var Se=ae.appendChild(document.createElement("CODE"));Se.textContent="Loading\u2026";var w=ae.getAttribute("data-src"),v=Ie.language;if("none"===v){var I=(/\.(\w+)$/.exec(w)||[,"none"])[1];v=et[I]||I}F.util.setLanguage(Se,v),F.util.setLanguage(ae,v);var T=F.plugins.autoloader;T&&T.loadLanguages(v),function Et(Ie,ae,Se){var w=new XMLHttpRequest;w.open("GET",Ie,!0),w.onreadystatechange=function(){4==w.readyState&&(w.status<400&&w.responseText?ae(w.responseText):Se(w.status>=400?function(Ie,ae){return"\u2716 Error "+Ie+" while fetching file: "+ae}(w.status,w.statusText):"\u2716 Error: File does not exist or is empty"))},w.send(null)}(w,function(S){ae.setAttribute(k,"loaded");var L=function Vn(Ie){var ae=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(Ie||"");if(ae){var Se=Number(ae[1]),v=ae[3];return ae[2]?v?[Se,Number(v)]:[Se,void 0]:[Se,Se]}}(ae.getAttribute("data-range"));if(L){var J=S.split(/\r\n?|\n/g),R=L[0],se=null==L[1]?J.length:L[1];R<0&&(R+=J.length),R=Math.max(0,Math.min(R-1,J.length)),se<0&&(se+=J.length),se=Math.max(0,Math.min(se,J.length)),S=J.slice(R,se).join("\n"),ae.hasAttribute("data-start")||ae.setAttribute("data-start",String(R+1))}Se.textContent=S,F.highlightElement(Se)},function(S){ae.setAttribute(k,"failed"),Se.textContent=S})}}),F.plugins.fileHighlight={highlight:function(ae){for(var v,Se=(ae||document).querySelectorAll(it),w=0;v=Se[w++];)F.highlightElement(v)}};var En=!1;F.fileHighlight=function(){En||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),En=!0),F.plugins.fileHighlight.highlight.apply(this,arguments)}}}()}},Le=>{Le(Le.s=661)}]);